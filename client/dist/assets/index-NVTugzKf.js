(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var x0={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function s6(){if(yI)return Qe;yI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function y(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function b(B,G,ue){this.props=B,this.context=G,this.refs=E,this.updater=ue||_}b.prototype.isReactComponent={},b.prototype.setState=function(B,G){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,G,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function C(){}C.prototype=b.prototype;function k(B,G,ue){this.props=B,this.context=G,this.refs=E,this.updater=ue||_}var A=k.prototype=new C;A.constructor=k,x(A,b.prototype),A.isPureReactComponent=!0;var L=Array.isArray,I=Object.prototype.hasOwnProperty,N={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function O(B,G,ue){var be,Ae={},Le=null,Ge=null;if(G!=null)for(be in G.ref!==void 0&&(Ge=G.ref),G.key!==void 0&&(Le=""+G.key),G)I.call(G,be)&&!P.hasOwnProperty(be)&&(Ae[be]=G[be]);var Fe=arguments.length-2;if(Fe===1)Ae.children=ue;else if(1<Fe){for(var de=Array(Fe),Pe=0;Pe<Fe;Pe++)de[Pe]=arguments[Pe+2];Ae.children=de}if(B&&B.defaultProps)for(be in Fe=B.defaultProps,Fe)Ae[be]===void 0&&(Ae[be]=Fe[be]);return{$$typeof:t,type:B,key:Le,ref:Ge,props:Ae,_owner:N.current}}function M(B,G){return{$$typeof:t,type:B.type,key:G,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function D(B){var G={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return G[ue]})}var V=/\/+/g;function j(B,G){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):G.toString(36)}function K(B,G,ue,be,Ae){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var Ge=!1;if(B===null)Ge=!0;else switch(Le){case"string":case"number":Ge=!0;break;case"object":switch(B.$$typeof){case t:case e:Ge=!0}}if(Ge)return Ge=B,Ae=Ae(Ge),B=be===""?"."+j(Ge,0):be,L(Ae)?(ue="",B!=null&&(ue=B.replace(V,"$&/")+"/"),K(Ae,G,ue,"",function(Pe){return Pe})):Ae!=null&&(F(Ae)&&(Ae=M(Ae,ue+(!Ae.key||Ge&&Ge.key===Ae.key?"":(""+Ae.key).replace(V,"$&/")+"/")+B)),G.push(Ae)),1;if(Ge=0,be=be===""?".":be+":",L(B))for(var Fe=0;Fe<B.length;Fe++){Le=B[Fe];var de=be+j(Le,Fe);Ge+=K(Le,G,ue,de,Ae)}else if(de=y(B),typeof de=="function")for(B=de.call(B),Fe=0;!(Le=B.next()).done;)Le=Le.value,de=be+j(Le,Fe++),Ge+=K(Le,G,ue,de,Ae);else if(Le==="object")throw G=String(B),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Ge}function J(B,G,ue){if(B==null)return B;var be=[],Ae=0;return K(B,be,"","",function(Le){return G.call(ue,Le,Ae++)}),be}function ie(B){if(B._status===-1){var G=B._result;G=G(),G.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=G)}if(B._status===1)return B._result.default;throw B._result}var re={current:null},Q={transition:null},ee={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:Q,ReactCurrentOwner:N};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:J,forEach:function(B,G,ue){J(B,function(){G.apply(this,arguments)},ue)},count:function(B){var G=0;return J(B,function(){G++}),G},toArray:function(B){return J(B,function(G){return G})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Qe.Component=b,Qe.Fragment=n,Qe.Profiler=i,Qe.PureComponent=k,Qe.StrictMode=r,Qe.Suspense=c,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Qe.act=ae,Qe.cloneElement=function(B,G,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var be=x({},B.props),Ae=B.key,Le=B.ref,Ge=B._owner;if(G!=null){if(G.ref!==void 0&&(Le=G.ref,Ge=N.current),G.key!==void 0&&(Ae=""+G.key),B.type&&B.type.defaultProps)var Fe=B.type.defaultProps;for(de in G)I.call(G,de)&&!P.hasOwnProperty(de)&&(be[de]=G[de]===void 0&&Fe!==void 0?Fe[de]:G[de])}var de=arguments.length-2;if(de===1)be.children=ue;else if(1<de){Fe=Array(de);for(var Pe=0;Pe<de;Pe++)Fe[Pe]=arguments[Pe+2];be.children=Fe}return{$$typeof:t,type:B.type,key:Ae,ref:Le,props:be,_owner:Ge}},Qe.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},Qe.createElement=O,Qe.createFactory=function(B){var G=O.bind(null,B);return G.type=B,G},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(B){return{$$typeof:u,render:B}},Qe.isValidElement=F,Qe.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:ie}},Qe.memo=function(B,G){return{$$typeof:f,type:B,compare:G===void 0?null:G}},Qe.startTransition=function(B){var G=Q.transition;Q.transition={};try{B()}finally{Q.transition=G}},Qe.unstable_act=ae,Qe.useCallback=function(B,G){return re.current.useCallback(B,G)},Qe.useContext=function(B){return re.current.useContext(B)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(B){return re.current.useDeferredValue(B)},Qe.useEffect=function(B,G){return re.current.useEffect(B,G)},Qe.useId=function(){return re.current.useId()},Qe.useImperativeHandle=function(B,G,ue){return re.current.useImperativeHandle(B,G,ue)},Qe.useInsertionEffect=function(B,G){return re.current.useInsertionEffect(B,G)},Qe.useLayoutEffect=function(B,G){return re.current.useLayoutEffect(B,G)},Qe.useMemo=function(B,G){return re.current.useMemo(B,G)},Qe.useReducer=function(B,G,ue){return re.current.useReducer(B,G,ue)},Qe.useRef=function(B){return re.current.useRef(B)},Qe.useState=function(B){return re.current.useState(B)},Qe.useSyncExternalStore=function(B,G,ue){return re.current.useSyncExternalStore(B,G,ue)},Qe.useTransition=function(){return re.current.useTransition()},Qe.version="18.3.1",Qe}var vI;function gL(){return vI||(vI=1,x0.exports=s6()),x0.exports}var z=gL();const v=ht(z);var Op={},T0={exports:{}},dr={},S0={exports:{}},A0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function l6(){return _I||(_I=1,function(t){function e(Q,ee){var ae=Q.length;Q.push(ee);e:for(;0<ae;){var B=ae-1>>>1,G=Q[B];if(0<i(G,ee))Q[B]=ee,Q[ae]=G,ae=B;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ee=Q[0],ae=Q.pop();if(ae!==ee){Q[0]=ae;e:for(var B=0,G=Q.length,ue=G>>>1;B<ue;){var be=2*(B+1)-1,Ae=Q[be],Le=be+1,Ge=Q[Le];if(0>i(Ae,ae))Le<G&&0>i(Ge,Ae)?(Q[B]=Ge,Q[Le]=ae,B=Le):(Q[B]=Ae,Q[be]=ae,B=be);else if(Le<G&&0>i(Ge,ae))Q[B]=Ge,Q[Le]=ae,B=Le;else break e}}return ee}function i(Q,ee){var ae=Q.sortIndex-ee.sortIndex;return ae!==0?ae:Q.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var c=[],f=[],d=1,p=null,y=3,_=!1,x=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Q){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=Q)r(f),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(f)}}function L(Q){if(E=!1,A(Q),!x)if(n(c)!==null)x=!0,ie(I);else{var ee=n(f);ee!==null&&re(L,ee.startTime-Q)}}function I(Q,ee){x=!1,E&&(E=!1,C(O),O=-1),_=!0;var ae=y;try{for(A(ee),p=n(c);p!==null&&(!(p.expirationTime>ee)||Q&&!D());){var B=p.callback;if(typeof B=="function"){p.callback=null,y=p.priorityLevel;var G=B(p.expirationTime<=ee);ee=t.unstable_now(),typeof G=="function"?p.callback=G:p===n(c)&&r(c),A(ee)}else r(c);p=n(c)}if(p!==null)var ue=!0;else{var be=n(f);be!==null&&re(L,be.startTime-ee),ue=!1}return ue}finally{p=null,y=ae,_=!1}}var N=!1,P=null,O=-1,M=5,F=-1;function D(){return!(t.unstable_now()-F<M)}function V(){if(P!==null){var Q=t.unstable_now();F=Q;var ee=!0;try{ee=P(!0,Q)}finally{ee?j():(N=!1,P=null)}}else N=!1}var j;if(typeof k=="function")j=function(){k(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=V,j=function(){J.postMessage(null)}}else j=function(){b(V,0)};function ie(Q){P=Q,N||(N=!0,j())}function re(Q,ee){O=b(function(){Q(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,ie(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var ae=y;y=ee;try{return Q()}finally{y=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,ee){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ae=y;y=Q;try{return ee()}finally{y=ae}},t.unstable_scheduleCallback=function(Q,ee,ae){var B=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ae+G,Q={id:d++,callback:ee,priorityLevel:Q,startTime:ae,expirationTime:G,sortIndex:-1},ae>B?(Q.sortIndex=ae,e(f,Q),n(c)===null&&Q===n(f)&&(E?(C(O),O=-1):E=!0,re(L,ae-B))):(Q.sortIndex=G,e(c,Q),x||_||(x=!0,ie(I))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var ee=y;return function(){var ae=y;y=ee;try{return Q.apply(this,arguments)}finally{y=ae}}}}(A0)),A0}var bI;function u6(){return bI||(bI=1,S0.exports=l6()),S0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function c6(){if(wI)return dr;wI=1;var t=gL(),e=u6();function n(s){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+s,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,l){o(s,l),o(s+"Capture",l)}function o(s,l){for(i[s]=l,s=0;s<l.length;s++)r.add(l[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function y(s){return c.call(p,s)?!0:c.call(d,s)?!1:f.test(s)?p[s]=!0:(d[s]=!0,!1)}function _(s,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function x(s,l,h,g){if(l===null||typeof l>"u"||_(s,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function E(s,l,h,g,w,S,$){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=h,this.propertyName=s,this.type=l,this.sanitizeURL=S,this.removeEmptyString=$}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var l=s[0];b[l]=new E(l,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var l=s.replace(C,k);b[l]=new E(l,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var l=s.replace(C,k);b[l]=new E(l,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var l=s.replace(C,k);b[l]=new E(l,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function A(s,l,h,g){var w=b.hasOwnProperty(l)?b[l]:null;(w!==null?w.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,h,w,g)&&(h=null),g||w===null?y(l)&&(h===null?s.removeAttribute(l):s.setAttribute(l,""+h)):w.mustUseProperty?s[w.propertyName]=h===null?w.type===3?!1:"":h:(l=w.attributeName,g=w.attributeNamespace,h===null?s.removeAttribute(l):(w=w.type,h=w===3||w===4&&h===!0?"":""+h,g?s.setAttributeNS(g,l,h):s.setAttribute(l,h))))}var L=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),N=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=Q&&s[Q]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,B;function G(s){if(B===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);B=l&&l[1]||""}return`
`+B+s}var ue=!1;function be(s,l){if(!s||ue)return"";ue=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(te){var g=te}Reflect.construct(s,[],l)}else{try{l.call()}catch(te){g=te}s.call(l.prototype)}else{try{throw Error()}catch(te){g=te}s()}}catch(te){if(te&&g&&typeof te.stack=="string"){for(var w=te.stack.split(`
`),S=g.stack.split(`
`),$=w.length-1,q=S.length-1;1<=$&&0<=q&&w[$]!==S[q];)q--;for(;1<=$&&0<=q;$--,q--)if(w[$]!==S[q]){if($!==1||q!==1)do if($--,q--,0>q||w[$]!==S[q]){var H=`
`+w[$].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=$&&0<=q);break}}}finally{ue=!1,Error.prepareStackTrace=h}return(s=s?s.displayName||s.name:"")?G(s):""}function Ae(s){switch(s.tag){case 5:return G(s.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return s=be(s.type,!1),s;case 11:return s=be(s.type.render,!1),s;case 1:return s=be(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case N:return"Portal";case M:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case K:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case V:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case J:return l=s.displayName||null,l!==null?l:Le(s.type)||"Memo";case ie:l=s._payload,s=s._init;try{return Le(s(l))}catch{}}return null}function Ge(s){var l=s.type;switch(s.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=l.render,s=s.displayName||s.name||"",l.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(l);case 8:return l===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function de(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Pe(s){var l=de(s)?"checked":"value",h=Object.getOwnPropertyDescriptor(s.constructor.prototype,l),g=""+s[l];if(!s.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,S=h.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return w.call(this)},set:function($){g=""+$,S.call(this,$)}}),Object.defineProperty(s,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function($){g=""+$},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function De(s){s._valueTracker||(s._valueTracker=Pe(s))}function ce(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return s&&(g=de(s)?s.checked?"true":"false":s.value),s=g,s!==h?(l.setValue(s),!0):!1}function ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ke(s,l){var h=l.checked;return ae({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??s._wrapperState.initialChecked})}function Ke(s,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Fe(l.value!=null?l.value:h),s._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function We(s,l){l=l.checked,l!=null&&A(s,"checked",l,!1)}function lt(s,l){We(s,l);var h=Fe(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&s.value===""||s.value!=h)&&(s.value=""+h):s.value!==""+h&&(s.value=""+h);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}l.hasOwnProperty("value")?xn(s,l.type,h):l.hasOwnProperty("defaultValue")&&xn(s,l.type,Fe(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(s.defaultChecked=!!l.defaultChecked)}function Ft(s,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+s._wrapperState.initialValue,h||l===s.value||(s.value=l),s.defaultValue=l}h=s.name,h!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,h!==""&&(s.name=h)}function xn(s,l,h){(l!=="number"||ye(s.ownerDocument)!==s)&&(h==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+h&&(s.defaultValue=""+h))}var Tn=Array.isArray;function tn(s,l,h,g){if(s=s.options,l){l={};for(var w=0;w<h.length;w++)l["$"+h[w]]=!0;for(h=0;h<s.length;h++)w=l.hasOwnProperty("$"+s[h].value),s[h].selected!==w&&(s[h].selected=w),w&&g&&(s[h].defaultSelected=!0)}else{for(h=""+Fe(h),l=null,w=0;w<s.length;w++){if(s[w].value===h){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}l!==null||s[w].disabled||(l=s[w])}l!==null&&(l.selected=!0)}}function Gn(s,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},l,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Lr(s,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(Tn(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}s._wrapperState={initialValue:Fe(h)}}function aa(s,l){var h=Fe(l.value),g=Fe(l.defaultValue);h!=null&&(h=""+h,h!==s.value&&(s.value=h),l.defaultValue==null&&s.defaultValue!==h&&(s.defaultValue=h)),g!=null&&(s.defaultValue=""+g)}function Xa(s){var l=s.textContent;l===s._wrapperState.initialValue&&l!==""&&l!==null&&(s.value=l)}function nn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rn(s,l){return s==null||s==="http://www.w3.org/1999/xhtml"?nn(l):s==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var oa,Ec=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,w){MSApp.execUnsafeLocalFunction(function(){return s(l,h,g,w)})}:s}(function(s,l){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=l;else{for(oa=oa||document.createElement("div"),oa.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=oa.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}});function Qa(s,l){if(l){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=l;return}}s.textContent=l}var Zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},es=["Webkit","ms","Moz","O"];Object.keys(Zo).forEach(function(s){es.forEach(function(l){l=l+s.charAt(0).toUpperCase()+s.substring(1),Zo[l]=Zo[s]})});function xc(s,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||Zo.hasOwnProperty(s)&&Zo[s]?(""+l).trim():l+"px"}function Tc(s,l){s=s.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,w=xc(h,l[h],g);h==="float"&&(h="cssFloat"),g?s.setProperty(h,w):s[h]=w}}var Sc=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ac(s,l){if(l){if(Sc[s]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Pc(s,l){if(s.indexOf("-")===-1)return typeof l.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function yl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var vl=null,jr=null,Ri=null;function _l(s){if(s=Yc(s)){if(typeof vl!="function")throw Error(n(280));var l=s.stateNode;l&&(l=Bd(l),vl(s.stateNode,s.type,l))}}function Ni(s){jr?Ri?Ri.push(s):Ri=[s]:jr=s}function Ic(){if(jr){var s=jr,l=Ri;if(Ri=jr=null,_l(s),l)for(s=0;s<l.length;s++)_l(l[s])}}function ns(s,l){return s(l)}function Oc(){}var sa=!1;function kc(s,l,h){if(sa)return s(l,h);sa=!0;try{return ns(s,l,h)}finally{sa=!1,(jr!==null||Ri!==null)&&(Oc(),Ic())}}function Wt(s,l){var h=s.stateNode;if(h===null)return null;var g=Bd(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var bl=!1;if(u)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){bl=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{bl=!1}function rs(s,l,h,g,w,S,$,q,H){var te=Array.prototype.slice.call(arguments,3);try{l.apply(h,te)}catch(he){this.onError(he)}}var is=!1,wl=null,oi=!1,Cc=null,Yy={onError:function(s){is=!0,wl=s}};function El(s,l,h,g,w,S,$,q,H){is=!1,wl=null,rs.apply(Yy,arguments)}function pd(s,l,h,g,w,S,$,q,H){if(El.apply(this,arguments),is){if(is){var te=wl;is=!1,wl=null}else throw Error(n(198));oi||(oi=!0,Cc=te)}}function si(s){var l=s,h=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(h=l.return),s=l.return;while(s)}return l.tag===3?h:null}function as(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function li(s){if(si(s)!==s)throw Error(n(188))}function md(s){var l=s.alternate;if(!l){if(l=si(s),l===null)throw Error(n(188));return l!==s?null:s}for(var h=s,g=l;;){var w=h.return;if(w===null)break;var S=w.alternate;if(S===null){if(g=w.return,g!==null){h=g;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===h)return li(w),s;if(S===g)return li(w),l;S=S.sibling}throw Error(n(188))}if(h.return!==g.return)h=w,g=S;else{for(var $=!1,q=w.child;q;){if(q===h){$=!0,h=w,g=S;break}if(q===g){$=!0,g=w,h=S;break}q=q.sibling}if(!$){for(q=S.child;q;){if(q===h){$=!0,h=S,g=w;break}if(q===g){$=!0,g=S,h=w;break}q=q.sibling}if(!$)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:l}function Rc(s){return s=md(s),s!==null?xl(s):null}function xl(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var l=xl(s);if(l!==null)return l;s=s.sibling}return null}var Tl=e.unstable_scheduleCallback,Nc=e.unstable_cancelCallback,gd=e.unstable_shouldYield,Jy=e.unstable_requestPaint,xt=e.unstable_now,yd=e.unstable_getCurrentPriorityLevel,os=e.unstable_ImmediatePriority,Ya=e.unstable_UserBlockingPriority,$r=e.unstable_NormalPriority,Mc=e.unstable_LowPriority,vd=e.unstable_IdlePriority,ss=null,Er=null;function _d(s){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(ss,s,void 0,(s.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:wd,Dc=Math.log,bd=Math.LN2;function wd(s){return s>>>=0,s===0?32:31-(Dc(s)/bd|0)|0}var Sl=64,Al=4194304;function Ja(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ls(s,l){var h=s.pendingLanes;if(h===0)return 0;var g=0,w=s.suspendedLanes,S=s.pingedLanes,$=h&268435455;if($!==0){var q=$&~w;q!==0?g=Ja(q):(S&=$,S!==0&&(g=Ja(S)))}else $=h&~w,$!==0?g=Ja($):S!==0&&(g=Ja(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&w)===0&&(w=g&-g,S=l&-l,w>=S||w===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=s.entangledLanes,l!==0)for(s=s.entanglements,l&=g;0<l;)h=31-Kn(l),w=1<<h,g|=s[h],l&=~w;return g}function Zy(s,l){switch(s){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(s,l){for(var h=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,S=s.pendingLanes;0<S;){var $=31-Kn(S),q=1<<$,H=w[$];H===-1?((q&h)===0||(q&g)!==0)&&(w[$]=Zy(q,l)):H<=l&&(s.expiredLanes|=q),S&=~q}}function xr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function us(){var s=Sl;return Sl<<=1,(Sl&4194240)===0&&(Sl=64),s}function Za(s){for(var l=[],h=0;31>h;h++)l.push(s);return l}function eo(s,l,h){s.pendingLanes|=l,l!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,l=31-Kn(l),s[l]=h}function _t(s,l){var h=s.pendingLanes&~l;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=l,s.mutableReadLanes&=l,s.entangledLanes&=l,l=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<h;){var w=31-Kn(h),S=1<<w;l[w]=0,g[w]=-1,s[w]=-1,h&=~S}}function to(s,l){var h=s.entangledLanes|=l;for(s=s.entanglements;h;){var g=31-Kn(h),w=1<<g;w&l|s[g]&l&&(s[g]|=l),h&=~w}}var nt=0;function no(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ed,Pl,xd,Td,Sd,Lc=!1,Mi=[],Sn=null,ui=null,ci=null,ro=new Map,Vr=new Map,Di=[],ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ad(s,l){switch(s){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":ui=null;break;case"mouseover":case"mouseout":ci=null;break;case"pointerover":case"pointerout":ro.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(l.pointerId)}}function or(s,l,h,g,w,S){return s===null||s.nativeEvent!==S?(s={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[w]},l!==null&&(l=Yc(l),l!==null&&Pl(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,w!==null&&l.indexOf(w)===-1&&l.push(w),s)}function tv(s,l,h,g,w){switch(l){case"focusin":return Sn=or(Sn,s,l,h,g,w),!0;case"dragenter":return ui=or(ui,s,l,h,g,w),!0;case"mouseover":return ci=or(ci,s,l,h,g,w),!0;case"pointerover":var S=w.pointerId;return ro.set(S,or(ro.get(S)||null,s,l,h,g,w)),!0;case"gotpointercapture":return S=w.pointerId,Vr.set(S,or(Vr.get(S)||null,s,l,h,g,w)),!0}return!1}function Pd(s){var l=ps(s.target);if(l!==null){var h=si(l);if(h!==null){if(l=h.tag,l===13){if(l=as(h),l!==null){s.blockedOn=l,Sd(s.priority,function(){xd(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ua(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var h=Il(s.domEventName,s.eventSystemFlags,l[0],s.nativeEvent);if(h===null){h=s.nativeEvent;var g=new h.constructor(h.type,h);ts=g,h.target.dispatchEvent(g),ts=null}else return l=Yc(h),l!==null&&Pl(l),s.blockedOn=h,!1;l.shift()}return!0}function cs(s,l,h){ua(s)&&h.delete(l)}function Id(){Lc=!1,Sn!==null&&ua(Sn)&&(Sn=null),ui!==null&&ua(ui)&&(ui=null),ci!==null&&ua(ci)&&(ci=null),ro.forEach(cs),Vr.forEach(cs)}function fi(s,l){s.blockedOn===l&&(s.blockedOn=null,Lc||(Lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Id)))}function hi(s){function l(w){return fi(w,s)}if(0<Mi.length){fi(Mi[0],s);for(var h=1;h<Mi.length;h++){var g=Mi[h];g.blockedOn===s&&(g.blockedOn=null)}}for(Sn!==null&&fi(Sn,s),ui!==null&&fi(ui,s),ci!==null&&fi(ci,s),ro.forEach(l),Vr.forEach(l),h=0;h<Di.length;h++)g=Di[h],g.blockedOn===s&&(g.blockedOn=null);for(;0<Di.length&&(h=Di[0],h.blockedOn===null);)Pd(h),h.blockedOn===null&&Di.shift()}var ca=L.ReactCurrentBatchConfig,io=!0;function Nt(s,l,h,g){var w=nt,S=ca.transition;ca.transition=null;try{nt=1,jc(s,l,h,g)}finally{nt=w,ca.transition=S}}function nv(s,l,h,g){var w=nt,S=ca.transition;ca.transition=null;try{nt=4,jc(s,l,h,g)}finally{nt=w,ca.transition=S}}function jc(s,l,h,g){if(io){var w=Il(s,l,h,g);if(w===null)dv(s,l,g,fs,h),Ad(s,g);else if(tv(w,s,l,h,g))g.stopPropagation();else if(Ad(s,g),l&4&&-1<ev.indexOf(s)){for(;w!==null;){var S=Yc(w);if(S!==null&&Ed(S),S=Il(s,l,h,g),S===null&&dv(s,l,g,fs,h),S===w)break;w=S}w!==null&&g.stopPropagation()}else dv(s,l,g,null,h)}}var fs=null;function Il(s,l,h,g){if(fs=null,s=yl(g),s=ps(s),s!==null)if(l=si(s),l===null)s=null;else if(h=l.tag,h===13){if(s=as(l),s!==null)return s;s=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null);return fs=s,null}function $c(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yd()){case os:return 1;case Ya:return 4;case $r:case Mc:return 16;case vd:return 536870912;default:return 16}default:return 16}}var Tr=null,Ol=null,sr=null;function Vc(){if(sr)return sr;var s,l=Ol,h=l.length,g,w="value"in Tr?Tr.value:Tr.textContent,S=w.length;for(s=0;s<h&&l[s]===w[s];s++);var $=h-s;for(g=1;g<=$&&l[h-g]===w[S-g];g++);return sr=w.slice(s,1<g?1-g:void 0)}function kl(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Li(){return!0}function Fc(){return!1}function An(s){function l(h,g,w,S,$){this._reactName=h,this._targetInst=w,this.type=g,this.nativeEvent=S,this.target=$,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(h=s[q],this[q]=h?h(S):S[q]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Li:Fc,this.isPropagationStopped=Fc,this}return ae(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),l}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=An(di),ji=ae({},di,{view:0,detail:0}),rv=An(ji),Rl,fa,ao,hs=ae({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ao&&(ao&&s.type==="mousemove"?(Rl=s.screenX-ao.screenX,fa=s.screenY-ao.screenY):fa=Rl=0,ao=s),Rl)},movementY:function(s){return"movementY"in s?s.movementY:fa}}),Nl=An(hs),Uc=ae({},hs,{dataTransfer:0}),Od=An(Uc),Ml=ae({},ji,{relatedTarget:0}),Dl=An(Ml),kd=ae({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=An(kd),Cd=ae({},di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rd=An(Cd),Nd=ae({},di,{data:0}),qc=An(Nd),Ll={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dd(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=Md[s])?!!l[s]:!1}function $i(){return Dd}var m=ae({},ji,{key:function(s){if(s.key){var l=Ll[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=kl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(s){return s.type==="keypress"?kl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?kl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),T=An(m),R=ae({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U=An(R),X=ae({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),ne=An(X),ve=ae({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=An(ve),an=ae({},hs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rt=An(an),pn=[9,13,27,32],Xt=u&&"CompositionEvent"in window,Fr=null;u&&"documentMode"in document&&(Fr=document.documentMode);var Sr=u&&"TextEvent"in window&&!Fr,ds=u&&(!Xt||Fr&&8<Fr&&11>=Fr),jl=" ",fA=!1;function hA(s,l){switch(s){case"keyup":return pn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dA(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $l=!1;function iU(s,l){switch(s){case"compositionend":return dA(l);case"keypress":return l.which!==32?null:(fA=!0,jl);case"textInput":return s=l.data,s===jl&&fA?null:s;default:return null}}function aU(s,l){if($l)return s==="compositionend"||!Xt&&hA(s,l)?(s=Vc(),sr=Ol=Tr=null,$l=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ds&&l.locale!=="ko"?null:l.data;default:return null}}var oU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pA(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!oU[s.type]:l==="textarea"}function mA(s,l,h,g){Ni(g),l=Fd(l,"onChange"),0<l.length&&(h=new Cl("onChange","change",null,h,g),s.push({event:h,listeners:l}))}var Bc=null,zc=null;function sU(s){NA(s,0)}function Ld(s){var l=Bl(s);if(ce(l))return s}function lU(s,l){if(s==="change")return l}var gA=!1;if(u){var iv;if(u){var av="oninput"in document;if(!av){var yA=document.createElement("div");yA.setAttribute("oninput","return;"),av=typeof yA.oninput=="function"}iv=av}else iv=!1;gA=iv&&(!document.documentMode||9<document.documentMode)}function vA(){Bc&&(Bc.detachEvent("onpropertychange",_A),zc=Bc=null)}function _A(s){if(s.propertyName==="value"&&Ld(zc)){var l=[];mA(l,zc,s,yl(s)),kc(sU,l)}}function uU(s,l,h){s==="focusin"?(vA(),Bc=l,zc=h,Bc.attachEvent("onpropertychange",_A)):s==="focusout"&&vA()}function cU(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ld(zc)}function fU(s,l){if(s==="click")return Ld(l)}function hU(s,l){if(s==="input"||s==="change")return Ld(l)}function dU(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var pi=typeof Object.is=="function"?Object.is:dU;function Hc(s,l){if(pi(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var h=Object.keys(s),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var w=h[g];if(!c.call(l,w)||!pi(s[w],l[w]))return!1}return!0}function bA(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function wA(s,l){var h=bA(s);s=0;for(var g;h;){if(h.nodeType===3){if(g=s+h.textContent.length,s<=l&&g>=l)return{node:h,offset:l-s};s=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=bA(h)}}function EA(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?EA(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function xA(){for(var s=window,l=ye();l instanceof s.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)s=l.contentWindow;else break;l=ye(s.document)}return l}function ov(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}function pU(s){var l=xA(),h=s.focusedElem,g=s.selectionRange;if(l!==h&&h&&h.ownerDocument&&EA(h.ownerDocument.documentElement,h)){if(g!==null&&ov(h)){if(l=g.start,s=g.end,s===void 0&&(s=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(s,h.value.length);else if(s=(l=h.ownerDocument||document)&&l.defaultView||window,s.getSelection){s=s.getSelection();var w=h.textContent.length,S=Math.min(g.start,w);g=g.end===void 0?S:Math.min(g.end,w),!s.extend&&S>g&&(w=g,g=S,S=w),w=wA(h,S);var $=wA(h,g);w&&$&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(l=l.createRange(),l.setStart(w.node,w.offset),s.removeAllRanges(),S>g?(s.addRange(l),s.extend($.node,$.offset)):(l.setEnd($.node,$.offset),s.addRange(l)))}}for(l=[],s=h;s=s.parentNode;)s.nodeType===1&&l.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)s=l[h],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var mU=u&&"documentMode"in document&&11>=document.documentMode,Vl=null,sv=null,Wc=null,lv=!1;function TA(s,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;lv||Vl==null||Vl!==ye(g)||(g=Vl,"selectionStart"in g&&ov(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Wc&&Hc(Wc,g)||(Wc=g,g=Fd(sv,"onSelect"),0<g.length&&(l=new Cl("onSelect","select",null,l,h),s.push({event:l,listeners:g}),l.target=Vl)))}function jd(s,l){var h={};return h[s.toLowerCase()]=l.toLowerCase(),h["Webkit"+s]="webkit"+l,h["Moz"+s]="moz"+l,h}var Fl={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},uv={},SA={};u&&(SA=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function $d(s){if(uv[s])return uv[s];if(!Fl[s])return s;var l=Fl[s],h;for(h in l)if(l.hasOwnProperty(h)&&h in SA)return uv[s]=l[h];return s}var AA=$d("animationend"),PA=$d("animationiteration"),IA=$d("animationstart"),OA=$d("transitionend"),kA=new Map,CA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(s,l){kA.set(s,l),a(l,[s])}for(var cv=0;cv<CA.length;cv++){var fv=CA[cv],gU=fv.toLowerCase(),yU=fv[0].toUpperCase()+fv.slice(1);oo(gU,"on"+yU)}oo(AA,"onAnimationEnd"),oo(PA,"onAnimationIteration"),oo(IA,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(OA,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gc));function RA(s,l,h){var g=s.type||"unknown-event";s.currentTarget=h,pd(g,l,void 0,s),s.currentTarget=null}function NA(s,l){l=(l&4)!==0;for(var h=0;h<s.length;h++){var g=s[h],w=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var $=g.length-1;0<=$;$--){var q=g[$],H=q.instance,te=q.currentTarget;if(q=q.listener,H!==S&&w.isPropagationStopped())break e;RA(w,q,te),S=H}else for($=0;$<g.length;$++){if(q=g[$],H=q.instance,te=q.currentTarget,q=q.listener,H!==S&&w.isPropagationStopped())break e;RA(w,q,te),S=H}}}if(oi)throw s=Cc,oi=!1,Cc=null,s}function Ot(s,l){var h=l[_v];h===void 0&&(h=l[_v]=new Set);var g=s+"__bubble";h.has(g)||(MA(l,s,2,!1),h.add(g))}function hv(s,l,h){var g=0;l&&(g|=4),MA(h,s,g,l)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Kc(s){if(!s[Vd]){s[Vd]=!0,r.forEach(function(h){h!=="selectionchange"&&(vU.has(h)||hv(h,!1,s),hv(h,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Vd]||(l[Vd]=!0,hv("selectionchange",!1,l))}}function MA(s,l,h,g){switch($c(l)){case 1:var w=Nt;break;case 4:w=nv;break;default:w=jc}h=w.bind(null,l,h,s),w=void 0,!bl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(l,h,{capture:!0,passive:w}):s.addEventListener(l,h,!0):w!==void 0?s.addEventListener(l,h,{passive:w}):s.addEventListener(l,h,!1)}function dv(s,l,h,g,w){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var q=g.stateNode.containerInfo;if(q===w||q.nodeType===8&&q.parentNode===w)break;if($===4)for($=g.return;$!==null;){var H=$.tag;if((H===3||H===4)&&(H=$.stateNode.containerInfo,H===w||H.nodeType===8&&H.parentNode===w))return;$=$.return}for(;q!==null;){if($=ps(q),$===null)return;if(H=$.tag,H===5||H===6){g=S=$;continue e}q=q.parentNode}}g=g.return}kc(function(){var te=S,he=yl(h),pe=[];e:{var fe=kA.get(s);if(fe!==void 0){var _e=Cl,Se=s;switch(s){case"keypress":if(kl(h)===0)break e;case"keydown":case"keyup":_e=T;break;case"focusin":Se="focus",_e=Dl;break;case"focusout":Se="blur",_e=Dl;break;case"beforeblur":case"afterblur":_e=Dl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=Od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=ne;break;case AA:case PA:case IA:_e=ha;break;case OA:_e=dt;break;case"scroll":_e=rv;break;case"wheel":_e=rt;break;case"copy":case"cut":case"paste":_e=Rd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=U}var Ie=(l&4)!==0,Gt=!Ie&&s==="scroll",Y=Ie?fe!==null?fe+"Capture":null:fe;Ie=[];for(var W=te,Z;W!==null;){Z=W;var me=Z.stateNode;if(Z.tag===5&&me!==null&&(Z=me,Y!==null&&(me=Wt(W,Y),me!=null&&Ie.push(Xc(W,me,Z)))),Gt)break;W=W.return}0<Ie.length&&(fe=new _e(fe,Se,null,h,he),pe.push({event:fe,listeners:Ie}))}}if((l&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",fe&&h!==ts&&(Se=h.relatedTarget||h.fromElement)&&(ps(Se)||Se[da]))break e;if((_e||fe)&&(fe=he.window===he?he:(fe=he.ownerDocument)?fe.defaultView||fe.parentWindow:window,_e?(Se=h.relatedTarget||h.toElement,_e=te,Se=Se?ps(Se):null,Se!==null&&(Gt=si(Se),Se!==Gt||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(_e=null,Se=te),_e!==Se)){if(Ie=Nl,me="onMouseLeave",Y="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=U,me="onPointerLeave",Y="onPointerEnter",W="pointer"),Gt=_e==null?fe:Bl(_e),Z=Se==null?fe:Bl(Se),fe=new Ie(me,W+"leave",_e,h,he),fe.target=Gt,fe.relatedTarget=Z,me=null,ps(he)===te&&(Ie=new Ie(Y,W+"enter",Se,h,he),Ie.target=Z,Ie.relatedTarget=Gt,me=Ie),Gt=me,_e&&Se)t:{for(Ie=_e,Y=Se,W=0,Z=Ie;Z;Z=Ul(Z))W++;for(Z=0,me=Y;me;me=Ul(me))Z++;for(;0<W-Z;)Ie=Ul(Ie),W--;for(;0<Z-W;)Y=Ul(Y),Z--;for(;W--;){if(Ie===Y||Y!==null&&Ie===Y.alternate)break t;Ie=Ul(Ie),Y=Ul(Y)}Ie=null}else Ie=null;_e!==null&&DA(pe,fe,_e,Ie,!1),Se!==null&&Gt!==null&&DA(pe,Gt,Se,Ie,!0)}}e:{if(fe=te?Bl(te):window,_e=fe.nodeName&&fe.nodeName.toLowerCase(),_e==="select"||_e==="input"&&fe.type==="file")var Oe=lU;else if(pA(fe))if(gA)Oe=hU;else{Oe=cU;var Ne=uU}else(_e=fe.nodeName)&&_e.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Oe=fU);if(Oe&&(Oe=Oe(s,te))){mA(pe,Oe,h,he);break e}Ne&&Ne(s,fe,te),s==="focusout"&&(Ne=fe._wrapperState)&&Ne.controlled&&fe.type==="number"&&xn(fe,"number",fe.value)}switch(Ne=te?Bl(te):window,s){case"focusin":(pA(Ne)||Ne.contentEditable==="true")&&(Vl=Ne,sv=te,Wc=null);break;case"focusout":Wc=sv=Vl=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,TA(pe,h,he);break;case"selectionchange":if(mU)break;case"keydown":case"keyup":TA(pe,h,he)}var Me;if(Xt)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else $l?hA(s,h)&&(qe="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(qe="onCompositionStart");qe&&(ds&&h.locale!=="ko"&&($l||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&$l&&(Me=Vc()):(Tr=he,Ol="value"in Tr?Tr.value:Tr.textContent,$l=!0)),Ne=Fd(te,qe),0<Ne.length&&(qe=new qc(qe,s,null,h,he),pe.push({event:qe,listeners:Ne}),Me?qe.data=Me:(Me=dA(h),Me!==null&&(qe.data=Me)))),(Me=Sr?iU(s,h):aU(s,h))&&(te=Fd(te,"onBeforeInput"),0<te.length&&(he=new qc("onBeforeInput","beforeinput",null,h,he),pe.push({event:he,listeners:te}),he.data=Me))}NA(pe,l)})}function Xc(s,l,h){return{instance:s,listener:l,currentTarget:h}}function Fd(s,l){for(var h=l+"Capture",g=[];s!==null;){var w=s,S=w.stateNode;w.tag===5&&S!==null&&(w=S,S=Wt(s,h),S!=null&&g.unshift(Xc(s,S,w)),S=Wt(s,l),S!=null&&g.push(Xc(s,S,w))),s=s.return}return g}function Ul(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function DA(s,l,h,g,w){for(var S=l._reactName,$=[];h!==null&&h!==g;){var q=h,H=q.alternate,te=q.stateNode;if(H!==null&&H===g)break;q.tag===5&&te!==null&&(q=te,w?(H=Wt(h,S),H!=null&&$.unshift(Xc(h,H,q))):w||(H=Wt(h,S),H!=null&&$.push(Xc(h,H,q)))),h=h.return}$.length!==0&&s.push({event:l,listeners:$})}var _U=/\r\n?/g,bU=/\u0000|\uFFFD/g;function LA(s){return(typeof s=="string"?s:""+s).replace(_U,`
`).replace(bU,"")}function Ud(s,l,h){if(l=LA(l),LA(s)!==l&&h)throw Error(n(425))}function qd(){}var pv=null,mv=null;function gv(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var yv=typeof setTimeout=="function"?setTimeout:void 0,wU=typeof clearTimeout=="function"?clearTimeout:void 0,jA=typeof Promise=="function"?Promise:void 0,EU=typeof queueMicrotask=="function"?queueMicrotask:typeof jA<"u"?function(s){return jA.resolve(null).then(s).catch(xU)}:yv;function xU(s){setTimeout(function(){throw s})}function vv(s,l){var h=l,g=0;do{var w=h.nextSibling;if(s.removeChild(h),w&&w.nodeType===8)if(h=w.data,h==="/$"){if(g===0){s.removeChild(w),hi(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=w}while(h);hi(l)}function so(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return s}function $A(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return s;l--}else h==="/$"&&l++}s=s.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Vi="__reactFiber$"+ql,Qc="__reactProps$"+ql,da="__reactContainer$"+ql,_v="__reactEvents$"+ql,TU="__reactListeners$"+ql,SU="__reactHandles$"+ql;function ps(s){var l=s[Vi];if(l)return l;for(var h=s.parentNode;h;){if(l=h[da]||h[Vi]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(s=$A(s);s!==null;){if(h=s[Vi])return h;s=$A(s)}return l}s=h,h=s.parentNode}return null}function Yc(s){return s=s[Vi]||s[da],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Bl(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Bd(s){return s[Qc]||null}var bv=[],zl=-1;function lo(s){return{current:s}}function kt(s){0>zl||(s.current=bv[zl],bv[zl]=null,zl--)}function Tt(s,l){zl++,bv[zl]=s.current,s.current=l}var uo={},Dn=lo(uo),lr=lo(!1),ms=uo;function Hl(s,l){var h=s.type.contextTypes;if(!h)return uo;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var w={},S;for(S in h)w[S]=l[S];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=l,s.__reactInternalMemoizedMaskedChildContext=w),w}function ur(s){return s=s.childContextTypes,s!=null}function zd(){kt(lr),kt(Dn)}function VA(s,l,h){if(Dn.current!==uo)throw Error(n(168));Tt(Dn,l),Tt(lr,h)}function FA(s,l,h){var g=s.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var w in g)if(!(w in l))throw Error(n(108,Ge(s)||"Unknown",w));return ae({},h,g)}function Hd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||uo,ms=Dn.current,Tt(Dn,s),Tt(lr,lr.current),!0}function UA(s,l,h){var g=s.stateNode;if(!g)throw Error(n(169));h?(s=FA(s,l,ms),g.__reactInternalMemoizedMergedChildContext=s,kt(lr),kt(Dn),Tt(Dn,s)):kt(lr),Tt(lr,h)}var pa=null,Wd=!1,wv=!1;function qA(s){pa===null?pa=[s]:pa.push(s)}function AU(s){Wd=!0,qA(s)}function co(){if(!wv&&pa!==null){wv=!0;var s=0,l=nt;try{var h=pa;for(nt=1;s<h.length;s++){var g=h[s];do g=g(!0);while(g!==null)}pa=null,Wd=!1}catch(w){throw pa!==null&&(pa=pa.slice(s+1)),Tl(os,co),w}finally{nt=l,wv=!1}}return null}var Wl=[],Gl=0,Gd=null,Kd=0,Ur=[],qr=0,gs=null,ma=1,ga="";function ys(s,l){Wl[Gl++]=Kd,Wl[Gl++]=Gd,Gd=s,Kd=l}function BA(s,l,h){Ur[qr++]=ma,Ur[qr++]=ga,Ur[qr++]=gs,gs=s;var g=ma;s=ga;var w=32-Kn(g)-1;g&=~(1<<w),h+=1;var S=32-Kn(l)+w;if(30<S){var $=w-w%5;S=(g&(1<<$)-1).toString(32),g>>=$,w-=$,ma=1<<32-Kn(l)+w|h<<w|g,ga=S+s}else ma=1<<S|h<<w|g,ga=s}function Ev(s){s.return!==null&&(ys(s,1),BA(s,1,0))}function xv(s){for(;s===Gd;)Gd=Wl[--Gl],Wl[Gl]=null,Kd=Wl[--Gl],Wl[Gl]=null;for(;s===gs;)gs=Ur[--qr],Ur[qr]=null,ga=Ur[--qr],Ur[qr]=null,ma=Ur[--qr],Ur[qr]=null}var Ar=null,Pr=null,Mt=!1,mi=null;function zA(s,l){var h=Wr(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=s,l=s.deletions,l===null?(s.deletions=[h],s.flags|=16):l.push(h)}function HA(s,l){switch(s.tag){case 5:var h=s.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(s.stateNode=l,Ar=s,Pr=so(l.firstChild),!0):!1;case 6:return l=s.pendingProps===""||l.nodeType!==3?null:l,l!==null?(s.stateNode=l,Ar=s,Pr=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=gs!==null?{id:ma,overflow:ga}:null,s.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=Wr(18,null,null,0),h.stateNode=l,h.return=s,s.child=h,Ar=s,Pr=null,!0):!1;default:return!1}}function Tv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Sv(s){if(Mt){var l=Pr;if(l){var h=l;if(!HA(s,l)){if(Tv(s))throw Error(n(418));l=so(h.nextSibling);var g=Ar;l&&HA(s,l)?zA(g,h):(s.flags=s.flags&-4097|2,Mt=!1,Ar=s)}}else{if(Tv(s))throw Error(n(418));s.flags=s.flags&-4097|2,Mt=!1,Ar=s}}}function WA(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ar=s}function Xd(s){if(s!==Ar)return!1;if(!Mt)return WA(s),Mt=!0,!1;var l;if((l=s.tag!==3)&&!(l=s.tag!==5)&&(l=s.type,l=l!=="head"&&l!=="body"&&!gv(s.type,s.memoizedProps)),l&&(l=Pr)){if(Tv(s))throw GA(),Error(n(418));for(;l;)zA(s,l),l=so(l.nextSibling)}if(WA(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,l=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"){if(l===0){Pr=so(s.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}s=s.nextSibling}Pr=null}}else Pr=Ar?so(s.stateNode.nextSibling):null;return!0}function GA(){for(var s=Pr;s;)s=so(s.nextSibling)}function Kl(){Pr=Ar=null,Mt=!1}function Av(s){mi===null?mi=[s]:mi.push(s)}var PU=L.ReactCurrentBatchConfig;function Jc(s,l,h){if(s=h.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,s));var w=g,S=""+s;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function($){var q=w.refs;$===null?delete q[S]:q[S]=$},l._stringRef=S,l)}if(typeof s!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,s))}return s}function Qd(s,l){throw s=Object.prototype.toString.call(l),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s))}function KA(s){var l=s._init;return l(s._payload)}function XA(s){function l(Y,W){if(s){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function h(Y,W){if(!s)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function g(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function w(Y,W){return Y=_o(Y,W),Y.index=0,Y.sibling=null,Y}function S(Y,W,Z){return Y.index=Z,s?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=2,W):Z):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function $(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function q(Y,W,Z,me){return W===null||W.tag!==6?(W=y0(Z,Y.mode,me),W.return=Y,W):(W=w(W,Z),W.return=Y,W)}function H(Y,W,Z,me){var Oe=Z.type;return Oe===P?he(Y,W,Z.props.children,me,Z.key):W!==null&&(W.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ie&&KA(Oe)===W.type)?(me=w(W,Z.props),me.ref=Jc(Y,W,Z),me.return=Y,me):(me=bp(Z.type,Z.key,Z.props,null,Y.mode,me),me.ref=Jc(Y,W,Z),me.return=Y,me)}function te(Y,W,Z,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=v0(Z,Y.mode,me),W.return=Y,W):(W=w(W,Z.children||[]),W.return=Y,W)}function he(Y,W,Z,me,Oe){return W===null||W.tag!==7?(W=Ss(Z,Y.mode,me,Oe),W.return=Y,W):(W=w(W,Z),W.return=Y,W)}function pe(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return W=y0(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case I:return Z=bp(W.type,W.key,W.props,null,Y.mode,Z),Z.ref=Jc(Y,null,W),Z.return=Y,Z;case N:return W=v0(W,Y.mode,Z),W.return=Y,W;case ie:var me=W._init;return pe(Y,me(W._payload),Z)}if(Tn(W)||ee(W))return W=Ss(W,Y.mode,Z,null),W.return=Y,W;Qd(Y,W)}return null}function fe(Y,W,Z,me){var Oe=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Oe!==null?null:q(Y,W,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:return Z.key===Oe?H(Y,W,Z,me):null;case N:return Z.key===Oe?te(Y,W,Z,me):null;case ie:return Oe=Z._init,fe(Y,W,Oe(Z._payload),me)}if(Tn(Z)||ee(Z))return Oe!==null?null:he(Y,W,Z,me,null);Qd(Y,Z)}return null}function _e(Y,W,Z,me,Oe){if(typeof me=="string"&&me!==""||typeof me=="number")return Y=Y.get(Z)||null,q(W,Y,""+me,Oe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case I:return Y=Y.get(me.key===null?Z:me.key)||null,H(W,Y,me,Oe);case N:return Y=Y.get(me.key===null?Z:me.key)||null,te(W,Y,me,Oe);case ie:var Ne=me._init;return _e(Y,W,Z,Ne(me._payload),Oe)}if(Tn(me)||ee(me))return Y=Y.get(Z)||null,he(W,Y,me,Oe,null);Qd(W,me)}return null}function Se(Y,W,Z,me){for(var Oe=null,Ne=null,Me=W,qe=W=0,yn=null;Me!==null&&qe<Z.length;qe++){Me.index>qe?(yn=Me,Me=null):yn=Me.sibling;var ot=fe(Y,Me,Z[qe],me);if(ot===null){Me===null&&(Me=yn);break}s&&Me&&ot.alternate===null&&l(Y,Me),W=S(ot,W,qe),Ne===null?Oe=ot:Ne.sibling=ot,Ne=ot,Me=yn}if(qe===Z.length)return h(Y,Me),Mt&&ys(Y,qe),Oe;if(Me===null){for(;qe<Z.length;qe++)Me=pe(Y,Z[qe],me),Me!==null&&(W=S(Me,W,qe),Ne===null?Oe=Me:Ne.sibling=Me,Ne=Me);return Mt&&ys(Y,qe),Oe}for(Me=g(Y,Me);qe<Z.length;qe++)yn=_e(Me,Y,qe,Z[qe],me),yn!==null&&(s&&yn.alternate!==null&&Me.delete(yn.key===null?qe:yn.key),W=S(yn,W,qe),Ne===null?Oe=yn:Ne.sibling=yn,Ne=yn);return s&&Me.forEach(function(bo){return l(Y,bo)}),Mt&&ys(Y,qe),Oe}function Ie(Y,W,Z,me){var Oe=ee(Z);if(typeof Oe!="function")throw Error(n(150));if(Z=Oe.call(Z),Z==null)throw Error(n(151));for(var Ne=Oe=null,Me=W,qe=W=0,yn=null,ot=Z.next();Me!==null&&!ot.done;qe++,ot=Z.next()){Me.index>qe?(yn=Me,Me=null):yn=Me.sibling;var bo=fe(Y,Me,ot.value,me);if(bo===null){Me===null&&(Me=yn);break}s&&Me&&bo.alternate===null&&l(Y,Me),W=S(bo,W,qe),Ne===null?Oe=bo:Ne.sibling=bo,Ne=bo,Me=yn}if(ot.done)return h(Y,Me),Mt&&ys(Y,qe),Oe;if(Me===null){for(;!ot.done;qe++,ot=Z.next())ot=pe(Y,ot.value,me),ot!==null&&(W=S(ot,W,qe),Ne===null?Oe=ot:Ne.sibling=ot,Ne=ot);return Mt&&ys(Y,qe),Oe}for(Me=g(Y,Me);!ot.done;qe++,ot=Z.next())ot=_e(Me,Y,qe,ot.value,me),ot!==null&&(s&&ot.alternate!==null&&Me.delete(ot.key===null?qe:ot.key),W=S(ot,W,qe),Ne===null?Oe=ot:Ne.sibling=ot,Ne=ot);return s&&Me.forEach(function(o6){return l(Y,o6)}),Mt&&ys(Y,qe),Oe}function Gt(Y,W,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case I:e:{for(var Oe=Z.key,Ne=W;Ne!==null;){if(Ne.key===Oe){if(Oe=Z.type,Oe===P){if(Ne.tag===7){h(Y,Ne.sibling),W=w(Ne,Z.props.children),W.return=Y,Y=W;break e}}else if(Ne.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ie&&KA(Oe)===Ne.type){h(Y,Ne.sibling),W=w(Ne,Z.props),W.ref=Jc(Y,Ne,Z),W.return=Y,Y=W;break e}h(Y,Ne);break}else l(Y,Ne);Ne=Ne.sibling}Z.type===P?(W=Ss(Z.props.children,Y.mode,me,Z.key),W.return=Y,Y=W):(me=bp(Z.type,Z.key,Z.props,null,Y.mode,me),me.ref=Jc(Y,W,Z),me.return=Y,Y=me)}return $(Y);case N:e:{for(Ne=Z.key;W!==null;){if(W.key===Ne)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){h(Y,W.sibling),W=w(W,Z.children||[]),W.return=Y,Y=W;break e}else{h(Y,W);break}else l(Y,W);W=W.sibling}W=v0(Z,Y.mode,me),W.return=Y,Y=W}return $(Y);case ie:return Ne=Z._init,Gt(Y,W,Ne(Z._payload),me)}if(Tn(Z))return Se(Y,W,Z,me);if(ee(Z))return Ie(Y,W,Z,me);Qd(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,W!==null&&W.tag===6?(h(Y,W.sibling),W=w(W,Z),W.return=Y,Y=W):(h(Y,W),W=y0(Z,Y.mode,me),W.return=Y,Y=W),$(Y)):h(Y,W)}return Gt}var Xl=XA(!0),QA=XA(!1),Yd=lo(null),Jd=null,Ql=null,Pv=null;function Iv(){Pv=Ql=Jd=null}function Ov(s){var l=Yd.current;kt(Yd),s._currentValue=l}function kv(s,l,h){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===h)break;s=s.return}}function Yl(s,l){Jd=s,Pv=Ql=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&l)!==0&&(cr=!0),s.firstContext=null)}function Br(s){var l=s._currentValue;if(Pv!==s)if(s={context:s,memoizedValue:l,next:null},Ql===null){if(Jd===null)throw Error(n(308));Ql=s,Jd.dependencies={lanes:0,firstContext:s}}else Ql=Ql.next=s;return l}var vs=null;function Cv(s){vs===null?vs=[s]:vs.push(s)}function YA(s,l,h,g){var w=l.interleaved;return w===null?(h.next=h,Cv(l)):(h.next=w.next,w.next=h),l.interleaved=h,ya(s,g)}function ya(s,l){s.lanes|=l;var h=s.alternate;for(h!==null&&(h.lanes|=l),h=s,s=s.return;s!==null;)s.childLanes|=l,h=s.alternate,h!==null&&(h.childLanes|=l),h=s,s=s.return;return h.tag===3?h.stateNode:null}var fo=!1;function Rv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JA(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function va(s,l){return{eventTime:s,lane:l,tag:0,payload:null,callback:null,next:null}}function ho(s,l,h){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(at&2)!==0){var w=g.pending;return w===null?l.next=l:(l.next=w.next,w.next=l),g.pending=l,ya(s,h)}return w=g.interleaved,w===null?(l.next=l,Cv(g)):(l.next=w.next,w.next=l),g.interleaved=l,ya(s,h)}function Zd(s,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,to(s,h)}}function ZA(s,l){var h=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var w=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var $={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?w=S=$:S=S.next=$,h=h.next}while(h!==null);S===null?w=S=l:S=S.next=l}else w=S=l;h={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:g.shared,effects:g.effects},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=l:s.next=l,h.lastBaseUpdate=l}function ep(s,l,h,g){var w=s.updateQueue;fo=!1;var S=w.firstBaseUpdate,$=w.lastBaseUpdate,q=w.shared.pending;if(q!==null){w.shared.pending=null;var H=q,te=H.next;H.next=null,$===null?S=te:$.next=te,$=H;var he=s.alternate;he!==null&&(he=he.updateQueue,q=he.lastBaseUpdate,q!==$&&(q===null?he.firstBaseUpdate=te:q.next=te,he.lastBaseUpdate=H))}if(S!==null){var pe=w.baseState;$=0,he=te=H=null,q=S;do{var fe=q.lane,_e=q.eventTime;if((g&fe)===fe){he!==null&&(he=he.next={eventTime:_e,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Se=s,Ie=q;switch(fe=l,_e=h,Ie.tag){case 1:if(Se=Ie.payload,typeof Se=="function"){pe=Se.call(_e,pe,fe);break e}pe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ie.payload,fe=typeof Se=="function"?Se.call(_e,pe,fe):Se,fe==null)break e;pe=ae({},pe,fe);break e;case 2:fo=!0}}q.callback!==null&&q.lane!==0&&(s.flags|=64,fe=w.effects,fe===null?w.effects=[q]:fe.push(q))}else _e={eventTime:_e,lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},he===null?(te=he=_e,H=pe):he=he.next=_e,$|=fe;if(q=q.next,q===null){if(q=w.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,w.lastBaseUpdate=fe,w.shared.pending=null}}while(!0);if(he===null&&(H=pe),w.baseState=H,w.firstBaseUpdate=te,w.lastBaseUpdate=he,l=w.shared.interleaved,l!==null){w=l;do $|=w.lane,w=w.next;while(w!==l)}else S===null&&(w.shared.lanes=0);ws|=$,s.lanes=$,s.memoizedState=pe}}function eP(s,l,h){if(s=l.effects,l.effects=null,s!==null)for(l=0;l<s.length;l++){var g=s[l],w=g.callback;if(w!==null){if(g.callback=null,g=h,typeof w!="function")throw Error(n(191,w));w.call(g)}}}var Zc={},Fi=lo(Zc),ef=lo(Zc),tf=lo(Zc);function _s(s){if(s===Zc)throw Error(n(174));return s}function Nv(s,l){switch(Tt(tf,l),Tt(ef,s),Tt(Fi,Zc),s=l.nodeType,s){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:rn(null,"");break;default:s=s===8?l.parentNode:l,l=s.namespaceURI||null,s=s.tagName,l=rn(l,s)}kt(Fi),Tt(Fi,l)}function Jl(){kt(Fi),kt(ef),kt(tf)}function tP(s){_s(tf.current);var l=_s(Fi.current),h=rn(l,s.type);l!==h&&(Tt(ef,s),Tt(Fi,h))}function Mv(s){ef.current===s&&(kt(Fi),kt(ef))}var Lt=lo(0);function tp(s){for(var l=s;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Dv=[];function Lv(){for(var s=0;s<Dv.length;s++)Dv[s]._workInProgressVersionPrimary=null;Dv.length=0}var np=L.ReactCurrentDispatcher,jv=L.ReactCurrentBatchConfig,bs=0,jt=null,on=null,mn=null,rp=!1,nf=!1,rf=0,IU=0;function Ln(){throw Error(n(321))}function $v(s,l){if(l===null)return!1;for(var h=0;h<l.length&&h<s.length;h++)if(!pi(s[h],l[h]))return!1;return!0}function Vv(s,l,h,g,w,S){if(bs=S,jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,np.current=s===null||s.memoizedState===null?RU:NU,s=h(g,w),nf){S=0;do{if(nf=!1,rf=0,25<=S)throw Error(n(301));S+=1,mn=on=null,l.updateQueue=null,np.current=MU,s=h(g,w)}while(nf)}if(np.current=op,l=on!==null&&on.next!==null,bs=0,mn=on=jt=null,rp=!1,l)throw Error(n(300));return s}function Fv(){var s=rf!==0;return rf=0,s}function Ui(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?jt.memoizedState=mn=s:mn=mn.next=s,mn}function zr(){if(on===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=on.next;var l=mn===null?jt.memoizedState:mn.next;if(l!==null)mn=l,on=s;else{if(s===null)throw Error(n(310));on=s,s={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},mn===null?jt.memoizedState=mn=s:mn=mn.next=s}return mn}function af(s,l){return typeof l=="function"?l(s):l}function Uv(s){var l=zr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var g=on,w=g.baseQueue,S=h.pending;if(S!==null){if(w!==null){var $=w.next;w.next=S.next,S.next=$}g.baseQueue=w=S,h.pending=null}if(w!==null){S=w.next,g=g.baseState;var q=$=null,H=null,te=S;do{var he=te.lane;if((bs&he)===he)H!==null&&(H=H.next={lane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),g=te.hasEagerState?te.eagerState:s(g,te.action);else{var pe={lane:he,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null};H===null?(q=H=pe,$=g):H=H.next=pe,jt.lanes|=he,ws|=he}te=te.next}while(te!==null&&te!==S);H===null?$=g:H.next=q,pi(g,l.memoizedState)||(cr=!0),l.memoizedState=g,l.baseState=$,l.baseQueue=H,h.lastRenderedState=g}if(s=h.interleaved,s!==null){w=s;do S=w.lane,jt.lanes|=S,ws|=S,w=w.next;while(w!==s)}else w===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function qv(s){var l=zr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var g=h.dispatch,w=h.pending,S=l.memoizedState;if(w!==null){h.pending=null;var $=w=w.next;do S=s(S,$.action),$=$.next;while($!==w);pi(S,l.memoizedState)||(cr=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,g]}function nP(){}function rP(s,l){var h=jt,g=zr(),w=l(),S=!pi(g.memoizedState,w);if(S&&(g.memoizedState=w,cr=!0),g=g.queue,Bv(oP.bind(null,h,g,s),[s]),g.getSnapshot!==l||S||mn!==null&&mn.memoizedState.tag&1){if(h.flags|=2048,of(9,aP.bind(null,h,g,w,l),void 0,null),gn===null)throw Error(n(349));(bs&30)!==0||iP(h,l,w)}return w}function iP(s,l,h){s.flags|=16384,s={getSnapshot:l,value:h},l=jt.updateQueue,l===null?(l={lastEffect:null,stores:null},jt.updateQueue=l,l.stores=[s]):(h=l.stores,h===null?l.stores=[s]:h.push(s))}function aP(s,l,h,g){l.value=h,l.getSnapshot=g,sP(l)&&lP(s)}function oP(s,l,h){return h(function(){sP(l)&&lP(s)})}function sP(s){var l=s.getSnapshot;s=s.value;try{var h=l();return!pi(s,h)}catch{return!0}}function lP(s){var l=ya(s,1);l!==null&&_i(l,s,1,-1)}function uP(s){var l=Ui();return typeof s=="function"&&(s=s()),l.memoizedState=l.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:s},l.queue=s,s=s.dispatch=CU.bind(null,jt,s),[l.memoizedState,s]}function of(s,l,h,g){return s={tag:s,create:l,destroy:h,deps:g,next:null},l=jt.updateQueue,l===null?(l={lastEffect:null,stores:null},jt.updateQueue=l,l.lastEffect=s.next=s):(h=l.lastEffect,h===null?l.lastEffect=s.next=s:(g=h.next,h.next=s,s.next=g,l.lastEffect=s)),s}function cP(){return zr().memoizedState}function ip(s,l,h,g){var w=Ui();jt.flags|=s,w.memoizedState=of(1|l,h,void 0,g===void 0?null:g)}function ap(s,l,h,g){var w=zr();g=g===void 0?null:g;var S=void 0;if(on!==null){var $=on.memoizedState;if(S=$.destroy,g!==null&&$v(g,$.deps)){w.memoizedState=of(l,h,S,g);return}}jt.flags|=s,w.memoizedState=of(1|l,h,S,g)}function fP(s,l){return ip(8390656,8,s,l)}function Bv(s,l){return ap(2048,8,s,l)}function hP(s,l){return ap(4,2,s,l)}function dP(s,l){return ap(4,4,s,l)}function pP(s,l){if(typeof l=="function")return s=s(),l(s),function(){l(null)};if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function mP(s,l,h){return h=h!=null?h.concat([s]):null,ap(4,4,pP.bind(null,l,s),h)}function zv(){}function gP(s,l){var h=zr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&$v(l,g[1])?g[0]:(h.memoizedState=[s,l],s)}function yP(s,l){var h=zr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&$v(l,g[1])?g[0]:(s=s(),h.memoizedState=[s,l],s)}function vP(s,l,h){return(bs&21)===0?(s.baseState&&(s.baseState=!1,cr=!0),s.memoizedState=h):(pi(h,l)||(h=us(),jt.lanes|=h,ws|=h,s.baseState=!0),l)}function OU(s,l){var h=nt;nt=h!==0&&4>h?h:4,s(!0);var g=jv.transition;jv.transition={};try{s(!1),l()}finally{nt=h,jv.transition=g}}function _P(){return zr().memoizedState}function kU(s,l,h){var g=yo(s);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},bP(s))wP(l,h);else if(h=YA(s,l,h,g),h!==null){var w=Yn();_i(h,s,g,w),EP(h,l,g)}}function CU(s,l,h){var g=yo(s),w={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(bP(s))wP(l,w);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var $=l.lastRenderedState,q=S($,h);if(w.hasEagerState=!0,w.eagerState=q,pi(q,$)){var H=l.interleaved;H===null?(w.next=w,Cv(l)):(w.next=H.next,H.next=w),l.interleaved=w;return}}catch{}finally{}h=YA(s,l,w,g),h!==null&&(w=Yn(),_i(h,s,g,w),EP(h,l,g))}}function bP(s){var l=s.alternate;return s===jt||l!==null&&l===jt}function wP(s,l){nf=rp=!0;var h=s.pending;h===null?l.next=l:(l.next=h.next,h.next=l),s.pending=l}function EP(s,l,h){if((h&4194240)!==0){var g=l.lanes;g&=s.pendingLanes,h|=g,l.lanes=h,to(s,h)}}var op={readContext:Br,useCallback:Ln,useContext:Ln,useEffect:Ln,useImperativeHandle:Ln,useInsertionEffect:Ln,useLayoutEffect:Ln,useMemo:Ln,useReducer:Ln,useRef:Ln,useState:Ln,useDebugValue:Ln,useDeferredValue:Ln,useTransition:Ln,useMutableSource:Ln,useSyncExternalStore:Ln,useId:Ln,unstable_isNewReconciler:!1},RU={readContext:Br,useCallback:function(s,l){return Ui().memoizedState=[s,l===void 0?null:l],s},useContext:Br,useEffect:fP,useImperativeHandle:function(s,l,h){return h=h!=null?h.concat([s]):null,ip(4194308,4,pP.bind(null,l,s),h)},useLayoutEffect:function(s,l){return ip(4194308,4,s,l)},useInsertionEffect:function(s,l){return ip(4,2,s,l)},useMemo:function(s,l){var h=Ui();return l=l===void 0?null:l,s=s(),h.memoizedState=[s,l],s},useReducer:function(s,l,h){var g=Ui();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:l},g.queue=s,s=s.dispatch=kU.bind(null,jt,s),[g.memoizedState,s]},useRef:function(s){var l=Ui();return s={current:s},l.memoizedState=s},useState:uP,useDebugValue:zv,useDeferredValue:function(s){return Ui().memoizedState=s},useTransition:function(){var s=uP(!1),l=s[0];return s=OU.bind(null,s[1]),Ui().memoizedState=s,[l,s]},useMutableSource:function(){},useSyncExternalStore:function(s,l,h){var g=jt,w=Ui();if(Mt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),gn===null)throw Error(n(349));(bs&30)!==0||iP(g,l,h)}w.memoizedState=h;var S={value:h,getSnapshot:l};return w.queue=S,fP(oP.bind(null,g,S,s),[s]),g.flags|=2048,of(9,aP.bind(null,g,S,h,l),void 0,null),h},useId:function(){var s=Ui(),l=gn.identifierPrefix;if(Mt){var h=ga,g=ma;h=(g&~(1<<32-Kn(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=rf++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=IU++,l=":"+l+"r"+h.toString(32)+":";return s.memoizedState=l},unstable_isNewReconciler:!1},NU={readContext:Br,useCallback:gP,useContext:Br,useEffect:Bv,useImperativeHandle:mP,useInsertionEffect:hP,useLayoutEffect:dP,useMemo:yP,useReducer:Uv,useRef:cP,useState:function(){return Uv(af)},useDebugValue:zv,useDeferredValue:function(s){var l=zr();return vP(l,on.memoizedState,s)},useTransition:function(){var s=Uv(af)[0],l=zr().memoizedState;return[s,l]},useMutableSource:nP,useSyncExternalStore:rP,useId:_P,unstable_isNewReconciler:!1},MU={readContext:Br,useCallback:gP,useContext:Br,useEffect:Bv,useImperativeHandle:mP,useInsertionEffect:hP,useLayoutEffect:dP,useMemo:yP,useReducer:qv,useRef:cP,useState:function(){return qv(af)},useDebugValue:zv,useDeferredValue:function(s){var l=zr();return on===null?l.memoizedState=s:vP(l,on.memoizedState,s)},useTransition:function(){var s=qv(af)[0],l=zr().memoizedState;return[s,l]},useMutableSource:nP,useSyncExternalStore:rP,useId:_P,unstable_isNewReconciler:!1};function gi(s,l){if(s&&s.defaultProps){l=ae({},l),s=s.defaultProps;for(var h in s)l[h]===void 0&&(l[h]=s[h]);return l}return l}function Hv(s,l,h,g){l=s.memoizedState,h=h(g,l),h=h==null?l:ae({},l,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var sp={isMounted:function(s){return(s=s._reactInternals)?si(s)===s:!1},enqueueSetState:function(s,l,h){s=s._reactInternals;var g=Yn(),w=yo(s),S=va(g,w);S.payload=l,h!=null&&(S.callback=h),l=ho(s,S,w),l!==null&&(_i(l,s,w,g),Zd(l,s,w))},enqueueReplaceState:function(s,l,h){s=s._reactInternals;var g=Yn(),w=yo(s),S=va(g,w);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=ho(s,S,w),l!==null&&(_i(l,s,w,g),Zd(l,s,w))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var h=Yn(),g=yo(s),w=va(h,g);w.tag=2,l!=null&&(w.callback=l),l=ho(s,w,g),l!==null&&(_i(l,s,g,h),Zd(l,s,g))}};function xP(s,l,h,g,w,S,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,S,$):l.prototype&&l.prototype.isPureReactComponent?!Hc(h,g)||!Hc(w,S):!0}function TP(s,l,h){var g=!1,w=uo,S=l.contextType;return typeof S=="object"&&S!==null?S=Br(S):(w=ur(l)?ms:Dn.current,g=l.contextTypes,S=(g=g!=null)?Hl(s,w):uo),l=new l(h,S),s.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=sp,s.stateNode=l,l._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=S),l}function SP(s,l,h,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==s&&sp.enqueueReplaceState(l,l.state,null)}function Wv(s,l,h,g){var w=s.stateNode;w.props=h,w.state=s.memoizedState,w.refs={},Rv(s);var S=l.contextType;typeof S=="object"&&S!==null?w.context=Br(S):(S=ur(l)?ms:Dn.current,w.context=Hl(s,S)),w.state=s.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Hv(s,l,S,h),w.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(l=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),l!==w.state&&sp.enqueueReplaceState(w,w.state,null),ep(s,h,w,g),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Zl(s,l){try{var h="",g=l;do h+=Ae(g),g=g.return;while(g);var w=h}catch(S){w=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:l,stack:w,digest:null}}function Gv(s,l,h){return{value:s,source:null,stack:h??null,digest:l??null}}function Kv(s,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var DU=typeof WeakMap=="function"?WeakMap:Map;function AP(s,l,h){h=va(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){pp||(pp=!0,u0=g),Kv(s,l)},h}function PP(s,l,h){h=va(-1,h),h.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var w=l.value;h.payload=function(){return g(w)},h.callback=function(){Kv(s,l)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){Kv(s,l),typeof g!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var $=l.stack;this.componentDidCatch(l.value,{componentStack:$!==null?$:""})}),h}function IP(s,l,h){var g=s.pingCache;if(g===null){g=s.pingCache=new DU;var w=new Set;g.set(l,w)}else w=g.get(l),w===void 0&&(w=new Set,g.set(l,w));w.has(h)||(w.add(h),s=XU.bind(null,s,l,h),l.then(s,s))}function OP(s){do{var l;if((l=s.tag===13)&&(l=s.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return s;s=s.return}while(s!==null);return null}function kP(s,l,h,g,w){return(s.mode&1)===0?(s===l?s.flags|=65536:(s.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=va(-1,1),l.tag=2,ho(h,l,1))),h.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var LU=L.ReactCurrentOwner,cr=!1;function Qn(s,l,h,g){l.child=s===null?QA(l,null,h,g):Xl(l,s.child,h,g)}function CP(s,l,h,g,w){h=h.render;var S=l.ref;return Yl(l,w),g=Vv(s,l,h,g,S,w),h=Fv(),s!==null&&!cr?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,_a(s,l,w)):(Mt&&h&&Ev(l),l.flags|=1,Qn(s,l,g,w),l.child)}function RP(s,l,h,g,w){if(s===null){var S=h.type;return typeof S=="function"&&!g0(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=S,NP(s,l,S,g,w)):(s=bp(h.type,null,g,l,l.mode,w),s.ref=l.ref,s.return=l,l.child=s)}if(S=s.child,(s.lanes&w)===0){var $=S.memoizedProps;if(h=h.compare,h=h!==null?h:Hc,h($,g)&&s.ref===l.ref)return _a(s,l,w)}return l.flags|=1,s=_o(S,g),s.ref=l.ref,s.return=l,l.child=s}function NP(s,l,h,g,w){if(s!==null){var S=s.memoizedProps;if(Hc(S,g)&&s.ref===l.ref)if(cr=!1,l.pendingProps=g=S,(s.lanes&w)!==0)(s.flags&131072)!==0&&(cr=!0);else return l.lanes=s.lanes,_a(s,l,w)}return Xv(s,l,h,g,w)}function MP(s,l,h){var g=l.pendingProps,w=g.children,S=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(tu,Ir),Ir|=h;else{if((h&1073741824)===0)return s=S!==null?S.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:s,cachePool:null,transitions:null},l.updateQueue=null,Tt(tu,Ir),Ir|=s,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,Tt(tu,Ir),Ir|=g}else S!==null?(g=S.baseLanes|h,l.memoizedState=null):g=h,Tt(tu,Ir),Ir|=g;return Qn(s,l,w,h),l.child}function DP(s,l){var h=l.ref;(s===null&&h!==null||s!==null&&s.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function Xv(s,l,h,g,w){var S=ur(h)?ms:Dn.current;return S=Hl(l,S),Yl(l,w),h=Vv(s,l,h,g,S,w),g=Fv(),s!==null&&!cr?(l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~w,_a(s,l,w)):(Mt&&g&&Ev(l),l.flags|=1,Qn(s,l,h,w),l.child)}function LP(s,l,h,g,w){if(ur(h)){var S=!0;Hd(l)}else S=!1;if(Yl(l,w),l.stateNode===null)up(s,l),TP(l,h,g),Wv(l,h,g,w),g=!0;else if(s===null){var $=l.stateNode,q=l.memoizedProps;$.props=q;var H=$.context,te=h.contextType;typeof te=="object"&&te!==null?te=Br(te):(te=ur(h)?ms:Dn.current,te=Hl(l,te));var he=h.getDerivedStateFromProps,pe=typeof he=="function"||typeof $.getSnapshotBeforeUpdate=="function";pe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==g||H!==te)&&SP(l,$,g,te),fo=!1;var fe=l.memoizedState;$.state=fe,ep(l,g,$,w),H=l.memoizedState,q!==g||fe!==H||lr.current||fo?(typeof he=="function"&&(Hv(l,h,he,g),H=l.memoizedState),(q=fo||xP(l,h,q,g,fe,H,te))?(pe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(l.flags|=4194308)):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=H),$.props=g,$.state=H,$.context=te,g=q):(typeof $.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{$=l.stateNode,JA(s,l),q=l.memoizedProps,te=l.type===l.elementType?q:gi(l.type,q),$.props=te,pe=l.pendingProps,fe=$.context,H=h.contextType,typeof H=="object"&&H!==null?H=Br(H):(H=ur(h)?ms:Dn.current,H=Hl(l,H));var _e=h.getDerivedStateFromProps;(he=typeof _e=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(q!==pe||fe!==H)&&SP(l,$,g,H),fo=!1,fe=l.memoizedState,$.state=fe,ep(l,g,$,w);var Se=l.memoizedState;q!==pe||fe!==Se||lr.current||fo?(typeof _e=="function"&&(Hv(l,h,_e,g),Se=l.memoizedState),(te=fo||xP(l,h,te,g,fe,Se,H)||!1)?(he||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(g,Se,H),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(g,Se,H)),typeof $.componentDidUpdate=="function"&&(l.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=Se),$.props=g,$.state=Se,$.context=H,g=te):(typeof $.componentDidUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(l.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||q===s.memoizedProps&&fe===s.memoizedState||(l.flags|=1024),g=!1)}return Qv(s,l,h,g,S,w)}function Qv(s,l,h,g,w,S){DP(s,l);var $=(l.flags&128)!==0;if(!g&&!$)return w&&UA(l,h,!1),_a(s,l,S);g=l.stateNode,LU.current=l;var q=$&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,s!==null&&$?(l.child=Xl(l,s.child,null,S),l.child=Xl(l,null,q,S)):Qn(s,l,q,S),l.memoizedState=g.state,w&&UA(l,h,!0),l.child}function jP(s){var l=s.stateNode;l.pendingContext?VA(s,l.pendingContext,l.pendingContext!==l.context):l.context&&VA(s,l.context,!1),Nv(s,l.containerInfo)}function $P(s,l,h,g,w){return Kl(),Av(w),l.flags|=256,Qn(s,l,h,g),l.child}var Yv={dehydrated:null,treeContext:null,retryLane:0};function Jv(s){return{baseLanes:s,cachePool:null,transitions:null}}function VP(s,l,h){var g=l.pendingProps,w=Lt.current,S=!1,$=(l.flags&128)!==0,q;if((q=$)||(q=s!==null&&s.memoizedState===null?!1:(w&2)!==0),q?(S=!0,l.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),Tt(Lt,w&1),s===null)return Sv(l),s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((l.mode&1)===0?l.lanes=1:s.data==="$!"?l.lanes=8:l.lanes=1073741824,null):($=g.children,s=g.fallback,S?(g=l.mode,S=l.child,$={mode:"hidden",children:$},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=$):S=wp($,g,0,null),s=Ss(s,g,h,null),S.return=l,s.return=l,S.sibling=s,l.child=S,l.child.memoizedState=Jv(h),l.memoizedState=Yv,s):Zv(l,$));if(w=s.memoizedState,w!==null&&(q=w.dehydrated,q!==null))return jU(s,l,$,g,q,w,h);if(S){S=g.fallback,$=l.mode,w=s.child,q=w.sibling;var H={mode:"hidden",children:g.children};return($&1)===0&&l.child!==w?(g=l.child,g.childLanes=0,g.pendingProps=H,l.deletions=null):(g=_o(w,H),g.subtreeFlags=w.subtreeFlags&14680064),q!==null?S=_o(q,S):(S=Ss(S,$,h,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,$=s.child.memoizedState,$=$===null?Jv(h):{baseLanes:$.baseLanes|h,cachePool:null,transitions:$.transitions},S.memoizedState=$,S.childLanes=s.childLanes&~h,l.memoizedState=Yv,g}return S=s.child,s=S.sibling,g=_o(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,s!==null&&(h=l.deletions,h===null?(l.deletions=[s],l.flags|=16):h.push(s)),l.child=g,l.memoizedState=null,g}function Zv(s,l){return l=wp({mode:"visible",children:l},s.mode,0,null),l.return=s,s.child=l}function lp(s,l,h,g){return g!==null&&Av(g),Xl(l,s.child,null,h),s=Zv(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function jU(s,l,h,g,w,S,$){if(h)return l.flags&256?(l.flags&=-257,g=Gv(Error(n(422))),lp(s,l,$,g)):l.memoizedState!==null?(l.child=s.child,l.flags|=128,null):(S=g.fallback,w=l.mode,g=wp({mode:"visible",children:g.children},w,0,null),S=Ss(S,w,$,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&Xl(l,s.child,null,$),l.child.memoizedState=Jv($),l.memoizedState=Yv,S);if((l.mode&1)===0)return lp(s,l,$,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var q=g.dgst;return g=q,S=Error(n(419)),g=Gv(S,g,void 0),lp(s,l,$,g)}if(q=($&s.childLanes)!==0,cr||q){if(g=gn,g!==null){switch($&-$){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|$))!==0?0:w,w!==0&&w!==S.retryLane&&(S.retryLane=w,ya(s,w),_i(g,s,w,-1))}return m0(),g=Gv(Error(n(421))),lp(s,l,$,g)}return w.data==="$?"?(l.flags|=128,l.child=s.child,l=QU.bind(null,s),w._reactRetry=l,null):(s=S.treeContext,Pr=so(w.nextSibling),Ar=l,Mt=!0,mi=null,s!==null&&(Ur[qr++]=ma,Ur[qr++]=ga,Ur[qr++]=gs,ma=s.id,ga=s.overflow,gs=l),l=Zv(l,g.children),l.flags|=4096,l)}function FP(s,l,h){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),kv(s.return,l,h)}function e0(s,l,h,g,w){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:w}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=w)}function UP(s,l,h){var g=l.pendingProps,w=g.revealOrder,S=g.tail;if(Qn(s,l,g.children,h),g=Lt.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&FP(s,h,l);else if(s.tag===19)FP(s,h,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Tt(Lt,g),(l.mode&1)===0)l.memoizedState=null;else switch(w){case"forwards":for(h=l.child,w=null;h!==null;)s=h.alternate,s!==null&&tp(s)===null&&(w=h),h=h.sibling;h=w,h===null?(w=l.child,l.child=null):(w=h.sibling,h.sibling=null),e0(l,!1,w,h,S);break;case"backwards":for(h=null,w=l.child,l.child=null;w!==null;){if(s=w.alternate,s!==null&&tp(s)===null){l.child=w;break}s=w.sibling,w.sibling=h,h=w,w=s}e0(l,!0,h,null,S);break;case"together":e0(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function up(s,l){(l.mode&1)===0&&s!==null&&(s.alternate=null,l.alternate=null,l.flags|=2)}function _a(s,l,h){if(s!==null&&(l.dependencies=s.dependencies),ws|=l.lanes,(h&l.childLanes)===0)return null;if(s!==null&&l.child!==s.child)throw Error(n(153));if(l.child!==null){for(s=l.child,h=_o(s,s.pendingProps),l.child=h,h.return=l;s.sibling!==null;)s=s.sibling,h=h.sibling=_o(s,s.pendingProps),h.return=l;h.sibling=null}return l.child}function $U(s,l,h){switch(l.tag){case 3:jP(l),Kl();break;case 5:tP(l);break;case 1:ur(l.type)&&Hd(l);break;case 4:Nv(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,w=l.memoizedProps.value;Tt(Yd,g._currentValue),g._currentValue=w;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Tt(Lt,Lt.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?VP(s,l,h):(Tt(Lt,Lt.current&1),s=_a(s,l,h),s!==null?s.sibling:null);Tt(Lt,Lt.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(s.flags&128)!==0){if(g)return UP(s,l,h);l.flags|=128}if(w=l.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Tt(Lt,Lt.current),g)break;return null;case 22:case 23:return l.lanes=0,MP(s,l,h)}return _a(s,l,h)}var qP,t0,BP,zP;qP=function(s,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)s.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},t0=function(){},BP=function(s,l,h,g){var w=s.memoizedProps;if(w!==g){s=l.stateNode,_s(Fi.current);var S=null;switch(h){case"input":w=ke(s,w),g=ke(s,g),S=[];break;case"select":w=ae({},w,{value:void 0}),g=ae({},g,{value:void 0}),S=[];break;case"textarea":w=Gn(s,w),g=Gn(s,g),S=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=qd)}Ac(h,g);var $;h=null;for(te in w)if(!g.hasOwnProperty(te)&&w.hasOwnProperty(te)&&w[te]!=null)if(te==="style"){var q=w[te];for($ in q)q.hasOwnProperty($)&&(h||(h={}),h[$]="")}else te!=="dangerouslySetInnerHTML"&&te!=="children"&&te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(i.hasOwnProperty(te)?S||(S=[]):(S=S||[]).push(te,null));for(te in g){var H=g[te];if(q=w?.[te],g.hasOwnProperty(te)&&H!==q&&(H!=null||q!=null))if(te==="style")if(q){for($ in q)!q.hasOwnProperty($)||H&&H.hasOwnProperty($)||(h||(h={}),h[$]="");for($ in H)H.hasOwnProperty($)&&q[$]!==H[$]&&(h||(h={}),h[$]=H[$])}else h||(S||(S=[]),S.push(te,h)),h=H;else te==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,q=q?q.__html:void 0,H!=null&&q!==H&&(S=S||[]).push(te,H)):te==="children"?typeof H!="string"&&typeof H!="number"||(S=S||[]).push(te,""+H):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&(i.hasOwnProperty(te)?(H!=null&&te==="onScroll"&&Ot("scroll",s),S||q===H||(S=[])):(S=S||[]).push(te,H))}h&&(S=S||[]).push("style",h);var te=S;(l.updateQueue=te)&&(l.flags|=4)}},zP=function(s,l,h,g){h!==g&&(l.flags|=4)};function sf(s,l){if(!Mt)switch(s.tailMode){case"hidden":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function jn(s){var l=s.alternate!==null&&s.alternate.child===s.child,h=0,g=0;if(l)for(var w=s.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)h|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=h,l}function VU(s,l,h){var g=l.pendingProps;switch(xv(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(l),null;case 1:return ur(l.type)&&zd(),jn(l),null;case 3:return g=l.stateNode,Jl(),kt(lr),kt(Dn),Lv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Xd(l)?l.flags|=4:s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,mi!==null&&(h0(mi),mi=null))),t0(s,l),jn(l),null;case 5:Mv(l);var w=_s(tf.current);if(h=l.type,s!==null&&l.stateNode!=null)BP(s,l,h,g,w),s.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return jn(l),null}if(s=_s(Fi.current),Xd(l)){g=l.stateNode,h=l.type;var S=l.memoizedProps;switch(g[Vi]=l,g[Qc]=S,s=(l.mode&1)!==0,h){case"dialog":Ot("cancel",g),Ot("close",g);break;case"iframe":case"object":case"embed":Ot("load",g);break;case"video":case"audio":for(w=0;w<Gc.length;w++)Ot(Gc[w],g);break;case"source":Ot("error",g);break;case"img":case"image":case"link":Ot("error",g),Ot("load",g);break;case"details":Ot("toggle",g);break;case"input":Ke(g,S),Ot("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},Ot("invalid",g);break;case"textarea":Lr(g,S),Ot("invalid",g)}Ac(h,S),w=null;for(var $ in S)if(S.hasOwnProperty($)){var q=S[$];$==="children"?typeof q=="string"?g.textContent!==q&&(S.suppressHydrationWarning!==!0&&Ud(g.textContent,q,s),w=["children",q]):typeof q=="number"&&g.textContent!==""+q&&(S.suppressHydrationWarning!==!0&&Ud(g.textContent,q,s),w=["children",""+q]):i.hasOwnProperty($)&&q!=null&&$==="onScroll"&&Ot("scroll",g)}switch(h){case"input":De(g),Ft(g,S,!0);break;case"textarea":De(g),Xa(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=qd)}g=w,l.updateQueue=g,g!==null&&(l.flags|=4)}else{$=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=nn(h)),s==="http://www.w3.org/1999/xhtml"?h==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=$.createElement(h,{is:g.is}):(s=$.createElement(h),h==="select"&&($=s,g.multiple?$.multiple=!0:g.size&&($.size=g.size))):s=$.createElementNS(s,h),s[Vi]=l,s[Qc]=g,qP(s,l,!1,!1),l.stateNode=s;e:{switch($=Pc(h,g),h){case"dialog":Ot("cancel",s),Ot("close",s),w=g;break;case"iframe":case"object":case"embed":Ot("load",s),w=g;break;case"video":case"audio":for(w=0;w<Gc.length;w++)Ot(Gc[w],s);w=g;break;case"source":Ot("error",s),w=g;break;case"img":case"image":case"link":Ot("error",s),Ot("load",s),w=g;break;case"details":Ot("toggle",s),w=g;break;case"input":Ke(s,g),w=ke(s,g),Ot("invalid",s);break;case"option":w=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},w=ae({},g,{value:void 0}),Ot("invalid",s);break;case"textarea":Lr(s,g),w=Gn(s,g),Ot("invalid",s);break;default:w=g}Ac(h,w),q=w;for(S in q)if(q.hasOwnProperty(S)){var H=q[S];S==="style"?Tc(s,H):S==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&Ec(s,H)):S==="children"?typeof H=="string"?(h!=="textarea"||H!=="")&&Qa(s,H):typeof H=="number"&&Qa(s,""+H):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?H!=null&&S==="onScroll"&&Ot("scroll",s):H!=null&&A(s,S,H,$))}switch(h){case"input":De(s),Ft(s,g,!1);break;case"textarea":De(s),Xa(s);break;case"option":g.value!=null&&s.setAttribute("value",""+Fe(g.value));break;case"select":s.multiple=!!g.multiple,S=g.value,S!=null?tn(s,!!g.multiple,S,!1):g.defaultValue!=null&&tn(s,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=qd)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return jn(l),null;case 6:if(s&&l.stateNode!=null)zP(s,l,s.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=_s(tf.current),_s(Fi.current),Xd(l)){if(g=l.stateNode,h=l.memoizedProps,g[Vi]=l,(S=g.nodeValue!==h)&&(s=Ar,s!==null))switch(s.tag){case 3:Ud(g.nodeValue,h,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Ud(g.nodeValue,h,(s.mode&1)!==0)}S&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Vi]=l,l.stateNode=g}return jn(l),null;case 13:if(kt(Lt),g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Mt&&Pr!==null&&(l.mode&1)!==0&&(l.flags&128)===0)GA(),Kl(),l.flags|=98560,S=!1;else if(S=Xd(l),g!==null&&g.dehydrated!==null){if(s===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Vi]=l}else Kl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jn(l),S=!1}else mi!==null&&(h0(mi),mi=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(s===null||(Lt.current&1)!==0?sn===0&&(sn=3):m0())),l.updateQueue!==null&&(l.flags|=4),jn(l),null);case 4:return Jl(),t0(s,l),s===null&&Kc(l.stateNode.containerInfo),jn(l),null;case 10:return Ov(l.type._context),jn(l),null;case 17:return ur(l.type)&&zd(),jn(l),null;case 19:if(kt(Lt),S=l.memoizedState,S===null)return jn(l),null;if(g=(l.flags&128)!==0,$=S.rendering,$===null)if(g)sf(S,!1);else{if(sn!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if($=tp(s),$!==null){for(l.flags|=128,sf(S,!1),g=$.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)S=h,s=g,S.flags&=14680066,$=S.alternate,$===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=$.childLanes,S.lanes=$.lanes,S.child=$.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=$.memoizedProps,S.memoizedState=$.memoizedState,S.updateQueue=$.updateQueue,S.type=$.type,s=$.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),h=h.sibling;return Tt(Lt,Lt.current&1|2),l.child}s=s.sibling}S.tail!==null&&xt()>nu&&(l.flags|=128,g=!0,sf(S,!1),l.lanes=4194304)}else{if(!g)if(s=tp($),s!==null){if(l.flags|=128,g=!0,h=s.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),sf(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!Mt)return jn(l),null}else 2*xt()-S.renderingStartTime>nu&&h!==1073741824&&(l.flags|=128,g=!0,sf(S,!1),l.lanes=4194304);S.isBackwards?($.sibling=l.child,l.child=$):(h=S.last,h!==null?h.sibling=$:l.child=$,S.last=$)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=xt(),l.sibling=null,h=Lt.current,Tt(Lt,g?h&1|2:h&1),l):(jn(l),null);case 22:case 23:return p0(),g=l.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(Ir&1073741824)!==0&&(jn(l),l.subtreeFlags&6&&(l.flags|=8192)):jn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function FU(s,l){switch(xv(l),l.tag){case 1:return ur(l.type)&&zd(),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Jl(),kt(lr),kt(Dn),Lv(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 5:return Mv(l),null;case 13:if(kt(Lt),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Kl()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return kt(Lt),null;case 4:return Jl(),null;case 10:return Ov(l.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var cp=!1,$n=!1,UU=typeof WeakSet=="function"?WeakSet:Set,xe=null;function eu(s,l){var h=s.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){Ut(s,l,g)}else h.current=null}function n0(s,l,h){try{h()}catch(g){Ut(s,l,g)}}var HP=!1;function qU(s,l){if(pv=io,s=xA(),ov(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var w=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var $=0,q=-1,H=-1,te=0,he=0,pe=s,fe=null;t:for(;;){for(var _e;pe!==h||w!==0&&pe.nodeType!==3||(q=$+w),pe!==S||g!==0&&pe.nodeType!==3||(H=$+g),pe.nodeType===3&&($+=pe.nodeValue.length),(_e=pe.firstChild)!==null;)fe=pe,pe=_e;for(;;){if(pe===s)break t;if(fe===h&&++te===w&&(q=$),fe===S&&++he===g&&(H=$),(_e=pe.nextSibling)!==null)break;pe=fe,fe=pe.parentNode}pe=_e}h=q===-1||H===-1?null:{start:q,end:H}}else h=null}h=h||{start:0,end:0}}else h=null;for(mv={focusedElem:s,selectionRange:h},io=!1,xe=l;xe!==null;)if(l=xe,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,xe=s;else for(;xe!==null;){l=xe;try{var Se=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var Ie=Se.memoizedProps,Gt=Se.memoizedState,Y=l.stateNode,W=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Ie:gi(l.type,Ie),Gt);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Z=l.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Ut(l,l.return,me)}if(s=l.sibling,s!==null){s.return=l.return,xe=s;break}xe=l.return}return Se=HP,HP=!1,Se}function lf(s,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&s)===s){var S=w.destroy;w.destroy=void 0,S!==void 0&&n0(l,h,S)}w=w.next}while(w!==g)}}function fp(s,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&s)===s){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function r0(s){var l=s.ref;if(l!==null){var h=s.stateNode;switch(s.tag){case 5:s=h;break;default:s=h}typeof l=="function"?l(s):l.current=s}}function WP(s){var l=s.alternate;l!==null&&(s.alternate=null,WP(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&(delete l[Vi],delete l[Qc],delete l[_v],delete l[TU],delete l[SU])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function GP(s){return s.tag===5||s.tag===3||s.tag===4}function KP(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||GP(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function i0(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(s,l):h.insertBefore(s,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(s,h)):(l=h,l.appendChild(s)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=qd));else if(g!==4&&(s=s.child,s!==null))for(i0(s,l,h),s=s.sibling;s!==null;)i0(s,l,h),s=s.sibling}function a0(s,l,h){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?h.insertBefore(s,l):h.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(a0(s,l,h),s=s.sibling;s!==null;)a0(s,l,h),s=s.sibling}var Pn=null,yi=!1;function po(s,l,h){for(h=h.child;h!==null;)XP(s,l,h),h=h.sibling}function XP(s,l,h){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(ss,h)}catch{}switch(h.tag){case 5:$n||eu(h,l);case 6:var g=Pn,w=yi;Pn=null,po(s,l,h),Pn=g,yi=w,Pn!==null&&(yi?(s=Pn,h=h.stateNode,s.nodeType===8?s.parentNode.removeChild(h):s.removeChild(h)):Pn.removeChild(h.stateNode));break;case 18:Pn!==null&&(yi?(s=Pn,h=h.stateNode,s.nodeType===8?vv(s.parentNode,h):s.nodeType===1&&vv(s,h),hi(s)):vv(Pn,h.stateNode));break;case 4:g=Pn,w=yi,Pn=h.stateNode.containerInfo,yi=!0,po(s,l,h),Pn=g,yi=w;break;case 0:case 11:case 14:case 15:if(!$n&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var S=w,$=S.destroy;S=S.tag,$!==void 0&&((S&2)!==0||(S&4)!==0)&&n0(h,l,$),w=w.next}while(w!==g)}po(s,l,h);break;case 1:if(!$n&&(eu(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(q){Ut(h,l,q)}po(s,l,h);break;case 21:po(s,l,h);break;case 22:h.mode&1?($n=(g=$n)||h.memoizedState!==null,po(s,l,h),$n=g):po(s,l,h);break;default:po(s,l,h)}}function QP(s){var l=s.updateQueue;if(l!==null){s.updateQueue=null;var h=s.stateNode;h===null&&(h=s.stateNode=new UU),l.forEach(function(g){var w=YU.bind(null,s,g);h.has(g)||(h.add(g),g.then(w,w))})}}function vi(s,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var w=h[g];try{var S=s,$=l,q=$;e:for(;q!==null;){switch(q.tag){case 5:Pn=q.stateNode,yi=!1;break e;case 3:Pn=q.stateNode.containerInfo,yi=!0;break e;case 4:Pn=q.stateNode.containerInfo,yi=!0;break e}q=q.return}if(Pn===null)throw Error(n(160));XP(S,$,w),Pn=null,yi=!1;var H=w.alternate;H!==null&&(H.return=null),w.return=null}catch(te){Ut(w,l,te)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)YP(l,s),l=l.sibling}function YP(s,l){var h=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(vi(l,s),qi(s),g&4){try{lf(3,s,s.return),fp(3,s)}catch(Ie){Ut(s,s.return,Ie)}try{lf(5,s,s.return)}catch(Ie){Ut(s,s.return,Ie)}}break;case 1:vi(l,s),qi(s),g&512&&h!==null&&eu(h,h.return);break;case 5:if(vi(l,s),qi(s),g&512&&h!==null&&eu(h,h.return),s.flags&32){var w=s.stateNode;try{Qa(w,"")}catch(Ie){Ut(s,s.return,Ie)}}if(g&4&&(w=s.stateNode,w!=null)){var S=s.memoizedProps,$=h!==null?h.memoizedProps:S,q=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{q==="input"&&S.type==="radio"&&S.name!=null&&We(w,S),Pc(q,$);var te=Pc(q,S);for($=0;$<H.length;$+=2){var he=H[$],pe=H[$+1];he==="style"?Tc(w,pe):he==="dangerouslySetInnerHTML"?Ec(w,pe):he==="children"?Qa(w,pe):A(w,he,pe,te)}switch(q){case"input":lt(w,S);break;case"textarea":aa(w,S);break;case"select":var fe=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!S.multiple;var _e=S.value;_e!=null?tn(w,!!S.multiple,_e,!1):fe!==!!S.multiple&&(S.defaultValue!=null?tn(w,!!S.multiple,S.defaultValue,!0):tn(w,!!S.multiple,S.multiple?[]:"",!1))}w[Qc]=S}catch(Ie){Ut(s,s.return,Ie)}}break;case 6:if(vi(l,s),qi(s),g&4){if(s.stateNode===null)throw Error(n(162));w=s.stateNode,S=s.memoizedProps;try{w.nodeValue=S}catch(Ie){Ut(s,s.return,Ie)}}break;case 3:if(vi(l,s),qi(s),g&4&&h!==null&&h.memoizedState.isDehydrated)try{hi(l.containerInfo)}catch(Ie){Ut(s,s.return,Ie)}break;case 4:vi(l,s),qi(s);break;case 13:vi(l,s),qi(s),w=s.child,w.flags&8192&&(S=w.memoizedState!==null,w.stateNode.isHidden=S,!S||w.alternate!==null&&w.alternate.memoizedState!==null||(l0=xt())),g&4&&QP(s);break;case 22:if(he=h!==null&&h.memoizedState!==null,s.mode&1?($n=(te=$n)||he,vi(l,s),$n=te):vi(l,s),qi(s),g&8192){if(te=s.memoizedState!==null,(s.stateNode.isHidden=te)&&!he&&(s.mode&1)!==0)for(xe=s,he=s.child;he!==null;){for(pe=xe=he;xe!==null;){switch(fe=xe,_e=fe.child,fe.tag){case 0:case 11:case 14:case 15:lf(4,fe,fe.return);break;case 1:eu(fe,fe.return);var Se=fe.stateNode;if(typeof Se.componentWillUnmount=="function"){g=fe,h=fe.return;try{l=g,Se.props=l.memoizedProps,Se.state=l.memoizedState,Se.componentWillUnmount()}catch(Ie){Ut(g,h,Ie)}}break;case 5:eu(fe,fe.return);break;case 22:if(fe.memoizedState!==null){eI(pe);continue}}_e!==null?(_e.return=fe,xe=_e):eI(pe)}he=he.sibling}e:for(he=null,pe=s;;){if(pe.tag===5){if(he===null){he=pe;try{w=pe.stateNode,te?(S=w.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(q=pe.stateNode,H=pe.memoizedProps.style,$=H!=null&&H.hasOwnProperty("display")?H.display:null,q.style.display=xc("display",$))}catch(Ie){Ut(s,s.return,Ie)}}}else if(pe.tag===6){if(he===null)try{pe.stateNode.nodeValue=te?"":pe.memoizedProps}catch(Ie){Ut(s,s.return,Ie)}}else if((pe.tag!==22&&pe.tag!==23||pe.memoizedState===null||pe===s)&&pe.child!==null){pe.child.return=pe,pe=pe.child;continue}if(pe===s)break e;for(;pe.sibling===null;){if(pe.return===null||pe.return===s)break e;he===pe&&(he=null),pe=pe.return}he===pe&&(he=null),pe.sibling.return=pe.return,pe=pe.sibling}}break;case 19:vi(l,s),qi(s),g&4&&QP(s);break;case 21:break;default:vi(l,s),qi(s)}}function qi(s){var l=s.flags;if(l&2){try{e:{for(var h=s.return;h!==null;){if(GP(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Qa(w,""),g.flags&=-33);var S=KP(s);a0(s,S,w);break;case 3:case 4:var $=g.stateNode.containerInfo,q=KP(s);i0(s,q,$);break;default:throw Error(n(161))}}catch(H){Ut(s,s.return,H)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function BU(s,l,h){xe=s,JP(s)}function JP(s,l,h){for(var g=(s.mode&1)!==0;xe!==null;){var w=xe,S=w.child;if(w.tag===22&&g){var $=w.memoizedState!==null||cp;if(!$){var q=w.alternate,H=q!==null&&q.memoizedState!==null||$n;q=cp;var te=$n;if(cp=$,($n=H)&&!te)for(xe=w;xe!==null;)$=xe,H=$.child,$.tag===22&&$.memoizedState!==null?tI(w):H!==null?(H.return=$,xe=H):tI(w);for(;S!==null;)xe=S,JP(S),S=S.sibling;xe=w,cp=q,$n=te}ZP(s)}else(w.subtreeFlags&8772)!==0&&S!==null?(S.return=w,xe=S):ZP(s)}}function ZP(s){for(;xe!==null;){var l=xe;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:$n||fp(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!$n)if(h===null)g.componentDidMount();else{var w=l.elementType===l.type?h.memoizedProps:gi(l.type,h.memoizedProps);g.componentDidUpdate(w,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&eP(l,S,g);break;case 3:var $=l.updateQueue;if($!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}eP(l,$,h)}break;case 5:var q=l.stateNode;if(h===null&&l.flags&4){h=q;var H=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&h.focus();break;case"img":H.src&&(h.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var te=l.alternate;if(te!==null){var he=te.memoizedState;if(he!==null){var pe=he.dehydrated;pe!==null&&hi(pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$n||l.flags&512&&r0(l)}catch(fe){Ut(l,l.return,fe)}}if(l===s){xe=null;break}if(h=l.sibling,h!==null){h.return=l.return,xe=h;break}xe=l.return}}function eI(s){for(;xe!==null;){var l=xe;if(l===s){xe=null;break}var h=l.sibling;if(h!==null){h.return=l.return,xe=h;break}xe=l.return}}function tI(s){for(;xe!==null;){var l=xe;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{fp(4,l)}catch(H){Ut(l,h,H)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var w=l.return;try{g.componentDidMount()}catch(H){Ut(l,w,H)}}var S=l.return;try{r0(l)}catch(H){Ut(l,S,H)}break;case 5:var $=l.return;try{r0(l)}catch(H){Ut(l,$,H)}}}catch(H){Ut(l,l.return,H)}if(l===s){xe=null;break}var q=l.sibling;if(q!==null){q.return=l.return,xe=q;break}xe=l.return}}var zU=Math.ceil,hp=L.ReactCurrentDispatcher,o0=L.ReactCurrentOwner,Hr=L.ReactCurrentBatchConfig,at=0,gn=null,Qt=null,In=0,Ir=0,tu=lo(0),sn=0,uf=null,ws=0,dp=0,s0=0,cf=null,fr=null,l0=0,nu=1/0,ba=null,pp=!1,u0=null,mo=null,mp=!1,go=null,gp=0,ff=0,c0=null,yp=-1,vp=0;function Yn(){return(at&6)!==0?xt():yp!==-1?yp:yp=xt()}function yo(s){return(s.mode&1)===0?1:(at&2)!==0&&In!==0?In&-In:PU.transition!==null?(vp===0&&(vp=us()),vp):(s=nt,s!==0||(s=window.event,s=s===void 0?16:$c(s.type)),s)}function _i(s,l,h,g){if(50<ff)throw ff=0,c0=null,Error(n(185));eo(s,h,g),((at&2)===0||s!==gn)&&(s===gn&&((at&2)===0&&(dp|=h),sn===4&&vo(s,In)),hr(s,g),h===1&&at===0&&(l.mode&1)===0&&(nu=xt()+500,Wd&&co()))}function hr(s,l){var h=s.callbackNode;la(s,l);var g=ls(s,s===gn?In:0);if(g===0)h!==null&&Nc(h),s.callbackNode=null,s.callbackPriority=0;else if(l=g&-g,s.callbackPriority!==l){if(h!=null&&Nc(h),l===1)s.tag===0?AU(rI.bind(null,s)):qA(rI.bind(null,s)),EU(function(){(at&6)===0&&co()}),h=null;else{switch(no(g)){case 1:h=os;break;case 4:h=Ya;break;case 16:h=$r;break;case 536870912:h=vd;break;default:h=$r}h=fI(h,nI.bind(null,s))}s.callbackPriority=l,s.callbackNode=h}}function nI(s,l){if(yp=-1,vp=0,(at&6)!==0)throw Error(n(327));var h=s.callbackNode;if(ru()&&s.callbackNode!==h)return null;var g=ls(s,s===gn?In:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||l)l=_p(s,g);else{l=g;var w=at;at|=2;var S=aI();(gn!==s||In!==l)&&(ba=null,nu=xt()+500,xs(s,l));do try{GU();break}catch(q){iI(s,q)}while(!0);Iv(),hp.current=S,at=w,Qt!==null?l=0:(gn=null,In=0,l=sn)}if(l!==0){if(l===2&&(w=xr(s),w!==0&&(g=w,l=f0(s,w))),l===1)throw h=uf,xs(s,0),vo(s,g),hr(s,xt()),h;if(l===6)vo(s,g);else{if(w=s.current.alternate,(g&30)===0&&!HU(w)&&(l=_p(s,g),l===2&&(S=xr(s),S!==0&&(g=S,l=f0(s,S))),l===1))throw h=uf,xs(s,0),vo(s,g),hr(s,xt()),h;switch(s.finishedWork=w,s.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Ts(s,fr,ba);break;case 3:if(vo(s,g),(g&130023424)===g&&(l=l0+500-xt(),10<l)){if(ls(s,0)!==0)break;if(w=s.suspendedLanes,(w&g)!==g){Yn(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=yv(Ts.bind(null,s,fr,ba),l);break}Ts(s,fr,ba);break;case 4:if(vo(s,g),(g&4194240)===g)break;for(l=s.eventTimes,w=-1;0<g;){var $=31-Kn(g);S=1<<$,$=l[$],$>w&&(w=$),g&=~S}if(g=w,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*zU(g/1960))-g,10<g){s.timeoutHandle=yv(Ts.bind(null,s,fr,ba),g);break}Ts(s,fr,ba);break;case 5:Ts(s,fr,ba);break;default:throw Error(n(329))}}}return hr(s,xt()),s.callbackNode===h?nI.bind(null,s):null}function f0(s,l){var h=cf;return s.current.memoizedState.isDehydrated&&(xs(s,l).flags|=256),s=_p(s,l),s!==2&&(l=fr,fr=h,l!==null&&h0(l)),s}function h0(s){fr===null?fr=s:fr.push.apply(fr,s)}function HU(s){for(var l=s;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var w=h[g],S=w.getSnapshot;w=w.value;try{if(!pi(S(),w))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function vo(s,l){for(l&=~s0,l&=~dp,s.suspendedLanes|=l,s.pingedLanes&=~l,s=s.expirationTimes;0<l;){var h=31-Kn(l),g=1<<h;s[h]=-1,l&=~g}}function rI(s){if((at&6)!==0)throw Error(n(327));ru();var l=ls(s,0);if((l&1)===0)return hr(s,xt()),null;var h=_p(s,l);if(s.tag!==0&&h===2){var g=xr(s);g!==0&&(l=g,h=f0(s,g))}if(h===1)throw h=uf,xs(s,0),vo(s,l),hr(s,xt()),h;if(h===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=l,Ts(s,fr,ba),hr(s,xt()),null}function d0(s,l){var h=at;at|=1;try{return s(l)}finally{at=h,at===0&&(nu=xt()+500,Wd&&co())}}function Es(s){go!==null&&go.tag===0&&(at&6)===0&&ru();var l=at;at|=1;var h=Hr.transition,g=nt;try{if(Hr.transition=null,nt=1,s)return s()}finally{nt=g,Hr.transition=h,at=l,(at&6)===0&&co()}}function p0(){Ir=tu.current,kt(tu)}function xs(s,l){s.finishedWork=null,s.finishedLanes=0;var h=s.timeoutHandle;if(h!==-1&&(s.timeoutHandle=-1,wU(h)),Qt!==null)for(h=Qt.return;h!==null;){var g=h;switch(xv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&zd();break;case 3:Jl(),kt(lr),kt(Dn),Lv();break;case 5:Mv(g);break;case 4:Jl();break;case 13:kt(Lt);break;case 19:kt(Lt);break;case 10:Ov(g.type._context);break;case 22:case 23:p0()}h=h.return}if(gn=s,Qt=s=_o(s.current,null),In=Ir=l,sn=0,uf=null,s0=dp=ws=0,fr=cf=null,vs!==null){for(l=0;l<vs.length;l++)if(h=vs[l],g=h.interleaved,g!==null){h.interleaved=null;var w=g.next,S=h.pending;if(S!==null){var $=S.next;S.next=w,g.next=$}h.pending=g}vs=null}return s}function iI(s,l){do{var h=Qt;try{if(Iv(),np.current=op,rp){for(var g=jt.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}rp=!1}if(bs=0,mn=on=jt=null,nf=!1,rf=0,o0.current=null,h===null||h.return===null){sn=1,uf=l,Qt=null;break}e:{var S=s,$=h.return,q=h,H=l;if(l=In,q.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var te=H,he=q,pe=he.tag;if((he.mode&1)===0&&(pe===0||pe===11||pe===15)){var fe=he.alternate;fe?(he.updateQueue=fe.updateQueue,he.memoizedState=fe.memoizedState,he.lanes=fe.lanes):(he.updateQueue=null,he.memoizedState=null)}var _e=OP($);if(_e!==null){_e.flags&=-257,kP(_e,$,q,S,l),_e.mode&1&&IP(S,te,l),l=_e,H=te;var Se=l.updateQueue;if(Se===null){var Ie=new Set;Ie.add(H),l.updateQueue=Ie}else Se.add(H);break e}else{if((l&1)===0){IP(S,te,l),m0();break e}H=Error(n(426))}}else if(Mt&&q.mode&1){var Gt=OP($);if(Gt!==null){(Gt.flags&65536)===0&&(Gt.flags|=256),kP(Gt,$,q,S,l),Av(Zl(H,q));break e}}S=H=Zl(H,q),sn!==4&&(sn=2),cf===null?cf=[S]:cf.push(S),S=$;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var Y=AP(S,H,l);ZA(S,Y);break e;case 1:q=H;var W=S.type,Z=S.stateNode;if((S.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(mo===null||!mo.has(Z)))){S.flags|=65536,l&=-l,S.lanes|=l;var me=PP(S,q,l);ZA(S,me);break e}}S=S.return}while(S!==null)}sI(h)}catch(Oe){l=Oe,Qt===h&&h!==null&&(Qt=h=h.return);continue}break}while(!0)}function aI(){var s=hp.current;return hp.current=op,s===null?op:s}function m0(){(sn===0||sn===3||sn===2)&&(sn=4),gn===null||(ws&268435455)===0&&(dp&268435455)===0||vo(gn,In)}function _p(s,l){var h=at;at|=2;var g=aI();(gn!==s||In!==l)&&(ba=null,xs(s,l));do try{WU();break}catch(w){iI(s,w)}while(!0);if(Iv(),at=h,hp.current=g,Qt!==null)throw Error(n(261));return gn=null,In=0,sn}function WU(){for(;Qt!==null;)oI(Qt)}function GU(){for(;Qt!==null&&!gd();)oI(Qt)}function oI(s){var l=cI(s.alternate,s,Ir);s.memoizedProps=s.pendingProps,l===null?sI(s):Qt=l,o0.current=null}function sI(s){var l=s;do{var h=l.alternate;if(s=l.return,(l.flags&32768)===0){if(h=VU(h,l,Ir),h!==null){Qt=h;return}}else{if(h=FU(h,l),h!==null){h.flags&=32767,Qt=h;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{sn=6,Qt=null;return}}if(l=l.sibling,l!==null){Qt=l;return}Qt=l=s}while(l!==null);sn===0&&(sn=5)}function Ts(s,l,h){var g=nt,w=Hr.transition;try{Hr.transition=null,nt=1,KU(s,l,h,g)}finally{Hr.transition=w,nt=g}return null}function KU(s,l,h,g){do ru();while(go!==null);if((at&6)!==0)throw Error(n(327));h=s.finishedWork;var w=s.finishedLanes;if(h===null)return null;if(s.finishedWork=null,s.finishedLanes=0,h===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var S=h.lanes|h.childLanes;if(_t(s,S),s===gn&&(Qt=gn=null,In=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||mp||(mp=!0,fI($r,function(){return ru(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=Hr.transition,Hr.transition=null;var $=nt;nt=1;var q=at;at|=4,o0.current=null,qU(s,h),YP(h,s),pU(mv),io=!!pv,mv=pv=null,s.current=h,BU(h),Jy(),at=q,nt=$,Hr.transition=S}else s.current=h;if(mp&&(mp=!1,go=s,gp=w),S=s.pendingLanes,S===0&&(mo=null),_d(h.stateNode),hr(s,xt()),l!==null)for(g=s.onRecoverableError,h=0;h<l.length;h++)w=l[h],g(w.value,{componentStack:w.stack,digest:w.digest});if(pp)throw pp=!1,s=u0,u0=null,s;return(gp&1)!==0&&s.tag!==0&&ru(),S=s.pendingLanes,(S&1)!==0?s===c0?ff++:(ff=0,c0=s):ff=0,co(),null}function ru(){if(go!==null){var s=no(gp),l=Hr.transition,h=nt;try{if(Hr.transition=null,nt=16>s?16:s,go===null)var g=!1;else{if(s=go,go=null,gp=0,(at&6)!==0)throw Error(n(331));var w=at;for(at|=4,xe=s.current;xe!==null;){var S=xe,$=S.child;if((xe.flags&16)!==0){var q=S.deletions;if(q!==null){for(var H=0;H<q.length;H++){var te=q[H];for(xe=te;xe!==null;){var he=xe;switch(he.tag){case 0:case 11:case 15:lf(8,he,S)}var pe=he.child;if(pe!==null)pe.return=he,xe=pe;else for(;xe!==null;){he=xe;var fe=he.sibling,_e=he.return;if(WP(he),he===te){xe=null;break}if(fe!==null){fe.return=_e,xe=fe;break}xe=_e}}}var Se=S.alternate;if(Se!==null){var Ie=Se.child;if(Ie!==null){Se.child=null;do{var Gt=Ie.sibling;Ie.sibling=null,Ie=Gt}while(Ie!==null)}}xe=S}}if((S.subtreeFlags&2064)!==0&&$!==null)$.return=S,xe=$;else e:for(;xe!==null;){if(S=xe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:lf(9,S,S.return)}var Y=S.sibling;if(Y!==null){Y.return=S.return,xe=Y;break e}xe=S.return}}var W=s.current;for(xe=W;xe!==null;){$=xe;var Z=$.child;if(($.subtreeFlags&2064)!==0&&Z!==null)Z.return=$,xe=Z;else e:for($=W;xe!==null;){if(q=xe,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:fp(9,q)}}catch(Oe){Ut(q,q.return,Oe)}if(q===$){xe=null;break e}var me=q.sibling;if(me!==null){me.return=q.return,xe=me;break e}xe=q.return}}if(at=w,co(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(ss,s)}catch{}g=!0}return g}finally{nt=h,Hr.transition=l}}return!1}function lI(s,l,h){l=Zl(h,l),l=AP(s,l,1),s=ho(s,l,1),l=Yn(),s!==null&&(eo(s,1,l),hr(s,l))}function Ut(s,l,h){if(s.tag===3)lI(s,s,h);else for(;l!==null;){if(l.tag===3){lI(l,s,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(mo===null||!mo.has(g))){s=Zl(h,s),s=PP(l,s,1),l=ho(l,s,1),s=Yn(),l!==null&&(eo(l,1,s),hr(l,s));break}}l=l.return}}function XU(s,l,h){var g=s.pingCache;g!==null&&g.delete(l),l=Yn(),s.pingedLanes|=s.suspendedLanes&h,gn===s&&(In&h)===h&&(sn===4||sn===3&&(In&130023424)===In&&500>xt()-l0?xs(s,0):s0|=h),hr(s,l)}function uI(s,l){l===0&&((s.mode&1)===0?l=1:(l=Al,Al<<=1,(Al&130023424)===0&&(Al=4194304)));var h=Yn();s=ya(s,l),s!==null&&(eo(s,l,h),hr(s,h))}function QU(s){var l=s.memoizedState,h=0;l!==null&&(h=l.retryLane),uI(s,h)}function YU(s,l){var h=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(h=w.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),uI(s,h)}var cI;cI=function(s,l,h){if(s!==null)if(s.memoizedProps!==l.pendingProps||lr.current)cr=!0;else{if((s.lanes&h)===0&&(l.flags&128)===0)return cr=!1,$U(s,l,h);cr=(s.flags&131072)!==0}else cr=!1,Mt&&(l.flags&1048576)!==0&&BA(l,Kd,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;up(s,l),s=l.pendingProps;var w=Hl(l,Dn.current);Yl(l,h),w=Vv(null,l,g,s,w,h);var S=Fv();return l.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,ur(g)?(S=!0,Hd(l)):S=!1,l.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Rv(l),w.updater=sp,l.stateNode=w,w._reactInternals=l,Wv(l,g,s,h),l=Qv(null,l,g,!0,S,h)):(l.tag=0,Mt&&S&&Ev(l),Qn(null,l,w,h),l=l.child),l;case 16:g=l.elementType;e:{switch(up(s,l),s=l.pendingProps,w=g._init,g=w(g._payload),l.type=g,w=l.tag=ZU(g),s=gi(g,s),w){case 0:l=Xv(null,l,g,s,h);break e;case 1:l=LP(null,l,g,s,h);break e;case 11:l=CP(null,l,g,s,h);break e;case 14:l=RP(null,l,g,gi(g.type,s),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:gi(g,w),Xv(s,l,g,w,h);case 1:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:gi(g,w),LP(s,l,g,w,h);case 3:e:{if(jP(l),s===null)throw Error(n(387));g=l.pendingProps,S=l.memoizedState,w=S.element,JA(s,l),ep(l,g,null,h);var $=l.memoizedState;if(g=$.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){w=Zl(Error(n(423)),l),l=$P(s,l,g,h,w);break e}else if(g!==w){w=Zl(Error(n(424)),l),l=$P(s,l,g,h,w);break e}else for(Pr=so(l.stateNode.containerInfo.firstChild),Ar=l,Mt=!0,mi=null,h=QA(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Kl(),g===w){l=_a(s,l,h);break e}Qn(s,l,g,h)}l=l.child}return l;case 5:return tP(l),s===null&&Sv(l),g=l.type,w=l.pendingProps,S=s!==null?s.memoizedProps:null,$=w.children,gv(g,w)?$=null:S!==null&&gv(g,S)&&(l.flags|=32),DP(s,l),Qn(s,l,$,h),l.child;case 6:return s===null&&Sv(l),null;case 13:return VP(s,l,h);case 4:return Nv(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=Xl(l,null,g,h):Qn(s,l,g,h),l.child;case 11:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:gi(g,w),CP(s,l,g,w,h);case 7:return Qn(s,l,l.pendingProps,h),l.child;case 8:return Qn(s,l,l.pendingProps.children,h),l.child;case 12:return Qn(s,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,w=l.pendingProps,S=l.memoizedProps,$=w.value,Tt(Yd,g._currentValue),g._currentValue=$,S!==null)if(pi(S.value,$)){if(S.children===w.children&&!lr.current){l=_a(s,l,h);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var q=S.dependencies;if(q!==null){$=S.child;for(var H=q.firstContext;H!==null;){if(H.context===g){if(S.tag===1){H=va(-1,h&-h),H.tag=2;var te=S.updateQueue;if(te!==null){te=te.shared;var he=te.pending;he===null?H.next=H:(H.next=he.next,he.next=H),te.pending=H}}S.lanes|=h,H=S.alternate,H!==null&&(H.lanes|=h),kv(S.return,h,l),q.lanes|=h;break}H=H.next}}else if(S.tag===10)$=S.type===l.type?null:S.child;else if(S.tag===18){if($=S.return,$===null)throw Error(n(341));$.lanes|=h,q=$.alternate,q!==null&&(q.lanes|=h),kv($,h,l),$=S.sibling}else $=S.child;if($!==null)$.return=S;else for($=S;$!==null;){if($===l){$=null;break}if(S=$.sibling,S!==null){S.return=$.return,$=S;break}$=$.return}S=$}Qn(s,l,w.children,h),l=l.child}return l;case 9:return w=l.type,g=l.pendingProps.children,Yl(l,h),w=Br(w),g=g(w),l.flags|=1,Qn(s,l,g,h),l.child;case 14:return g=l.type,w=gi(g,l.pendingProps),w=gi(g.type,w),RP(s,l,g,w,h);case 15:return NP(s,l,l.type,l.pendingProps,h);case 17:return g=l.type,w=l.pendingProps,w=l.elementType===g?w:gi(g,w),up(s,l),l.tag=1,ur(g)?(s=!0,Hd(l)):s=!1,Yl(l,h),TP(l,g,w),Wv(l,g,w,h),Qv(null,l,g,!0,s,h);case 19:return UP(s,l,h);case 22:return MP(s,l,h)}throw Error(n(156,l.tag))};function fI(s,l){return Tl(s,l)}function JU(s,l,h,g){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(s,l,h,g){return new JU(s,l,h,g)}function g0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ZU(s){if(typeof s=="function")return g0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===J)return 14}return 2}function _o(s,l){var h=s.alternate;return h===null?(h=Wr(s.tag,l,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=l,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&14680064,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,l=s.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h}function bp(s,l,h,g,w,S){var $=2;if(g=s,typeof s=="function")g0(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case P:return Ss(h.children,w,S,l);case O:$=8,w|=8;break;case M:return s=Wr(12,h,l,w|2),s.elementType=M,s.lanes=S,s;case j:return s=Wr(13,h,l,w),s.elementType=j,s.lanes=S,s;case K:return s=Wr(19,h,l,w),s.elementType=K,s.lanes=S,s;case re:return wp(h,w,S,l);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:$=10;break e;case D:$=9;break e;case V:$=11;break e;case J:$=14;break e;case ie:$=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return l=Wr($,h,l,w),l.elementType=s,l.type=g,l.lanes=S,l}function Ss(s,l,h,g){return s=Wr(7,s,g,l),s.lanes=h,s}function wp(s,l,h,g){return s=Wr(22,s,g,l),s.elementType=re,s.lanes=h,s.stateNode={isHidden:!1},s}function y0(s,l,h){return s=Wr(6,s,null,l),s.lanes=h,s}function v0(s,l,h){return l=Wr(4,s.children!==null?s.children:[],s.key,l),l.lanes=h,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}function e6(s,l,h,g,w){this.tag=l,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Za(0),this.expirationTimes=Za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Za(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function _0(s,l,h,g,w,S,$,q,H){return s=new e6(s,l,h,q,H),l===1?(l=1,S===!0&&(l|=8)):l=0,S=Wr(3,null,null,l),s.current=S,S.stateNode=s,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rv(S),s}function t6(s,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:g==null?null:""+g,children:s,containerInfo:l,implementation:h}}function hI(s){if(!s)return uo;s=s._reactInternals;e:{if(si(s)!==s||s.tag!==1)throw Error(n(170));var l=s;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(ur(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(s.tag===1){var h=s.type;if(ur(h))return FA(s,h,l)}return l}function dI(s,l,h,g,w,S,$,q,H){return s=_0(h,g,!0,s,w,S,$,q,H),s.context=hI(null),h=s.current,g=Yn(),w=yo(h),S=va(g,w),S.callback=l??null,ho(h,S,w),s.current.lanes=w,eo(s,w,g),hr(s,g),s}function Ep(s,l,h,g){var w=l.current,S=Yn(),$=yo(w);return h=hI(h),l.context===null?l.context=h:l.pendingContext=h,l=va(S,$),l.payload={element:s},g=g===void 0?null:g,g!==null&&(l.callback=g),s=ho(w,l,$),s!==null&&(_i(s,w,$,S),Zd(s,w,$)),$}function xp(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function pI(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<l?h:l}}function b0(s,l){pI(s,l),(s=s.alternate)&&pI(s,l)}function n6(){return null}var mI=typeof reportError=="function"?reportError:function(s){console.error(s)};function w0(s){this._internalRoot=s}Tp.prototype.render=w0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(n(409));Ep(s,l,null,null)},Tp.prototype.unmount=w0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;Es(function(){Ep(null,s,null,null)}),l[da]=null}};function Tp(s){this._internalRoot=s}Tp.prototype.unstable_scheduleHydration=function(s){if(s){var l=Td();s={blockedOn:null,target:s,priority:l};for(var h=0;h<Di.length&&l!==0&&l<Di[h].priority;h++);Di.splice(h,0,s),h===0&&Pd(s)}};function E0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Sp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gI(){}function r6(s,l,h,g,w){if(w){if(typeof g=="function"){var S=g;g=function(){var te=xp($);S.call(te)}}var $=dI(l,g,s,0,null,!1,!1,"",gI);return s._reactRootContainer=$,s[da]=$.current,Kc(s.nodeType===8?s.parentNode:s),Es(),$}for(;w=s.lastChild;)s.removeChild(w);if(typeof g=="function"){var q=g;g=function(){var te=xp(H);q.call(te)}}var H=_0(s,0,!1,null,null,!1,!1,"",gI);return s._reactRootContainer=H,s[da]=H.current,Kc(s.nodeType===8?s.parentNode:s),Es(function(){Ep(l,H,h,g)}),H}function Ap(s,l,h,g,w){var S=h._reactRootContainer;if(S){var $=S;if(typeof w=="function"){var q=w;w=function(){var H=xp($);q.call(H)}}Ep(l,$,s,w)}else $=r6(h,l,s,w,g);return xp($)}Ed=function(s){switch(s.tag){case 3:var l=s.stateNode;if(l.current.memoizedState.isDehydrated){var h=Ja(l.pendingLanes);h!==0&&(to(l,h|1),hr(l,xt()),(at&6)===0&&(nu=xt()+500,co()))}break;case 13:Es(function(){var g=ya(s,1);if(g!==null){var w=Yn();_i(g,s,1,w)}}),b0(s,1)}},Pl=function(s){if(s.tag===13){var l=ya(s,134217728);if(l!==null){var h=Yn();_i(l,s,134217728,h)}b0(s,134217728)}},xd=function(s){if(s.tag===13){var l=yo(s),h=ya(s,l);if(h!==null){var g=Yn();_i(h,s,l,g)}b0(s,l)}},Td=function(){return nt},Sd=function(s,l){var h=nt;try{return nt=s,l()}finally{nt=h}},vl=function(s,l,h){switch(l){case"input":if(lt(s,h),l=h.name,h.type==="radio"&&l!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==s&&g.form===s.form){var w=Bd(g);if(!w)throw Error(n(90));ce(g),lt(g,w)}}}break;case"textarea":aa(s,h);break;case"select":l=h.value,l!=null&&tn(s,!!h.multiple,l,!1)}},ns=d0,Oc=Es;var i6={usingClientEntryPoint:!1,Events:[Yc,Bl,Bd,Ni,Ic,d0]},hf={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a6={bundleType:hf.bundleType,version:hf.version,rendererPackageName:hf.rendererPackageName,rendererConfig:hf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Rc(s),s===null?null:s.stateNode},findFiberByHostInstance:hf.findFiberByHostInstance||n6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{ss=Pp.inject(a6),Er=Pp}catch{}}return dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i6,dr.createPortal=function(s,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(l))throw Error(n(200));return t6(s,l,null,h)},dr.createRoot=function(s,l){if(!E0(s))throw Error(n(299));var h=!1,g="",w=mI;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=_0(s,1,!1,null,null,h,!1,g,w),s[da]=l.current,Kc(s.nodeType===8?s.parentNode:s),new w0(l)},dr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Rc(l),s=s===null?null:s.stateNode,s},dr.flushSync=function(s){return Es(s)},dr.hydrate=function(s,l,h){if(!Sp(l))throw Error(n(200));return Ap(null,s,l,!0,h)},dr.hydrateRoot=function(s,l,h){if(!E0(s))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,w=!1,S="",$=mI;if(h!=null&&(h.unstable_strictMode===!0&&(w=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&($=h.onRecoverableError)),l=dI(l,null,s,1,h??null,w,!1,S,$),s[da]=l.current,Kc(s),g)for(s=0;s<g.length;s++)h=g[s],w=h._getVersion,w=w(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,w]:l.mutableSourceEagerHydrationData.push(h,w);return new Tp(l)},dr.render=function(s,l,h){if(!Sp(l))throw Error(n(200));return Ap(null,s,l,!1,h)},dr.unmountComponentAtNode=function(s){if(!Sp(s))throw Error(n(40));return s._reactRootContainer?(Es(function(){Ap(null,null,s,!1,function(){s._reactRootContainer=null,s[da]=null})}),!0):!1},dr.unstable_batchedUpdates=d0,dr.unstable_renderSubtreeIntoContainer=function(s,l,h,g){if(!Sp(h))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Ap(s,l,h,!1,g)},dr.version="18.3.1-next-f1338f8080-20240426",dr}var EI;function f6(){if(EI)return T0.exports;EI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T0.exports=c6(),T0.exports}var xI;function h6(){if(xI)return Op;xI=1;var t=f6();return Op.createRoot=t.createRoot,Op.hydrateRoot=t.hydrateRoot,Op}var d6=h6();const p6=ht(d6);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yL=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=z.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...u},c)=>z.createElement("svg",{ref:c,...g6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:yL("lucide",i),...u},[...o.map(([f,d])=>z.createElement(f,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(t,e)=>{const n=z.forwardRef(({className:r,...i},a)=>z.createElement(y6,{ref:a,iconNode:e,className:yL(`lucide-${m6(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=Ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=Ze("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=Ze("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=Ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ze("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=Ze("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=Ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=Ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ze("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=Ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=Ze("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=Ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=Ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=Ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=Ze("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Ze("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Ze("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Ze("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=Ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=Ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=Ze("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=Ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=Ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=Ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=Ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Ze("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=Ze("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=Ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=Ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Ze("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ze("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=Ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Gx(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let rl=Gx();function OL(t){rl=t}const kL=/[&<>"']/,D6=new RegExp(kL.source,"g"),CL=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,L6=new RegExp(CL.source,"g"),j6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},TI=t=>j6[t];function Cr(t,e){if(e){if(kL.test(t))return t.replace(D6,TI)}else if(CL.test(t))return t.replace(L6,TI);return t}const $6=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function V6(t){return t.replace($6,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const F6=/(^|[^\[])\^/g;function vt(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(F6,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function SI(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Mf={exec:()=>null};function AI(t,e){const n=t.replace(/\|/g,(a,o,u)=>{let c=!1,f=o;for(;--f>=0&&u[f]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function kp(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function U6(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function PI(t,e,n,r){const i=e.href,a=e.title?Cr(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const u={type:"link",raw:n,href:i,title:a,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:a,text:Cr(o)}}function q6(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[o]=a;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class hm{options;rules;lexer;constructor(e){this.options=e||rl}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:kp(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=q6(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=kp(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=kp(r.replace(/^ *>[ \t]?/gm,""),`
`);const i=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:a,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,a={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let u="",c="",f=!1;for(;e;){let d=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let p=n[2].split(`
`,1)[0].replace(/^\t+/,C=>" ".repeat(3*C.length)),y=e.split(`
`,1)[0],_=0;this.options.pedantic?(_=2,c=p.trimStart()):(_=n[2].search(/[^ ]/),_=_>4?1:_,c=p.slice(_),_+=n[1].length);let x=!1;if(!p&&/^ *$/.test(y)&&(u+=y+`
`,e=e.substring(y.length+1),d=!0),!d){const C=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),k=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),A=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),L=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;e;){const I=e.split(`
`,1)[0];if(y=I,this.options.pedantic&&(y=y.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),A.test(y)||L.test(y)||C.test(y)||k.test(e))break;if(y.search(/[^ ]/)>=_||!y.trim())c+=`
`+y.slice(_);else{if(x||p.search(/[^ ]/)>=4||A.test(p)||L.test(p)||k.test(p))break;c+=`
`+y}!x&&!y.trim()&&(x=!0),u+=I+`
`,e=e.substring(I.length+1),p=y.slice(_)}}a.loose||(f?a.loose=!0:/\n *\n *$/.test(u)&&(f=!0));let E=null,b;this.options.gfm&&(E=/^\[[ xX]\] /.exec(c),E&&(b=E[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),a.items.push({type:"list_item",raw:u,task:!!E,checked:b,loose:!1,text:c,tokens:[]}),a.raw+=u}a.items[a.items.length-1].raw=u.trimEnd(),a.items[a.items.length-1].text=c.trimEnd(),a.raw=a.raw.trimEnd();for(let d=0;d<a.items.length;d++)if(this.lexer.state.top=!1,a.items[d].tokens=this.lexer.blockTokens(a.items[d].text,[]),!a.loose){const p=a.items[d].tokens.filter(_=>_.type==="space"),y=p.length>0&&p.some(_=>/\n.*\n/.test(_.raw));a.loose=y}if(a.loose)for(let d=0;d<a.items.length;d++)a.items[d].loose=!0;return a}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:a}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=AI(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),a=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const u of i)/^ *-+: *$/.test(u)?o.align.push("right"):/^ *:-+: *$/.test(u)?o.align.push("center"):/^ *:-+ *$/.test(u)?o.align.push("left"):o.align.push(null);for(const u of r)o.header.push({text:u,tokens:this.lexer.inline(u)});for(const u of a)o.rows.push(AI(u,o.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Cr(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=kp(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=U6(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let i=n[2],a="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],a=o[3])}else a=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),PI(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:a&&a.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),a=n[i.toLowerCase()];if(!a){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return PI(r,a,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let u,c,f=o,d=0;const p=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,n=n.slice(-1*e.length+o);(i=p.exec(n))!=null;){if(u=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!u)continue;if(c=[...u].length,i[3]||i[4]){f+=c;continue}else if((i[5]||i[6])&&o%3&&!((o+c)%3)){d+=c;continue}if(f-=c,f>0)continue;c=Math.min(c,c+f+d);const y=[...i[0]][0].length,_=e.slice(0,o+i.index+y+c);if(Math.min(o,c)%2){const E=_.slice(1,-1);return{type:"em",raw:_,text:E,tokens:this.lexer.inlineTokens(E)}}const x=_.slice(2,-2);return{type:"strong",raw:_,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return i&&a&&(r=r.substring(1,r.length-1)),r=Cr(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=Cr(n[1]),i="mailto:"+r):(r=Cr(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let r,i;if(n[2]==="@")r=Cr(n[0]),i="mailto:"+r;else{let a;do a=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(a!==n[0]);r=Cr(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=Cr(n[0]),{type:"text",raw:n[0],text:r}}}}const B6=/^(?: *(?:\n|$))+/,z6=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,H6=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,qh=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,W6=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,RL=/(?:[*+-]|\d{1,9}[.)])/,NL=vt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,RL).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Kx=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,G6=/^[^\n]+/,Xx=/(?!\s*\])(?:\\.|[^\[\]\\])+/,K6=vt(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Xx).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),X6=vt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,RL).getRegex(),Dg="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Qx=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Q6=vt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Qx).replace("tag",Dg).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ML=vt(Kx).replace("hr",qh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dg).getRegex(),Y6=vt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ML).getRegex(),Yx={blockquote:Y6,code:z6,def:K6,fences:H6,heading:W6,hr:qh,html:Q6,lheading:NL,list:X6,newline:B6,paragraph:ML,table:Mf,text:G6},II=vt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",qh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dg).getRegex(),J6={...Yx,table:II,paragraph:vt(Kx).replace("hr",qh).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",II).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Dg).getRegex()},Z6={...Yx,html:vt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Qx).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Mf,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:vt(Kx).replace("hr",qh).replace("heading",` *#{1,6} *[^
]`).replace("lheading",NL).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},DL=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,eq=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,LL=/^( {2,}|\\)\n(?!\s*$)/,tq=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Bh="\\p{P}\\p{S}",nq=vt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Bh).getRegex(),rq=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,iq=vt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Bh).getRegex(),aq=vt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Bh).getRegex(),oq=vt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Bh).getRegex(),sq=vt(/\\([punct])/,"gu").replace(/punct/g,Bh).getRegex(),lq=vt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),uq=vt(Qx).replace("(?:-->|$)","-->").getRegex(),cq=vt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",uq).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dm=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,fq=vt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",dm).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),jL=vt(/^!?\[(label)\]\[(ref)\]/).replace("label",dm).replace("ref",Xx).getRegex(),$L=vt(/^!?\[(ref)\](?:\[\])?/).replace("ref",Xx).getRegex(),hq=vt("reflink|nolink(?!\\()","g").replace("reflink",jL).replace("nolink",$L).getRegex(),Jx={_backpedal:Mf,anyPunctuation:sq,autolink:lq,blockSkip:rq,br:LL,code:eq,del:Mf,emStrongLDelim:iq,emStrongRDelimAst:aq,emStrongRDelimUnd:oq,escape:DL,link:fq,nolink:$L,punctuation:nq,reflink:jL,reflinkSearch:hq,tag:cq,text:tq,url:Mf},dq={...Jx,link:vt(/^!?\[(label)\]\((.*?)\)/).replace("label",dm).getRegex(),reflink:vt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dm).getRegex()},zE={...Jx,escape:vt(DL).replace("])","~|])").getRegex(),url:vt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},pq={...zE,br:vt(LL).replace("{2,}","*").getRegex(),text:vt(zE.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Cp={normal:Yx,gfm:J6,pedantic:Z6},df={normal:Jx,gfm:zE,breaks:pq,pedantic:dq};class zi{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||rl,this.options.tokenizer=this.options.tokenizer||new hm,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Cp.normal,inline:df.normal};this.options.pedantic?(n.block=Cp.pedantic,n.inline=df.pedantic):this.options.gfm&&(n.block=Cp.gfm,this.options.breaks?n.inline=df.breaks:n.inline=df.gfm),this.tokenizer.rules=n}static get rules(){return{block:Cp,inline:df}}static lex(e,n){return new zi(n).lex(e)}static lexInline(e,n){return new zi(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(u,c,f)=>c+"    ".repeat(f.length));let r,i,a,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const c=e.slice(1);let f;this.options.extensions.startBlock.forEach(d=>{f=d.call({lexer:this},c),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(a=e.substring(0,u+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){i=n[n.length-1],o&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),o=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,a,o=e,u,c,f;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,u.index)+"["+"a".repeat(u[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,u.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(f=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,f)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const p=e.slice(1);let y;this.options.extensions.startInline.forEach(_=>{y=_.call({lexer:this},p),typeof y=="number"&&y>=0&&(d=Math.min(d,y))}),d<1/0&&d>=0&&(a=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(a)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(f=r.raw.slice(-1)),c=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class pm{options;constructor(e){this.options=e||rl}code(e,n,r){const i=(n||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="language-'+Cr(i)+'">'+(r?e:Cr(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Cr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,r){const i=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+e+"</"+i+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){const i=SI(e);if(i===null)return r;e=i;let a='<a href="'+e+'"';return n&&(a+=' title="'+n+'"'),a+=">"+r+"</a>",a}image(e,n,r){const i=SI(e);if(i===null)return r;e=i;let a=`<img src="${e}" alt="${r}"`;return n&&(a+=` title="${n}"`),a+=">",a}text(e){return e}}class Zx{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class Hi{options;renderer;textRenderer;constructor(e){this.options=e||rl,this.options.renderer=this.options.renderer||new pm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zx}static parse(e,n){return new Hi(n).parse(e)}static parseInline(e,n){return new Hi(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=a,u=this.options.extensions.renderers[o.type].call({parser:this},o);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=u||"";continue}}switch(a.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=a;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,V6(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=a;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=a;let u="",c="";for(let d=0;d<o.header.length;d++)c+=this.renderer.tablecell(this.parseInline(o.header[d].tokens),{header:!0,align:o.align[d]});u+=this.renderer.tablerow(c);let f="";for(let d=0;d<o.rows.length;d++){const p=o.rows[d];c="";for(let y=0;y<p.length;y++)c+=this.renderer.tablecell(this.parseInline(p[y].tokens),{header:!1,align:o.align[y]});f+=this.renderer.tablerow(c)}r+=this.renderer.table(u,f);continue}case"blockquote":{const o=a,u=this.parse(o.tokens);r+=this.renderer.blockquote(u);continue}case"list":{const o=a,u=o.ordered,c=o.start,f=o.loose;let d="";for(let p=0;p<o.items.length;p++){const y=o.items[p],_=y.checked,x=y.task;let E="";if(y.task){const b=this.renderer.checkbox(!!_);f?y.tokens.length>0&&y.tokens[0].type==="paragraph"?(y.tokens[0].text=b+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&y.tokens[0].tokens[0].type==="text"&&(y.tokens[0].tokens[0].text=b+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:b+" "}):E+=b+" "}E+=this.parse(y.tokens,f),d+=this.renderer.listitem(E,x,!!_)}r+=this.renderer.list(d,u,c);continue}case"html":{const o=a;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=a;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=a,u=o.tokens?this.parseInline(o.tokens):o.text;for(;i+1<e.length&&e[i+1].type==="text";)o=e[++i],u+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=n?this.renderer.paragraph(u):u;continue}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const a=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]){const o=this.options.extensions.renderers[a.type].call({parser:this},a);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=o||"";continue}}switch(a.type){case"escape":{const o=a;r+=n.text(o.text);break}case"html":{const o=a;r+=n.html(o.text);break}case"link":{const o=a;r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=a;r+=n.image(o.href,o.title,o.text);break}case"strong":{const o=a;r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=a;r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=a;r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{const o=a;r+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=a;r+=n.text(o.text);break}default:{const o='Token with "'+a.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Zp{options;constructor(e){this.options=e||rl}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}class mq{defaults=Gx();options=this.setOptions;parse=this.#e(zi.lex,Hi.parse);parseInline=this.#e(zi.lexInline,Hi.parseInline);Parser=Hi;Renderer=pm;TextRenderer=Zx;Lexer=zi;Tokenizer=hm;Hooks=Zp;constructor(...e){this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{const a=i;for(const o of a.header)r=r.concat(this.walkTokens(o.tokens,n));for(const o of a.rows)for(const u of o)r=r.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=i;r=r.concat(this.walkTokens(a.items,n));break}default:{const a=i;this.defaults.extensions?.childTokens?.[a.type]?this.defaults.extensions.childTokens[a.type].forEach(o=>{const u=a[o].flat(1/0);r=r.concat(this.walkTokens(u,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if("renderer"in a){const o=n.renderers[a.name];o?n.renderers[a.name]=function(...u){let c=a.renderer.apply(this,u);return c===!1&&(c=o.apply(this,u)),c}:n.renderers[a.name]=a.renderer}if("tokenizer"in a){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[a.level];o?o.unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}"childTokens"in a&&a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),i.extensions=n),r.renderer){const a=this.defaults.renderer||new pm(this.defaults);for(const o in r.renderer){if(!(o in a))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const u=o,c=r.renderer[u],f=a[u];a[u]=(...d)=>{let p=c.apply(a,d);return p===!1&&(p=f.apply(a,d)),p||""}}i.renderer=a}if(r.tokenizer){const a=this.defaults.tokenizer||new hm(this.defaults);for(const o in r.tokenizer){if(!(o in a))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const u=o,c=r.tokenizer[u],f=a[u];a[u]=(...d)=>{let p=c.apply(a,d);return p===!1&&(p=f.apply(a,d)),p}}i.tokenizer=a}if(r.hooks){const a=this.defaults.hooks||new Zp;for(const o in r.hooks){if(!(o in a))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const u=o,c=r.hooks[u],f=a[u];Zp.passThroughHooks.has(o)?a[u]=d=>{if(this.defaults.async)return Promise.resolve(c.call(a,d)).then(y=>f.call(a,y));const p=c.call(a,d);return f.call(a,p)}:a[u]=(...d)=>{let p=c.apply(a,d);return p===!1&&(p=f.apply(a,d)),p}}i.hooks=a}if(r.walkTokens){const a=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(u){let c=[];return c.push(o.call(this,u)),a&&(c=c.concat(a.call(this,u))),c}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return zi.lex(e,n??this.defaults)}parser(e,n){return Hi.parse(e,n??this.defaults)}#e(e,n){return(r,i)=>{const a={...i},o={...this.defaults,...a};this.defaults.async===!0&&a.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const u=this.#t(!!o.silent,!!o.async);if(typeof r>"u"||r===null)return u(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return u(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>n(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(u);try{o.hooks&&(r=o.hooks.preprocess(r));let c=e(r,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let f=n(c,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(c){return u(c)}}}#t(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+Cr(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}}const Bs=new mq;function pt(t,e){return Bs.parse(t,e)}pt.options=pt.setOptions=function(t){return Bs.setOptions(t),pt.defaults=Bs.defaults,OL(pt.defaults),pt};pt.getDefaults=Gx;pt.defaults=rl;pt.use=function(...t){return Bs.use(...t),pt.defaults=Bs.defaults,OL(pt.defaults),pt};pt.walkTokens=function(t,e){return Bs.walkTokens(t,e)};pt.parseInline=Bs.parseInline;pt.Parser=Hi;pt.parser=Hi.parse;pt.Renderer=pm;pt.TextRenderer=Zx;pt.Lexer=zi;pt.lexer=zi.lex;pt.Tokenizer=hm;pt.Hooks=Zp;pt.parse=pt;pt.options;pt.setOptions;pt.use;pt.walkTokens;pt.parseInline;Hi.parse;zi.lex;function VL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VL(t))&&(r&&(r+=" "),r+=e);return r}var I0,OI;function wr(){if(OI)return I0;OI=1;var t=Array.isArray;return I0=t,I0}var O0,kI;function FL(){if(kI)return O0;kI=1;var t=typeof Ip=="object"&&Ip&&Ip.Object===Object&&Ip;return O0=t,O0}var k0,CI;function na(){if(CI)return k0;CI=1;var t=FL(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return k0=n,k0}var C0,RI;function zh(){if(RI)return C0;RI=1;var t=na(),e=t.Symbol;return C0=e,C0}var R0,NI;function gq(){if(NI)return R0;NI=1;var t=zh(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(o){var u=n.call(o,i),c=o[i];try{o[i]=void 0;var f=!0}catch{}var d=r.call(o);return f&&(u?o[i]=c:delete o[i]),d}return R0=a,R0}var N0,MI;function yq(){if(MI)return N0;MI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return N0=n,N0}var M0,DI;function Ba(){if(DI)return M0;DI=1;var t=zh(),e=gq(),n=yq(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:r:a&&a in Object(u)?e(u):n(u)}return M0=o,M0}var D0,LI;function za(){if(LI)return D0;LI=1;function t(e){return e!=null&&typeof e=="object"}return D0=t,D0}var L0,jI;function sc(){if(jI)return L0;jI=1;var t=Ba(),e=za(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return L0=r,L0}var j0,$I;function eT(){if($I)return j0;$I=1;var t=wr(),e=sc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return j0=i,j0}var $0,VI;function Ho(){if(VI)return $0;VI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return $0=t,$0}var V0,FI;function tT(){if(FI)return V0;FI=1;var t=Ba(),e=Ho(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(u){if(!e(u))return!1;var c=t(u);return c==r||c==i||c==n||c==a}return V0=o,V0}var F0,UI;function vq(){if(UI)return F0;UI=1;var t=na(),e=t["__core-js_shared__"];return F0=e,F0}var U0,qI;function _q(){if(qI)return U0;qI=1;var t=vq(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return U0=n,U0}var q0,BI;function UL(){if(BI)return q0;BI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return q0=n,q0}var B0,zI;function bq(){if(zI)return B0;zI=1;var t=tT(),e=_q(),n=Ho(),r=UL(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,c=o.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(y){if(!n(y)||e(y))return!1;var _=t(y)?d:a;return _.test(r(y))}return B0=p,B0}var z0,HI;function wq(){if(HI)return z0;HI=1;function t(e,n){return e?.[n]}return z0=t,z0}var H0,WI;function il(){if(WI)return H0;WI=1;var t=bq(),e=wq();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return H0=n,H0}var W0,GI;function Lg(){if(GI)return W0;GI=1;var t=il(),e=t(Object,"create");return W0=e,W0}var G0,KI;function Eq(){if(KI)return G0;KI=1;var t=Lg();function e(){this.__data__=t?t(null):{},this.size=0}return G0=e,G0}var K0,XI;function xq(){if(XI)return K0;XI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return K0=t,K0}var X0,QI;function Tq(){if(QI)return X0;QI=1;var t=Lg(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(t){var u=o[a];return u===e?void 0:u}return r.call(o,a)?o[a]:void 0}return X0=i,X0}var Q0,YI;function Sq(){if(YI)return Q0;YI=1;var t=Lg(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return Q0=r,Q0}var Y0,JI;function Aq(){if(JI)return Y0;JI=1;var t=Lg(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return Y0=n,Y0}var J0,ZI;function Pq(){if(ZI)return J0;ZI=1;var t=Eq(),e=xq(),n=Tq(),r=Sq(),i=Aq();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,J0=a,J0}var Z0,eO;function Iq(){if(eO)return Z0;eO=1;function t(){this.__data__=[],this.size=0}return Z0=t,Z0}var e_,tO;function nT(){if(tO)return e_;tO=1;function t(e,n){return e===n||e!==e&&n!==n}return e_=t,e_}var t_,nO;function jg(){if(nO)return t_;nO=1;var t=nT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return t_=e,t_}var n_,rO;function Oq(){if(rO)return n_;rO=1;var t=jg(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var u=a.length-1;return o==u?a.pop():n.call(a,o,1),--this.size,!0}return n_=r,n_}var r_,iO;function kq(){if(iO)return r_;iO=1;var t=jg();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return r_=e,r_}var i_,aO;function Cq(){if(aO)return i_;aO=1;var t=jg();function e(n){return t(this.__data__,n)>-1}return i_=e,i_}var a_,oO;function Rq(){if(oO)return a_;oO=1;var t=jg();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return a_=e,a_}var o_,sO;function $g(){if(sO)return o_;sO=1;var t=Iq(),e=Oq(),n=kq(),r=Cq(),i=Rq();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,o_=a,o_}var s_,lO;function rT(){if(lO)return s_;lO=1;var t=il(),e=na(),n=t(e,"Map");return s_=n,s_}var l_,uO;function Nq(){if(uO)return l_;uO=1;var t=Pq(),e=$g(),n=rT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return l_=r,l_}var u_,cO;function Mq(){if(cO)return u_;cO=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return u_=t,u_}var c_,fO;function Vg(){if(fO)return c_;fO=1;var t=Mq();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return c_=e,c_}var f_,hO;function Dq(){if(hO)return f_;hO=1;var t=Vg();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return f_=e,f_}var h_,dO;function Lq(){if(dO)return h_;dO=1;var t=Vg();function e(n){return t(this,n).get(n)}return h_=e,h_}var d_,pO;function jq(){if(pO)return d_;pO=1;var t=Vg();function e(n){return t(this,n).has(n)}return d_=e,d_}var p_,mO;function $q(){if(mO)return p_;mO=1;var t=Vg();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return p_=e,p_}var m_,gO;function iT(){if(gO)return m_;gO=1;var t=Nq(),e=Dq(),n=Lq(),r=jq(),i=$q();function a(o){var u=-1,c=o==null?0:o.length;for(this.clear();++u<c;){var f=o[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,m_=a,m_}var g_,yO;function qL(){if(yO)return g_;yO=1;var t=iT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,u=i?i.apply(this,o):o[0],c=a.cache;if(c.has(u))return c.get(u);var f=r.apply(this,o);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,g_=n,g_}var y_,vO;function Vq(){if(vO)return y_;vO=1;var t=qL(),e=500;function n(r){var i=t(r,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return y_=n,y_}var v_,_O;function Fq(){if(_O)return v_;_O=1;var t=Vq(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,u,c,f){a.push(c?f.replace(n,"$1"):u||o)}),a});return v_=r,v_}var __,bO;function aT(){if(bO)return __;bO=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return __=t,__}var b_,wO;function Uq(){if(wO)return b_;wO=1;var t=zh(),e=aT(),n=wr(),r=sc(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return e(u,o)+"";if(r(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return b_=o,b_}var w_,EO;function BL(){if(EO)return w_;EO=1;var t=Uq();function e(n){return n==null?"":t(n)}return w_=e,w_}var E_,xO;function zL(){if(xO)return E_;xO=1;var t=wr(),e=eT(),n=Fq(),r=BL();function i(a,o){return t(a)?a:e(a,o)?[a]:n(r(a))}return E_=i,E_}var x_,TO;function Fg(){if(TO)return x_;TO=1;var t=sc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return x_=e,x_}var T_,SO;function oT(){if(SO)return T_;SO=1;var t=zL(),e=Fg();function n(r,i){i=t(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[e(i[a++])];return a&&a==o?r:void 0}return T_=n,T_}var S_,AO;function HL(){if(AO)return S_;AO=1;var t=oT();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return S_=e,S_}var qq=HL();const Dr=ht(qq);var A_,PO;function Bq(){if(PO)return A_;PO=1;function t(e){return e==null}return A_=t,A_}var zq=Bq();const Je=ht(zq);var P_,IO;function Hq(){if(IO)return P_;IO=1;var t=Ba(),e=wr(),n=za(),r="[object String]";function i(a){return typeof a=="string"||!e(a)&&n(a)&&t(a)==r}return P_=i,P_}var Wq=Hq();const zs=ht(Wq);var Gq=tT();const Be=ht(Gq);var Kq=Ho();const lc=ht(Kq);var I_={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function Xq(){if(OO)return ut;OO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function E(b){if(typeof b=="object"&&b!==null){var C=b.$$typeof;switch(C){case t:switch(b=b.type,b){case n:case i:case r:case f:case d:return b;default:switch(b=b&&b.$$typeof,b){case u:case o:case c:case y:case p:case a:return b;default:return C}}case e:return C}}}return ut.ContextConsumer=o,ut.ContextProvider=a,ut.Element=t,ut.ForwardRef=c,ut.Fragment=n,ut.Lazy=y,ut.Memo=p,ut.Portal=e,ut.Profiler=i,ut.StrictMode=r,ut.Suspense=f,ut.SuspenseList=d,ut.isAsyncMode=function(){return!1},ut.isConcurrentMode=function(){return!1},ut.isContextConsumer=function(b){return E(b)===o},ut.isContextProvider=function(b){return E(b)===a},ut.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ut.isForwardRef=function(b){return E(b)===c},ut.isFragment=function(b){return E(b)===n},ut.isLazy=function(b){return E(b)===y},ut.isMemo=function(b){return E(b)===p},ut.isPortal=function(b){return E(b)===e},ut.isProfiler=function(b){return E(b)===i},ut.isStrictMode=function(b){return E(b)===r},ut.isSuspense=function(b){return E(b)===f},ut.isSuspenseList=function(b){return E(b)===d},ut.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===f||b===d||b===_||typeof b=="object"&&b!==null&&(b.$$typeof===y||b.$$typeof===p||b.$$typeof===a||b.$$typeof===o||b.$$typeof===c||b.$$typeof===x||b.getModuleId!==void 0)},ut.typeOf=E,ut}var kO;function Qq(){return kO||(kO=1,I_.exports=Xq()),I_.exports}var Yq=Qq(),O_,CO;function WL(){if(CO)return O_;CO=1;var t=Ba(),e=za(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return O_=r,O_}var k_,RO;function Jq(){if(RO)return k_;RO=1;var t=WL();function e(n){return t(n)&&n!=+n}return k_=e,k_}var Zq=Jq();const Hh=ht(Zq);var eB=WL();const tB=ht(eB);var tr=function(e){return e===0?0:e>0?1:-1},Ms=function(e){return zs(e)&&e.indexOf("%")===e.length-1},ge=function(e){return tB(e)&&!Hh(e)},un=function(e){return ge(e)||zs(e)},nB=0,Wh=function(e){var n=++nB;return"".concat(e||"").concat(n)},nr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!zs(e))return r;var a;if(Ms(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Hh(a)&&(a=r),i&&a>n&&(a=n),a},To=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},rB=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Eo=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function HE(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Dr(r,e))===n})}var iB=function(e,n){return ge(e)&&ge(n)?e-n:zs(e)&&zs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function _u(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function WE(t){"@babel/helpers - typeof";return WE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WE(t)}var aB=["viewBox","children"],oB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NO=["points","pathLength"],C_={svg:aB,polygon:NO,polyline:NO},sT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],mm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(z.isValidElement(e)&&(r=e.props),!lc(r))return null;var i={};return Object.keys(r).forEach(function(a){sT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},sB=function(e,n,r){return function(i){return e(n,r,i),null}},Hs=function(e,n,r){if(!lc(e)||WE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];sT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=sB(o,n,r))}),i},lB=["children"],uB=["children"];function MO(t,e){if(t==null)return{};var n=cB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ia=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},LO=null,R_=null,lT=function t(e){if(e===LO&&Array.isArray(R_))return R_;var n=[];return z.Children.forEach(e,function(r){Je(r)||(Yq.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),R_=n,LO=e,n};function Zr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ia(i)}):r=[Ia(e)],lT(t).forEach(function(i){var a=Dr(i,"type.displayName")||Dr(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function kr(t,e){var n=Zr(t,e);return n&&n[0]}var jO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},fB=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],hB=function(e){return e&&e.type&&zs(e.type)&&fB.indexOf(e.type)>=0},dB=function(e,n,r,i){var a,o=(a=C_?.[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Be(e)&&(i&&o.includes(n)||oB.includes(n))||r&&sT.includes(n)},Ue=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(z.isValidElement(e)&&(i=e.props),!lc(i))return null;var a={};return Object.keys(i).forEach(function(o){var u;dB((u=i)===null||u===void 0?void 0:u[o],o,n,r)&&(a[o]=i[o])}),a},GE=function t(e,n){if(e===n)return!0;var r=z.Children.count(e);if(r!==z.Children.count(n))return!1;if(r===0)return!0;if(r===1)return $O(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!$O(a,o))return!1}return!0},$O=function(e,n){if(Je(e)&&Je(n))return!0;if(!Je(e)&&!Je(n)){var r=e.props||{},i=r.children,a=MO(r,lB),o=n.props||{},u=o.children,c=MO(o,uB);return i&&u?_u(a,c)&&GE(i,u):!i&&!u?_u(a,c):!1}return!1},VO=function(e,n){var r=[],i={};return lT(e).forEach(function(a,o){if(hB(a))r.push(a);else if(a){var u=Ia(a.type),c=n[u]||{},f=c.handler,d=c.once;if(f&&(!d||!i[u])){var p=f(a,u,o);r.push(p),i[u]=!0}}}),r},pB=function(e){var n=e&&e.type;return n&&DO[n]?DO[n]:null},mB=function(e,n){return lT(n).indexOf(e)},gB=["children","width","height","viewBox","className","style","title","desc"];function KE(){return KE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KE.apply(this,arguments)}function yB(t,e){if(t==null)return{};var n=vB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XE(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,u=t.title,c=t.desc,f=yB(t,gB),d=i||{width:n,height:r,x:0,y:0},p=Ye("recharts-surface",a);return v.createElement("svg",KE({},Ue(f,!0,"svg"),{className:p,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),v.createElement("title",null,u),v.createElement("desc",null,c),e)}var _B=["children","className"];function QE(){return QE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QE.apply(this,arguments)}function bB(t,e){if(t==null)return{};var n=wB(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wB(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mt=v.forwardRef(function(t,e){var n=t.children,r=t.className,i=bB(t,_B),a=Ye("recharts-layer",r);return v.createElement("g",QE({className:a},Ue(i,!0),{ref:e}),n)}),Ai=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]},N_,FO;function EB(){if(FO)return N_;FO=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+n];return o}return N_=t,N_}var M_,UO;function xB(){if(UO)return M_;UO=1;var t=EB();function e(n,r,i){var a=n.length;return i=i===void 0?a:i,!r&&i>=a?n:t(n,r,i)}return M_=e,M_}var D_,qO;function GL(){if(qO)return D_;qO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+a+"]");function c(f){return u.test(f)}return D_=c,D_}var L_,BO;function TB(){if(BO)return L_;BO=1;function t(e){return e.split("")}return L_=t,L_}var j_,zO;function SB(){if(zO)return j_;zO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,a="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+c+")",d="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",x=f+"?",E="["+a+"]?",b="(?:"+_+"(?:"+[d,p,y].join("|")+")"+E+x+")*",C=E+x+b,k="(?:"+[d+u+"?",u,p,y,o].join("|")+")",A=RegExp(c+"(?="+c+")|"+k+C,"g");function L(I){return I.match(A)||[]}return j_=L,j_}var $_,HO;function AB(){if(HO)return $_;HO=1;var t=TB(),e=GL(),n=SB();function r(i){return e(i)?n(i):t(i)}return $_=r,$_}var V_,WO;function PB(){if(WO)return V_;WO=1;var t=xB(),e=GL(),n=AB(),r=BL();function i(a){return function(o){o=r(o);var u=e(o)?n(o):void 0,c=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return c[a]()+f}}return V_=i,V_}var F_,GO;function IB(){if(GO)return F_;GO=1;var t=PB(),e=t("toUpperCase");return F_=e,F_}var OB=IB();const Ug=ht(OB);function At(t){return function(){return t}}const KL=Math.cos,gm=Math.sin,ki=Math.sqrt,ym=Math.PI,qg=2*ym,YE=Math.PI,JE=2*YE,Os=1e-6,kB=JE-Os;function XL(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function CB(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XL;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class RB{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XL:CB(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,c=r-e,f=i-n,d=o-e,p=u-n,y=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Os)if(!(Math.abs(p*c-f*d)>Os)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-o,x=i-u,E=c*c+f*f,b=_*_+x*x,C=Math.sqrt(E),k=Math.sqrt(y),A=a*Math.tan((YE-Math.acos((E+y-b)/(2*C*k)))/2),L=A/k,I=A/C;Math.abs(L-1)>Os&&this._append`L${e+L*d},${n+L*p}`,this._append`A${a},${a},0,0,${+(p*_>d*x)},${this._x1=e+I*c},${this._y1=n+I*f}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),f=e+u,d=n+c,p=1^o,y=o?i-a:a-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Os||Math.abs(this._y1-d)>Os)&&this._append`L${f},${d}`,r&&(y<0&&(y=y%JE+JE),y>kB?this._append`A${r},${r},0,1,${p},${e-u},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=d}`:y>Os&&this._append`A${r},${r},0,${+(y>=YE)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new RB(e)}function cT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function QL(t){this._context=t}QL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Bg(t){return new QL(t)}function YL(t){return t[0]}function JL(t){return t[1]}function ZL(t,e){var n=At(!0),r=null,i=Bg,a=null,o=uT(u);t=typeof t=="function"?t:t===void 0?YL:At(t),e=typeof e=="function"?e:e===void 0?JL:At(e);function u(c){var f,d=(c=cT(c)).length,p,y=!1,_;for(r==null&&(a=i(_=o())),f=0;f<=d;++f)!(f<d&&n(p=c[f],f,c))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,f,c),+e(p,f,c));if(_)return a=null,_+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:At(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:At(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:At(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),u):r},u}function Rp(t,e,n){var r=null,i=At(!0),a=null,o=Bg,u=null,c=uT(f);t=typeof t=="function"?t:t===void 0?YL:At(+t),e=typeof e=="function"?e:At(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?JL:At(+n);function f(p){var y,_,x,E=(p=cT(p)).length,b,C=!1,k,A=new Array(E),L=new Array(E);for(a==null&&(u=o(k=c())),y=0;y<=E;++y){if(!(y<E&&i(b=p[y],y,p))===C)if(C=!C)_=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),x=y-1;x>=_;--x)u.point(A[x],L[x]);u.lineEnd(),u.areaEnd()}C&&(A[y]=+t(b,y,p),L[y]=+e(b,y,p),u.point(r?+r(b,y,p):A[y],n?+n(b,y,p):L[y]))}if(k)return u=null,k+""||null}function d(){return ZL().defined(i).curve(o).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:At(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:At(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:At(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:At(+p),f):n},f.lineX0=f.lineY0=function(){return d().x(t).y(e)},f.lineY1=function(){return d().x(t).y(n)},f.lineX1=function(){return d().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:At(!!p),f):i},f.curve=function(p){return arguments.length?(o=p,a!=null&&(u=o(a)),f):o},f.context=function(p){return arguments.length?(p==null?a=u=null:u=o(a=p),f):a},f}class ej{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NB(t){return new ej(t,!0)}function MB(t){return new ej(t,!1)}const fT={draw(t,e){const n=ki(e/ym);t.moveTo(n,0),t.arc(0,0,n,0,qg)}},DB={draw(t,e){const n=ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},tj=ki(1/3),LB=tj*2,jB={draw(t,e){const n=ki(e/LB),r=n*tj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},$B={draw(t,e){const n=ki(e),r=-n/2;t.rect(r,r,n,n)}},VB=.8908130915292852,nj=gm(ym/10)/gm(7*ym/10),FB=gm(qg/10)*nj,UB=-KL(qg/10)*nj,qB={draw(t,e){const n=ki(e*VB),r=FB*n,i=UB*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=qg*a/5,u=KL(o),c=gm(o);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},U_=ki(3),BB={draw(t,e){const n=-ki(e/(U_*3));t.moveTo(0,n*2),t.lineTo(-U_*n,-n),t.lineTo(U_*n,-n),t.closePath()}},Gr=-.5,Kr=ki(3)/2,ZE=1/ki(12),zB=(ZE/2+1)*3,HB={draw(t,e){const n=ki(e/zB),r=n/2,i=n*ZE,a=r,o=n*ZE+n,u=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(u,c),t.lineTo(Gr*r-Kr*i,Kr*r+Gr*i),t.lineTo(Gr*a-Kr*o,Kr*a+Gr*o),t.lineTo(Gr*u-Kr*c,Kr*u+Gr*c),t.lineTo(Gr*r+Kr*i,Gr*i-Kr*r),t.lineTo(Gr*a+Kr*o,Gr*o-Kr*a),t.lineTo(Gr*u+Kr*c,Gr*c-Kr*u),t.closePath()}};function WB(t,e){let n=null,r=uT(i);t=typeof t=="function"?t:At(t||fT),e=typeof e=="function"?e:At(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:At(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:At(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function vm(){}function _m(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function rj(t){this._context=t}rj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_m(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GB(t){return new rj(t)}function ij(t){this._context=t}ij.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KB(t){return new ij(t)}function aj(t){this._context=t}aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_m(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XB(t){return new aj(t)}function oj(t){this._context=t}oj.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function QB(t){return new oj(t)}function KO(t){return t<0?-1:1}function XO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(KO(a)+KO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function QO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function q_(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,u=(a-r)/3;t._context.bezierCurveTo(r+u,i+u*e,a-u,o-u*n,a,o)}function bm(t){this._context=t}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q_(this,this._t0,QO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,q_(this,QO(this,n=XO(this,t,e)),n);break;default:q_(this,this._t0,n=XO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function sj(t){this._context=new lj(t)}(sj.prototype=Object.create(bm.prototype)).point=function(t,e){bm.prototype.point.call(this,e,t)};function lj(t){this._context=t}lj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function YB(t){return new bm(t)}function JB(t){return new sj(t)}function uj(t){this._context=t}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YO(t),i=YO(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YO(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function ZB(t){return new uj(t)}function zg(t,e){this._context=t,this._t=e}zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function e5(t){return new zg(t,.5)}function t5(t){return new zg(t,0)}function n5(t){return new zg(t,1)}function Pu(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,u=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function e1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function r5(t,e){return t[e]}function i5(t){const e=[];return e.key=t,e}function a5(){var t=At([]),e=e1,n=Pu,r=r5;function i(a){var o=Array.from(t.apply(this,arguments),i5),u,c=o.length,f=-1,d;for(const p of a)for(u=0,++f;u<c;++u)(o[u][f]=[0,+r(p,o[u].key,f,a)]).data=p;for(u=0,d=cT(e(o));u<c;++u)o[d[u]].index=u;return n(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:At(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?e1:typeof a=="function"?a:At(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Pu,i):n},i}function o5(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Pu(t,e)}}function s5(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,u=0;o<i;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Pu(t,e)}}function l5(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var u=0,c=0,f=0;u<o;++u){for(var d=t[e[u]],p=d[r][1]||0,y=d[r-1][1]||0,_=(p-y)/2,x=0;x<u;++x){var E=t[e[x]],b=E[r][1]||0,C=E[r-1][1]||0;_+=b-C}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Pu(t,e)}}function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}var u5=["type","size","sizeType"];function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t1.apply(this,arguments)}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){c5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c5(t,e,n){return e=f5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f5(t){var e=h5(t,"string");return Kf(e)=="symbol"?e:e+""}function h5(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d5(t,e){if(t==null)return{};var n=p5(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cj={symbolCircle:fT,symbolCross:DB,symbolDiamond:jB,symbolSquare:$B,symbolStar:qB,symbolTriangle:BB,symbolWye:HB},m5=Math.PI/180,g5=function(e){var n="symbol".concat(Ug(e));return cj[n]||fT},y5=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*m5;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},v5=function(e,n){cj["symbol".concat(Ug(e))]=n},hT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,c=d5(e,u5),f=ZO(ZO({},c),{},{type:r,size:a,sizeType:u}),d=function(){var b=g5(r),C=WB().type(b).size(y5(a,u,r));return C()},p=f.className,y=f.cx,_=f.cy,x=Ue(f,!0);return y===+y&&_===+_&&a===+a?v.createElement("path",t1({},x,{className:Ye("recharts-symbols",p),transform:"translate(".concat(y,", ").concat(_,")"),d:d()})):null};hT.registerSymbol=v5;function Iu(t){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(t)}function n1(){return n1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n1.apply(this,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Xf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function E5(t,e,n){return e&&w5(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x5(t,e,n){return e=wm(e),T5(t,fj()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function T5(t,e){if(e&&(Iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S5(t)}function S5(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fj=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function A5(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r1(t,e)}function Xf(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=P5(t,"string");return Iu(e)=="symbol"?e:e+""}function P5(t,e){if(Iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xr=32,dT=function(t){function e(){return b5(this,e),x5(this,e,arguments)}return A5(e,t),E5(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Xr/2,o=Xr/6,u=Xr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Xr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(a,`
            H`).concat(Xr,"M").concat(2*u,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Xr/8,"h").concat(Xr,"v").concat(Xr*3/4,"h").concat(-Xr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(r.legendIcon)){var f=_5({},r);return delete f.legendIcon,v.cloneElement(r.legendIcon,f)}return v.createElement(hT,{fill:c,cx:a,cy:a,size:Xr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,u=i.layout,c=i.formatter,f=i.inactiveColor,d={x:0,y:0,width:Xr,height:Xr},p={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(_,x){var E=_.formatter||c,b=Ye(Xf(Xf({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",_.inactive));if(_.type==="none")return null;var C=Be(_.value)?null:_.value;Ai(!Be(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=_.inactive?f:_.color;return v.createElement("li",n1({className:b,style:p,key:"legend-item-".concat(x)},Hs(r.props,_,x)),v.createElement(XE,{width:o,height:o,viewBox:d,style:y},r.renderIcon(_)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},E?E(C,_,x):C))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])}(z.PureComponent);Xf(dT,"displayName","Legend");Xf(dT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var B_,tk;function I5(){if(tk)return B_;tk=1;var t=$g();function e(){this.__data__=new t,this.size=0}return B_=e,B_}var z_,nk;function O5(){if(nk)return z_;nk=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return z_=t,z_}var H_,rk;function k5(){if(rk)return H_;rk=1;function t(e){return this.__data__.get(e)}return H_=t,H_}var W_,ik;function C5(){if(ik)return W_;ik=1;function t(e){return this.__data__.has(e)}return W_=t,W_}var G_,ak;function R5(){if(ak)return G_;ak=1;var t=$g(),e=rT(),n=iT(),r=200;function i(a,o){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<r-1)return c.push([a,o]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,o),this.size=u.size,this}return G_=i,G_}var K_,ok;function dj(){if(ok)return K_;ok=1;var t=$g(),e=I5(),n=O5(),r=k5(),i=C5(),a=R5();function o(u){var c=this.__data__=new t(u);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,K_=o,K_}var X_,sk;function N5(){if(sk)return X_;sk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return X_=e,X_}var Q_,lk;function M5(){if(lk)return Q_;lk=1;function t(e){return this.__data__.has(e)}return Q_=t,Q_}var Y_,uk;function pj(){if(uk)return Y_;uk=1;var t=iT(),e=N5(),n=M5();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Y_=r,Y_}var J_,ck;function mj(){if(ck)return J_;ck=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return J_=t,J_}var Z_,fk;function gj(){if(fk)return Z_;fk=1;function t(e,n){return e.has(n)}return Z_=t,Z_}var eb,hk;function yj(){if(hk)return eb;hk=1;var t=pj(),e=mj(),n=gj(),r=1,i=2;function a(o,u,c,f,d,p){var y=c&r,_=o.length,x=u.length;if(_!=x&&!(y&&x>_))return!1;var E=p.get(o),b=p.get(u);if(E&&b)return E==u&&b==o;var C=-1,k=!0,A=c&i?new t:void 0;for(p.set(o,u),p.set(u,o);++C<_;){var L=o[C],I=u[C];if(f)var N=y?f(I,L,C,u,o,p):f(L,I,C,o,u,p);if(N!==void 0){if(N)continue;k=!1;break}if(A){if(!e(u,function(P,O){if(!n(A,O)&&(L===P||d(L,P,c,f,p)))return A.push(O)})){k=!1;break}}else if(!(L===I||d(L,I,c,f,p))){k=!1;break}}return p.delete(o),p.delete(u),k}return eb=a,eb}var tb,dk;function D5(){if(dk)return tb;dk=1;var t=na(),e=t.Uint8Array;return tb=e,tb}var nb,pk;function L5(){if(pk)return nb;pk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return nb=t,nb}var rb,mk;function pT(){if(mk)return rb;mk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return rb=t,rb}var ib,gk;function j5(){if(gk)return ib;gk=1;var t=zh(),e=D5(),n=nT(),r=yj(),i=L5(),a=pT(),o=1,u=2,c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",y="[object Number]",_="[object RegExp]",x="[object Set]",E="[object String]",b="[object Symbol]",C="[object ArrayBuffer]",k="[object DataView]",A=t?t.prototype:void 0,L=A?A.valueOf:void 0;function I(N,P,O,M,F,D,V){switch(O){case k:if(N.byteLength!=P.byteLength||N.byteOffset!=P.byteOffset)return!1;N=N.buffer,P=P.buffer;case C:return!(N.byteLength!=P.byteLength||!D(new e(N),new e(P)));case c:case f:case y:return n(+N,+P);case d:return N.name==P.name&&N.message==P.message;case _:case E:return N==P+"";case p:var j=i;case x:var K=M&o;if(j||(j=a),N.size!=P.size&&!K)return!1;var J=V.get(N);if(J)return J==P;M|=u,V.set(N,P);var ie=r(j(N),j(P),M,F,D,V);return V.delete(N),ie;case b:if(L)return L.call(N)==L.call(P)}return!1}return ib=I,ib}var ab,yk;function vj(){if(yk)return ab;yk=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return ab=t,ab}var ob,vk;function $5(){if(vk)return ob;vk=1;var t=vj(),e=wr();function n(r,i,a){var o=i(r);return e(r)?o:t(o,a(r))}return ob=n,ob}var sb,_k;function V5(){if(_k)return sb;_k=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,o=[];++r<i;){var u=e[r];n(u,r,e)&&(o[a++]=u)}return o}return sb=t,sb}var lb,bk;function F5(){if(bk)return lb;bk=1;function t(){return[]}return lb=t,lb}var ub,wk;function U5(){if(wk)return ub;wk=1;var t=V5(),e=F5(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return r.call(o,u)}))}:e;return ub=a,ub}var cb,Ek;function q5(){if(Ek)return cb;Ek=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return cb=t,cb}var fb,xk;function B5(){if(xk)return fb;xk=1;var t=Ba(),e=za(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return fb=r,fb}var hb,Tk;function mT(){if(Tk)return hb;Tk=1;var t=B5(),e=za(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return hb=a,hb}var Tf={exports:{}},db,Sk;function z5(){if(Sk)return db;Sk=1;function t(){return!1}return db=t,db}Tf.exports;var Ak;function _j(){return Ak||(Ak=1,function(t,e){var n=na(),r=z5(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,u=o?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||r;t.exports=f}(Tf,Tf.exports)),Tf.exports}var pb,Pk;function gT(){if(Pk)return pb;Pk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return pb=n,pb}var mb,Ik;function yT(){if(Ik)return mb;Ik=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return mb=e,mb}var gb,Ok;function H5(){if(Ok)return gb;Ok=1;var t=Ba(),e=yT(),n=za(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",y="[object RegExp]",_="[object Set]",x="[object String]",E="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",k="[object Float32Array]",A="[object Float64Array]",L="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",D={};D[k]=D[A]=D[L]=D[I]=D[N]=D[P]=D[O]=D[M]=D[F]=!0,D[r]=D[i]=D[b]=D[a]=D[C]=D[o]=D[u]=D[c]=D[f]=D[d]=D[p]=D[y]=D[_]=D[x]=D[E]=!1;function V(j){return n(j)&&e(j.length)&&!!D[t(j)]}return gb=V,gb}var yb,kk;function bj(){if(kk)return yb;kk=1;function t(e){return function(n){return e(n)}}return yb=t,yb}var Sf={exports:{}};Sf.exports;var Ck;function W5(){return Ck||(Ck=1,function(t,e){var n=FL(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,u=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=u}(Sf,Sf.exports)),Sf.exports}var vb,Rk;function wj(){if(Rk)return vb;Rk=1;var t=H5(),e=bj(),n=W5(),r=n&&n.isTypedArray,i=r?e(r):t;return vb=i,vb}var _b,Nk;function G5(){if(Nk)return _b;Nk=1;var t=q5(),e=mT(),n=wr(),r=_j(),i=gT(),a=wj(),o=Object.prototype,u=o.hasOwnProperty;function c(f,d){var p=n(f),y=!p&&e(f),_=!p&&!y&&r(f),x=!p&&!y&&!_&&a(f),E=p||y||_||x,b=E?t(f.length,String):[],C=b.length;for(var k in f)(d||u.call(f,k))&&!(E&&(k=="length"||_&&(k=="offset"||k=="parent")||x&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||i(k,C)))&&b.push(k);return b}return _b=c,_b}var bb,Mk;function K5(){if(Mk)return bb;Mk=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return bb=e,bb}var wb,Dk;function Ej(){if(Dk)return wb;Dk=1;function t(e,n){return function(r){return e(n(r))}}return wb=t,wb}var Eb,Lk;function X5(){if(Lk)return Eb;Lk=1;var t=Ej(),e=t(Object.keys,Object);return Eb=e,Eb}var xb,jk;function Q5(){if(jk)return xb;jk=1;var t=K5(),e=X5(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var u in Object(a))r.call(a,u)&&u!="constructor"&&o.push(u);return o}return xb=i,xb}var Tb,$k;function Gh(){if($k)return Tb;$k=1;var t=tT(),e=yT();function n(r){return r!=null&&e(r.length)&&!t(r)}return Tb=n,Tb}var Sb,Vk;function Hg(){if(Vk)return Sb;Vk=1;var t=G5(),e=Q5(),n=Gh();function r(i){return n(i)?t(i):e(i)}return Sb=r,Sb}var Ab,Fk;function Y5(){if(Fk)return Ab;Fk=1;var t=$5(),e=U5(),n=Hg();function r(i){return t(i,n,e)}return Ab=r,Ab}var Pb,Uk;function J5(){if(Uk)return Pb;Uk=1;var t=Y5(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,u,c,f,d){var p=u&e,y=t(a),_=y.length,x=t(o),E=x.length;if(_!=E&&!p)return!1;for(var b=_;b--;){var C=y[b];if(!(p?C in o:r.call(o,C)))return!1}var k=d.get(a),A=d.get(o);if(k&&A)return k==o&&A==a;var L=!0;d.set(a,o),d.set(o,a);for(var I=p;++b<_;){C=y[b];var N=a[C],P=o[C];if(c)var O=p?c(P,N,C,o,a,d):c(N,P,C,a,o,d);if(!(O===void 0?N===P||f(N,P,u,c,d):O)){L=!1;break}I||(I=C=="constructor")}if(L&&!I){var M=a.constructor,F=o.constructor;M!=F&&"constructor"in a&&"constructor"in o&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(L=!1)}return d.delete(a),d.delete(o),L}return Pb=i,Pb}var Ib,qk;function Z5(){if(qk)return Ib;qk=1;var t=il(),e=na(),n=t(e,"DataView");return Ib=n,Ib}var Ob,Bk;function ez(){if(Bk)return Ob;Bk=1;var t=il(),e=na(),n=t(e,"Promise");return Ob=n,Ob}var kb,zk;function xj(){if(zk)return kb;zk=1;var t=il(),e=na(),n=t(e,"Set");return kb=n,kb}var Cb,Hk;function tz(){if(Hk)return Cb;Hk=1;var t=il(),e=na(),n=t(e,"WeakMap");return Cb=n,Cb}var Rb,Wk;function nz(){if(Wk)return Rb;Wk=1;var t=Z5(),e=rT(),n=ez(),r=xj(),i=tz(),a=Ba(),o=UL(),u="[object Map]",c="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",_=o(t),x=o(e),E=o(n),b=o(r),C=o(i),k=a;return(t&&k(new t(new ArrayBuffer(1)))!=y||e&&k(new e)!=u||n&&k(n.resolve())!=f||r&&k(new r)!=d||i&&k(new i)!=p)&&(k=function(A){var L=a(A),I=L==c?A.constructor:void 0,N=I?o(I):"";if(N)switch(N){case _:return y;case x:return u;case E:return f;case b:return d;case C:return p}return L}),Rb=k,Rb}var Nb,Gk;function rz(){if(Gk)return Nb;Gk=1;var t=dj(),e=yj(),n=j5(),r=J5(),i=nz(),a=wr(),o=_j(),u=wj(),c=1,f="[object Arguments]",d="[object Array]",p="[object Object]",y=Object.prototype,_=y.hasOwnProperty;function x(E,b,C,k,A,L){var I=a(E),N=a(b),P=I?d:i(E),O=N?d:i(b);P=P==f?p:P,O=O==f?p:O;var M=P==p,F=O==p,D=P==O;if(D&&o(E)){if(!o(b))return!1;I=!0,M=!1}if(D&&!M)return L||(L=new t),I||u(E)?e(E,b,C,k,A,L):n(E,b,P,C,k,A,L);if(!(C&c)){var V=M&&_.call(E,"__wrapped__"),j=F&&_.call(b,"__wrapped__");if(V||j){var K=V?E.value():E,J=j?b.value():b;return L||(L=new t),A(K,J,C,k,L)}}return D?(L||(L=new t),r(E,b,C,k,A,L)):!1}return Nb=x,Nb}var Mb,Kk;function vT(){if(Kk)return Mb;Kk=1;var t=rz(),e=za();function n(r,i,a,o,u){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,o,n,u)}return Mb=n,Mb}var Db,Xk;function iz(){if(Xk)return Db;Xk=1;var t=dj(),e=vT(),n=1,r=2;function i(a,o,u,c){var f=u.length,d=f,p=!c;if(a==null)return!d;for(a=Object(a);f--;){var y=u[f];if(p&&y[2]?y[1]!==a[y[0]]:!(y[0]in a))return!1}for(;++f<d;){y=u[f];var _=y[0],x=a[_],E=y[1];if(p&&y[2]){if(x===void 0&&!(_ in a))return!1}else{var b=new t;if(c)var C=c(x,E,_,a,o,b);if(!(C===void 0?e(E,x,n|r,c,b):C))return!1}}return!0}return Db=i,Db}var Lb,Qk;function Tj(){if(Qk)return Lb;Qk=1;var t=Ho();function e(n){return n===n&&!t(n)}return Lb=e,Lb}var jb,Yk;function az(){if(Yk)return jb;Yk=1;var t=Tj(),e=Hg();function n(r){for(var i=e(r),a=i.length;a--;){var o=i[a],u=r[o];i[a]=[o,u,t(u)]}return i}return jb=n,jb}var $b,Jk;function Sj(){if(Jk)return $b;Jk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return $b=t,$b}var Vb,Zk;function oz(){if(Zk)return Vb;Zk=1;var t=iz(),e=az(),n=Sj();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return Vb=r,Vb}var Fb,eC;function sz(){if(eC)return Fb;eC=1;function t(e,n){return e!=null&&n in Object(e)}return Fb=t,Fb}var Ub,tC;function lz(){if(tC)return Ub;tC=1;var t=zL(),e=mT(),n=wr(),r=gT(),i=yT(),a=Fg();function o(u,c,f){c=t(c,u);for(var d=-1,p=c.length,y=!1;++d<p;){var _=a(c[d]);if(!(y=u!=null&&f(u,_)))break;u=u[_]}return y||++d!=p?y:(p=u==null?0:u.length,!!p&&i(p)&&r(_,p)&&(n(u)||e(u)))}return Ub=o,Ub}var qb,nC;function uz(){if(nC)return qb;nC=1;var t=sz(),e=lz();function n(r,i){return r!=null&&e(r,i,t)}return qb=n,qb}var Bb,rC;function cz(){if(rC)return Bb;rC=1;var t=vT(),e=HL(),n=uz(),r=eT(),i=Tj(),a=Sj(),o=Fg(),u=1,c=2;function f(d,p){return r(d)&&i(p)?a(o(d),p):function(y){var _=e(y,d);return _===void 0&&_===p?n(y,d):t(p,_,u|c)}}return Bb=f,Bb}var zb,iC;function uc(){if(iC)return zb;iC=1;function t(e){return e}return zb=t,zb}var Hb,aC;function fz(){if(aC)return Hb;aC=1;function t(e){return function(n){return n?.[e]}}return Hb=t,Hb}var Wb,oC;function hz(){if(oC)return Wb;oC=1;var t=oT();function e(n){return function(r){return t(r,n)}}return Wb=e,Wb}var Gb,sC;function dz(){if(sC)return Gb;sC=1;var t=fz(),e=hz(),n=eT(),r=Fg();function i(a){return n(a)?t(r(a)):e(a)}return Gb=i,Gb}var Kb,lC;function ra(){if(lC)return Kb;lC=1;var t=oz(),e=cz(),n=uc(),r=wr(),i=dz();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):i(o)}return Kb=a,Kb}var Xb,uC;function Aj(){if(uC)return Xb;uC=1;function t(e,n,r,i){for(var a=e.length,o=r+(i?1:-1);i?o--:++o<a;)if(n(e[o],o,e))return o;return-1}return Xb=t,Xb}var Qb,cC;function pz(){if(cC)return Qb;cC=1;function t(e){return e!==e}return Qb=t,Qb}var Yb,fC;function mz(){if(fC)return Yb;fC=1;function t(e,n,r){for(var i=r-1,a=e.length;++i<a;)if(e[i]===n)return i;return-1}return Yb=t,Yb}var Jb,hC;function gz(){if(hC)return Jb;hC=1;var t=Aj(),e=pz(),n=mz();function r(i,a,o){return a===a?n(i,a,o):t(i,e,o)}return Jb=r,Jb}var Zb,dC;function yz(){if(dC)return Zb;dC=1;var t=gz();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Zb=e,Zb}var ew,pC;function vz(){if(pC)return ew;pC=1;function t(e,n,r){for(var i=-1,a=e==null?0:e.length;++i<a;)if(r(n,e[i]))return!0;return!1}return ew=t,ew}var tw,mC;function _z(){if(mC)return tw;mC=1;function t(){}return tw=t,tw}var nw,gC;function bz(){if(gC)return nw;gC=1;var t=xj(),e=_z(),n=pT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(a){return new t(a)}:e;return nw=i,nw}var rw,yC;function wz(){if(yC)return rw;yC=1;var t=pj(),e=yz(),n=vz(),r=gj(),i=bz(),a=pT(),o=200;function u(c,f,d){var p=-1,y=e,_=c.length,x=!0,E=[],b=E;if(d)x=!1,y=n;else if(_>=o){var C=f?null:i(c);if(C)return a(C);x=!1,y=r,b=new t}else b=f?[]:E;e:for(;++p<_;){var k=c[p],A=f?f(k):k;if(k=d||k!==0?k:0,x&&A===A){for(var L=b.length;L--;)if(b[L]===A)continue e;f&&b.push(A),E.push(k)}else y(b,A,d)||(b!==E&&b.push(A),E.push(k))}return E}return rw=u,rw}var iw,vC;function Ez(){if(vC)return iw;vC=1;var t=ra(),e=wz();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return iw=n,iw}var xz=Ez();const _C=ht(xz);function Pj(t,e,n){return e===!0?_C(t,n):Be(e)?_C(t,e):t}function Ou(t){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ou(t)}var Tz=["ref"];function bC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bC(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oj(r.key),r)}}function Az(t,e,n){return e&&wC(t.prototype,e),n&&wC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pz(t,e,n){return e=Em(e),Iz(t,Ij()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function Iz(t,e){if(e&&(Ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(t)}function Oz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ij=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function kz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i1(t,e)}function Wg(t,e,n){return e=Oj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oj(t){var e=Cz(t,"string");return Ou(e)=="symbol"?e:e+""}function Cz(t,e){if(Ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rz(t,e){if(t==null)return{};var n=Nz(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mz(t){return t.value}function Dz(t,e){if(v.isValidElement(t))return v.cloneElement(t,e);if(typeof t=="function")return v.createElement(t,e);e.ref;var n=Rz(e,Tz);return v.createElement(dT,n)}var EC=1,Vs=function(t){function e(){var n;Sz(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Pz(this,e,[].concat(i)),Wg(n,"lastBoundingBox",{width:-1,height:-1}),n}return kz(e,t),Az(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>EC||Math.abs(i.height-this.lastBoundingBox.height)>EC)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?wa({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,u=i.verticalAlign,c=i.margin,f=i.chartWidth,d=i.chartHeight,p,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var _=this.getBBoxSnapshot();p={left:((f||0)-_.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var x=this.getBBoxSnapshot();y={top:((d||0)-x.height)/2}}else y=u==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return wa(wa({},p),y)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,u=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,d=i.payload,p=wa(wa({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(c)),c);return v.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},Dz(a,wa(wa({},this.props),{},{payload:Pj(d,f,Mz)})))}}],[{key:"getWithHeight",value:function(r,i){var a=wa(wa({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&ge(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(z.PureComponent);Wg(Vs,"displayName","Legend");Wg(Vs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aw,xC;function Lz(){if(xC)return aw;xC=1;var t=zh(),e=mT(),n=wr(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return aw=i,aw}var ow,TC;function kj(){if(TC)return ow;TC=1;var t=vj(),e=Lz();function n(r,i,a,o,u){var c=-1,f=r.length;for(a||(a=e),u||(u=[]);++c<f;){var d=r[c];i>0&&a(d)?i>1?n(d,i-1,a,o,u):t(u,d):o||(u[u.length]=d)}return u}return ow=n,ow}var sw,SC;function jz(){if(SC)return sw;SC=1;function t(e){return function(n,r,i){for(var a=-1,o=Object(n),u=i(n),c=u.length;c--;){var f=u[e?c:++a];if(r(o[f],f,o)===!1)break}return n}}return sw=t,sw}var lw,AC;function $z(){if(AC)return lw;AC=1;var t=jz(),e=t();return lw=e,lw}var uw,PC;function Cj(){if(PC)return uw;PC=1;var t=$z(),e=Hg();function n(r,i){return r&&t(r,i,e)}return uw=n,uw}var cw,IC;function Vz(){if(IC)return cw;IC=1;var t=Gh();function e(n,r){return function(i,a){if(i==null)return i;if(!t(i))return n(i,a);for(var o=i.length,u=r?o:-1,c=Object(i);(r?u--:++u<o)&&a(c[u],u,c)!==!1;);return i}}return cw=e,cw}var fw,OC;function _T(){if(OC)return fw;OC=1;var t=Cj(),e=Vz(),n=e(t);return fw=n,fw}var hw,kC;function Rj(){if(kC)return hw;kC=1;var t=_T(),e=Gh();function n(r,i){var a=-1,o=e(r)?Array(r.length):[];return t(r,function(u,c,f){o[++a]=i(u,c,f)}),o}return hw=n,hw}var dw,CC;function Fz(){if(CC)return dw;CC=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return dw=t,dw}var pw,RC;function Uz(){if(RC)return pw;RC=1;var t=sc();function e(n,r){if(n!==r){var i=n!==void 0,a=n===null,o=n===n,u=t(n),c=r!==void 0,f=r===null,d=r===r,p=t(r);if(!f&&!p&&!u&&n>r||u&&c&&d&&!f&&!p||a&&c&&d||!i&&d||!o)return 1;if(!a&&!u&&!p&&n<r||p&&i&&o&&!a&&!u||f&&i&&o||!c&&o||!d)return-1}return 0}return pw=e,pw}var mw,NC;function qz(){if(NC)return mw;NC=1;var t=Uz();function e(n,r,i){for(var a=-1,o=n.criteria,u=r.criteria,c=o.length,f=i.length;++a<c;){var d=t(o[a],u[a]);if(d){if(a>=f)return d;var p=i[a];return d*(p=="desc"?-1:1)}}return n.index-r.index}return mw=e,mw}var gw,MC;function Bz(){if(MC)return gw;MC=1;var t=aT(),e=oT(),n=ra(),r=Rj(),i=Fz(),a=bj(),o=qz(),u=uc(),c=wr();function f(d,p,y){p.length?p=t(p,function(E){return c(E)?function(b){return e(b,E.length===1?E[0]:E)}:E}):p=[u];var _=-1;p=t(p,a(n));var x=r(d,function(E,b,C){var k=t(p,function(A){return A(E)});return{criteria:k,index:++_,value:E}});return i(x,function(E,b){return o(E,b,y)})}return gw=f,gw}var yw,DC;function zz(){if(DC)return yw;DC=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return yw=t,yw}var vw,LC;function Hz(){if(LC)return vw;LC=1;var t=zz(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var o=arguments,u=-1,c=e(o.length-i,0),f=Array(c);++u<c;)f[u]=o[i+u];u=-1;for(var d=Array(i+1);++u<i;)d[u]=o[u];return d[i]=a(f),t(r,this,d)}}return vw=n,vw}var _w,jC;function Wz(){if(jC)return _w;jC=1;function t(e){return function(){return e}}return _w=t,_w}var bw,$C;function Nj(){if($C)return bw;$C=1;var t=il(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return bw=e,bw}var ww,VC;function Gz(){if(VC)return ww;VC=1;var t=Wz(),e=Nj(),n=uc(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return ww=r,ww}var Ew,FC;function Kz(){if(FC)return Ew;FC=1;var t=800,e=16,n=Date.now;function r(i){var a=0,o=0;return function(){var u=n(),c=e-(u-o);if(o=u,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return Ew=r,Ew}var xw,UC;function Xz(){if(UC)return xw;UC=1;var t=Gz(),e=Kz(),n=e(t);return xw=n,xw}var Tw,qC;function Qz(){if(qC)return Tw;qC=1;var t=uc(),e=Hz(),n=Xz();function r(i,a){return n(e(i,a,t),i+"")}return Tw=r,Tw}var Sw,BC;function Gg(){if(BC)return Sw;BC=1;var t=nT(),e=Gh(),n=gT(),r=Ho();function i(a,o,u){if(!r(u))return!1;var c=typeof o;return(c=="number"?e(u)&&n(o,u.length):c=="string"&&o in u)?t(u[o],a):!1}return Sw=i,Sw}var Aw,zC;function Yz(){if(zC)return Aw;zC=1;var t=kj(),e=Bz(),n=Qz(),r=Gg(),i=n(function(a,o){if(a==null)return[];var u=o.length;return u>1&&r(a,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return Aw=i,Aw}var Jz=Yz();const bT=ht(Jz);function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a1.apply(this,arguments)}function Zz(t,e){return r9(t)||n9(t,e)||t9(t,e)||e9()}function e9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t9(t,e){if(t){if(typeof t=="string")return HC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(t,e)}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function r9(t){if(Array.isArray(t))return t}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){i9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i9(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=o9(t,"string");return Qf(e)=="symbol"?e:e+""}function o9(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s9(t){return Array.isArray(t)&&un(t[0])&&un(t[1])?t.join(" ~ "):t}var l9=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,c=e.labelStyle,f=c===void 0?{}:c,d=e.payload,p=e.formatter,y=e.itemSorter,_=e.wrapperClassName,x=e.labelClassName,E=e.label,b=e.labelFormatter,C=e.accessibilityLayer,k=C===void 0?!1:C,A=function(){if(d&&d.length){var V={padding:0,margin:0},j=(y?bT(d,y):d).map(function(K,J){if(K.type==="none")return null;var ie=Pw({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},u),re=K.formatter||p||s9,Q=K.value,ee=K.name,ae=Q,B=ee;if(re&&ae!=null&&B!=null){var G=re(Q,ee,K,J,d);if(Array.isArray(G)){var ue=Zz(G,2);ae=ue[0],B=ue[1]}else ae=G}return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:ie},un(B)?v.createElement("span",{className:"recharts-tooltip-item-name"},B):null,un(B)?v.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,v.createElement("span",{className:"recharts-tooltip-item-value"},ae),v.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:V},j)}return null},L=Pw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),I=Pw({margin:0},f),N=!Je(E),P=N?E:"",O=Ye("recharts-default-tooltip",_),M=Ye("recharts-tooltip-label",x);N&&b&&d!==void 0&&d!==null&&(P=b(E,d));var F=k?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",a1({className:O,style:L},F),v.createElement("p",{className:M,style:I},v.isValidElement(P)?P:"".concat(P)),A())};function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function Np(t,e,n){return e=u9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u9(t){var e=c9(t,"string");return Yf(e)=="symbol"?e:e+""}function c9(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pf="recharts-tooltip-wrapper",f9={visibility:"hidden"};function h9(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ye(pf,Np(Np(Np(Np({},"".concat(pf,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(pf,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(pf,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(pf,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function GC(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,u=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(a&&ge(a[r]))return a[r];var d=n[r]-u-i,p=n[r]+i;if(e[r])return o[r]?d:p;if(o[r]){var y=d,_=c[r];return y<_?Math.max(p,c[r]):Math.max(d,c[r])}var x=p+u,E=c[r]+f;return x>E?Math.max(d,c[r]):Math.max(p,c[r])}function d9(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function p9(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,c=t.viewBox,f,d,p;return o.height>0&&o.width>0&&n?(d=GC({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=GC({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=d9({translateX:d,translateY:p,useTranslate3d:u})):f=f9,{cssProperties:f,cssClasses:h9({translateX:d,translateY:p,coordinate:n})}}function ku(t){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ku(t)}function KC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KC(Object(n),!0).forEach(function(r){s1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dj(r.key),r)}}function y9(t,e,n){return e&&g9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v9(t,e,n){return e=xm(e),_9(t,Mj()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function _9(t,e){if(e&&(ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b9(t)}function b9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mj=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function w9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o1(t,e)}function s1(t,e,n){return e=Dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dj(t){var e=E9(t,"string");return ku(e)=="symbol"?e:e+""}function E9(t,e){if(ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QC=1,x9=function(t){function e(){var n;m9(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=v9(this,e,[].concat(i)),s1(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),s1(n,"handleKeyDown",function(o){if(o.key==="Escape"){var u,c,f,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&u!==void 0?u:0,y:(f=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&f!==void 0?f:0}})}}),n}return w9(e,t),y9(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>QC||Math.abs(r.height-this.state.lastBoundingBox.height)>QC)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.children,d=i.coordinate,p=i.hasPayload,y=i.isAnimationActive,_=i.offset,x=i.position,E=i.reverseDirection,b=i.useTranslate3d,C=i.viewBox,k=i.wrapperStyle,A=p9({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:_,position:x,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:C}),L=A.cssClasses,I=A.cssProperties,N=XC(XC({transition:y&&a?"transform ".concat(u,"ms ").concat(c):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},k);return v.createElement("div",{tabIndex:-1,className:L,style:N,ref:function(O){r.wrapperNode=O}},f)}}])}(z.PureComponent),T9=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cc={isSsr:T9()};function Cu(t){"@babel/helpers - typeof";return Cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(t)}function YC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YC(Object(n),!0).forEach(function(r){wT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jj(r.key),r)}}function P9(t,e,n){return e&&A9(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I9(t,e,n){return e=Tm(e),O9(t,Lj()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function O9(t,e){if(e&&(Cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k9(t)}function k9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function C9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l1(t,e)}function wT(t,e,n){return e=jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jj(t){var e=R9(t,"string");return Cu(e)=="symbol"?e:e+""}function R9(t,e){if(Cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function N9(t){return t.dataKey}function M9(t,e){return v.isValidElement(t)?v.cloneElement(t,e):typeof t=="function"?v.createElement(t,e):v.createElement(l9,e)}var wi=function(t){function e(){return S9(this,e),I9(this,e,arguments)}return C9(e,t),P9(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,c=i.animationEasing,f=i.content,d=i.coordinate,p=i.filterNull,y=i.isAnimationActive,_=i.offset,x=i.payload,E=i.payloadUniqBy,b=i.position,C=i.reverseDirection,k=i.useTranslate3d,A=i.viewBox,L=i.wrapperStyle,I=x??[];p&&I.length&&(I=Pj(x.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),E,N9));var N=I.length>0;return v.createElement(x9,{allowEscapeViewBox:o,animationDuration:u,animationEasing:c,isAnimationActive:y,active:a,coordinate:d,hasPayload:N,offset:_,position:b,reverseDirection:C,useTranslate3d:k,viewBox:A,wrapperStyle:L},M9(f,JC(JC({},this.props),{},{payload:I})))}}])}(z.PureComponent);wT(wi,"displayName","Tooltip");wT(wi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Iw,ZC;function D9(){if(ZC)return Iw;ZC=1;var t=na(),e=function(){return t.Date.now()};return Iw=e,Iw}var Ow,eR;function L9(){if(eR)return Ow;eR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Ow=e,Ow}var kw,tR;function j9(){if(tR)return kw;tR=1;var t=L9(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return kw=n,kw}var Cw,nR;function $j(){if(nR)return Cw;nR=1;var t=j9(),e=Ho(),n=sc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=e(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||o.test(f)?u(f.slice(2),p?2:8):i.test(f)?r:+f}return Cw=c,Cw}var Rw,rR;function $9(){if(rR)return Rw;rR=1;var t=Ho(),e=D9(),n=$j(),r="Expected a function",i=Math.max,a=Math.min;function o(u,c,f){var d,p,y,_,x,E,b=0,C=!1,k=!1,A=!0;if(typeof u!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(C=!!f.leading,k="maxWait"in f,y=k?i(n(f.maxWait)||0,c):y,A="trailing"in f?!!f.trailing:A);function L(j){var K=d,J=p;return d=p=void 0,b=j,_=u.apply(J,K),_}function I(j){return b=j,x=setTimeout(O,c),C?L(j):_}function N(j){var K=j-E,J=j-b,ie=c-K;return k?a(ie,y-J):ie}function P(j){var K=j-E,J=j-b;return E===void 0||K>=c||K<0||k&&J>=y}function O(){var j=e();if(P(j))return M(j);x=setTimeout(O,N(j))}function M(j){return x=void 0,A&&d?L(j):(d=p=void 0,_)}function F(){x!==void 0&&clearTimeout(x),b=0,d=E=p=x=void 0}function D(){return x===void 0?_:M(e())}function V(){var j=e(),K=P(j);if(d=arguments,p=this,E=j,K){if(x===void 0)return I(E);if(k)return clearTimeout(x),x=setTimeout(O,c),L(E)}return x===void 0&&(x=setTimeout(O,c)),_}return V.cancel=F,V.flush=D,V}return Rw=o,Rw}var Nw,iR;function V9(){if(iR)return Nw;iR=1;var t=$9(),e=Ho(),n="Expected a function";function r(i,a,o){var u=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(o)&&(u="leading"in o?!!o.leading:u,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:u,maxWait:a,trailing:c})}return Nw=r,Nw}var F9=V9();const Vj=ht(F9);function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jf(t)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){U9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U9(t,e,n){return e=q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q9(t){var e=B9(t,"string");return Jf(e)=="symbol"?e:e+""}function B9(t,e){if(Jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z9(t,e){return K9(t)||G9(t,e)||W9(t,e)||H9()}function H9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function K9(t){if(Array.isArray(t))return t}var sR=z.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,u=t.height,c=u===void 0?"100%":u,f=t.minWidth,d=f===void 0?0:f,p=t.minHeight,y=t.maxHeight,_=t.children,x=t.debounce,E=x===void 0?0:x,b=t.id,C=t.className,k=t.onResize,A=t.style,L=A===void 0?{}:A,I=z.useRef(null),N=z.useRef();N.current=k,z.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var P=z.useState({containerWidth:i.width,containerHeight:i.height}),O=z9(P,2),M=O[0],F=O[1],D=z.useCallback(function(j,K){F(function(J){var ie=Math.round(j),re=Math.round(K);return J.containerWidth===ie&&J.containerHeight===re?J:{containerWidth:ie,containerHeight:re}})},[]);z.useEffect(function(){var j=function(ee){var ae,B=ee[0].contentRect,G=B.width,ue=B.height;D(G,ue),(ae=N.current)===null||ae===void 0||ae.call(N,G,ue)};E>0&&(j=Vj(j,E,{trailing:!0,leading:!1}));var K=new ResizeObserver(j),J=I.current.getBoundingClientRect(),ie=J.width,re=J.height;return D(ie,re),K.observe(I.current),function(){K.disconnect()}},[D,E]);var V=z.useMemo(function(){var j=M.containerWidth,K=M.containerHeight;if(j<0||K<0)return null;Ai(Ms(o)||Ms(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ai(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=Ms(o)?j:o,ie=Ms(c)?K:c;n&&n>0&&(J?ie=J/n:ie&&(J=ie*n),y&&ie>y&&(ie=y)),Ai(J>0||ie>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,ie,o,c,d,p,n);var re=!Array.isArray(_)&&Ia(_.type).endsWith("Chart");return v.Children.map(_,function(Q){return v.isValidElement(Q)?z.cloneElement(Q,Mp({width:J,height:ie},re?{style:Mp({height:"100%",width:"100%",maxHeight:ie,maxWidth:J},Q.props.style)}:{})):Q})},[n,_,c,y,p,d,M,o]);return v.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",C),style:Mp(Mp({},L),{},{width:o,height:c,minWidth:d,minHeight:p,maxHeight:y}),ref:I},V)}),Zf=function(e){return null};Zf.displayName="Cell";function eh(t){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eh(t)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){X9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X9(t,e,n){return e=Q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q9(t){var e=Y9(t,"string");return eh(e)=="symbol"?e:e+""}function Y9(t,e){if(eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu={widthCache:{},cacheCount:0},J9=2e3,Z9={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uR="recharts_measurement_span";function e8(t){var e=u1({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Df=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||cc.isSsr)return{width:0,height:0};var r=e8(n),i=JSON.stringify({text:e,copyStyle:r});if(iu.widthCache[i])return iu.widthCache[i];try{var a=document.getElementById(uR);a||(a=document.createElement("span"),a.setAttribute("id",uR),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=u1(u1({},Z9),r);Object.assign(a.style,o),a.textContent="".concat(e);var u=a.getBoundingClientRect(),c={width:u.width,height:u.height};return iu.widthCache[i]=c,++iu.cacheCount>J9&&(iu.cacheCount=0,iu.widthCache={}),c}catch{return{width:0,height:0}}},t8=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function th(t){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},th(t)}function Sm(t,e){return a8(t)||i8(t,e)||r8(t,e)||n8()}function n8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r8(t,e){if(t){if(typeof t=="string")return cR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cR(t,e)}}function cR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function a8(t){if(Array.isArray(t))return t}function o8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l8(r.key),r)}}function s8(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l8(t){var e=u8(t,"string");return th(e)=="symbol"?e:e+""}function u8(t,e){if(th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c8=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f8=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h8=Object.keys(Fj),hu="NaN";function d8(t,e){return t*Fj[e]}var Dp=function(){function t(e,n){o8(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!c8.test(n)&&(this.num=NaN,this.unit=""),h8.includes(n)&&(this.num=d8(e,n),this.unit="px")}return s8(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=f8.exec(n))!==null&&r!==void 0?r:[],a=Sm(i,3),o=a[1],u=a[2];return new t(parseFloat(o),u??"")}}])}();function Uj(t){if(t.includes(hu))return hu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=hR.exec(e))!==null&&n!==void 0?n:[],i=Sm(r,4),a=i[1],o=i[2],u=i[3],c=Dp.parse(a??""),f=Dp.parse(u??""),d=o==="*"?c.multiply(f):c.divide(f);if(d.isNaN())return hu;e=e.replace(hR,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,y=(p=dR.exec(e))!==null&&p!==void 0?p:[],_=Sm(y,4),x=_[1],E=_[2],b=_[3],C=Dp.parse(x??""),k=Dp.parse(b??""),A=E==="+"?C.add(k):C.subtract(k);if(A.isNaN())return hu;e=e.replace(dR,A.toString())}return e}var pR=/\(([^()]*)\)/;function p8(t){for(var e=t;e.includes("(");){var n=pR.exec(e),r=Sm(n,2),i=r[1];e=e.replace(pR,Uj(i))}return e}function m8(t){var e=t.replace(/\s+/g,"");return e=p8(e),e=Uj(e),e}function g8(t){try{return m8(t)}catch{return hu}}function Mw(t){var e=g8(t.slice(5,-1));return e===hu?"":e}var y8=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],v8=["dx","dy","angle","className","breakAll"];function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(this,arguments)}function mR(t,e){if(t==null)return{};var n=_8(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _8(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gR(t,e){return x8(t)||E8(t,e)||w8(t,e)||b8()}function b8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w8(t,e){if(t){if(typeof t=="string")return yR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yR(t,e)}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E8(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function x8(t){if(Array.isArray(t))return t}var qj=/[ \f\n\r\t\v\u2028\u2029]+/,Bj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Je(n)||(r?a=n.toString().split(""):a=n.toString().split(qj));var o=a.map(function(c){return{word:c,width:Df(c,i).width}}),u=r?0:Df(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},T8=function(e,n,r,i,a){var o=e.maxLines,u=e.children,c=e.style,f=e.breakAll,d=ge(o),p=u,y=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(ie,re){var Q=re.word,ee=re.width,ae=ie[ie.length-1];if(ae&&(i==null||a||ae.width+ee+r<Number(i)))ae.words.push(Q),ae.width+=ee+r;else{var B={words:[Q],width:ee};ie.push(B)}return ie},[])},_=y(n),x=function(J){return J.reduce(function(ie,re){return ie.width>re.width?ie:re})};if(!d)return _;for(var E="…",b=function(J){var ie=p.slice(0,J),re=Bj({breakAll:f,style:c,children:ie+E}).wordsWithComputedWidth,Q=y(re),ee=Q.length>o||x(Q).width>Number(i);return[ee,Q]},C=0,k=p.length-1,A=0,L;C<=k&&A<=p.length-1;){var I=Math.floor((C+k)/2),N=I-1,P=b(N),O=gR(P,2),M=O[0],F=O[1],D=b(I),V=gR(D,1),j=V[0];if(!M&&!j&&(C=I+1),M&&j&&(k=I-1),!M&&j){L=F;break}A++}return L||_},vR=function(e){var n=Je(e)?[]:e.toString().split(qj);return[{words:n}]},S8=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,u=e.maxLines;if((n||r)&&!cc.isSsr){var c,f,d=Bj({breakAll:o,children:i,style:a});if(d){var p=d.wordsWithComputedWidth,y=d.spaceWidth;c=p,f=y}else return vR(i);return T8({breakAll:o,children:i,maxLines:u,style:a},c,f,n,r)}return vR(i)},_R="#808080",Ws=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,c=e.capHeight,f=c===void 0?"0.71em":c,d=e.scaleToFit,p=d===void 0?!1:d,y=e.textAnchor,_=y===void 0?"start":y,x=e.verticalAnchor,E=x===void 0?"end":x,b=e.fill,C=b===void 0?_R:b,k=mR(e,y8),A=z.useMemo(function(){return S8({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:p,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,p,k.style,k.width]),L=k.dx,I=k.dy,N=k.angle,P=k.className,O=k.breakAll,M=mR(k,v8);if(!un(r)||!un(a))return null;var F=r+(ge(L)?L:0),D=a+(ge(I)?I:0),V;switch(E){case"start":V=Mw("calc(".concat(f,")"));break;case"middle":V=Mw("calc(".concat((A.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:V=Mw("calc(".concat(A.length-1," * -").concat(u,")"));break}var j=[];if(p){var K=A[0].width,J=k.width;j.push("scale(".concat((ge(J)?J/K:1)/K,")"))}return N&&j.push("rotate(".concat(N,", ").concat(F,", ").concat(D,")")),j.length&&(M.transform=j.join(" ")),v.createElement("text",c1({},Ue(M,!0),{x:F,y:D,className:Ye("recharts-text",P),textAnchor:_,fill:C.includes("url")?_R:C}),A.map(function(ie,re){var Q=ie.words.join(O?"":" ");return v.createElement("tspan",{x:F,dy:re===0?V:u,key:"".concat(Q,"-").concat(re)},Q)}))};function Ro(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function A8(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ET(t){let e,n,r;t.length!==2?(e=Ro,n=(u,c)=>Ro(t(u),c),r=(u,c)=>t(u)-c):(e=t===Ro||t===A8?t:P8,n=t,r=t);function i(u,c,f=0,d=u.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<0?f=p+1:d=p}while(f<d)}return f}function a(u,c,f=0,d=u.length){if(f<d){if(e(c,c)!==0)return d;do{const p=f+d>>>1;n(u[p],c)<=0?f=p+1:d=p}while(f<d)}return f}function o(u,c,f=0,d=u.length){const p=i(u,c,f,d-1);return p>f&&r(u[p-1],c)>-r(u[p],c)?p-1:p}return{left:i,center:o,right:a}}function P8(){return 0}function zj(t){return t===null?NaN:+t}function*I8(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const O8=ET(Ro),Kh=O8.right;ET(zj).center;class bR extends Map{constructor(e,n=R8){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(wR(this,e))}has(e){return super.has(wR(this,e))}set(e,n){return super.set(k8(this,e),n)}delete(e){return super.delete(C8(this,e))}}function wR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function k8({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function C8({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function R8(t){return t!==null&&typeof t=="object"?t.valueOf():t}function N8(t=Ro){if(t===Ro)return Hj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Hj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const M8=Math.sqrt(50),D8=Math.sqrt(10),L8=Math.sqrt(2);function Am(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=M8?10:a>=D8?5:a>=L8?2:1;let u,c,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),c=Math.round(e*f),u/f<t&&++u,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),c=Math.round(e/f),u*f<t&&++u,c*f>e&&--c),c<u&&.5<=n&&n<2?Am(t,e,n*2):[u,c,f]}function f1(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?Am(e,t,n):Am(t,e,n);if(!(a>=i))return[];const u=a-i+1,c=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)c[f]=(a-f)/-o;else for(let f=0;f<u;++f)c[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)c[f]=(i+f)/-o;else for(let f=0;f<u;++f)c[f]=(i+f)*o;return c}function h1(t,e,n){return e=+e,t=+t,n=+n,Am(t,e,n)[2]}function d1(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?h1(e,t,n):h1(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ER(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function xR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Wj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Hj:N8(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,d=Math.log(c),p=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+y)),x=Math.min(r,Math.floor(e+(c-f)*p/c+y));Wj(t,e,_,x,i)}const a=t[e];let o=n,u=r;for(mf(t,n,e),i(t[r],a)>0&&mf(t,n,r);o<u;){for(mf(t,o,u),++o,--u;i(t[o],a)<0;)++o;for(;i(t[u],a)>0;)--u}i(t[n],a)===0?mf(t,n,u):(++u,mf(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function mf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function j8(t,e,n){if(t=Float64Array.from(I8(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return xR(t);if(e>=1)return ER(t);var r,i=(r-1)*e,a=Math.floor(i),o=ER(Wj(t,a).subarray(0,a+1)),u=xR(t.subarray(a+1));return o+(u-o)*(i-a)}}function $8(t,e,n=zj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u=+n(t[a+1],a+1,t);return o+(u-o)*(i-a)}}function V8(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ha(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const p1=Symbol("implicit");function xT(){var t=new bR,e=[],n=[],r=p1;function i(a){let o=t.get(a);if(o===void 0){if(r!==p1)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new bR;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return xT(e,n).unknown(r)},ii.apply(i,arguments),i}function nh(){var t=xT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,u=!1,c=0,f=0,d=.5;delete t.unknown;function p(){var y=e().length,_=i<r,x=_?i:r,E=_?r:i;a=(E-x)/Math.max(1,y-c+f*2),u&&(a=Math.floor(a)),x+=(E-x-a*(y-c))*d,o=a*(1-c),u&&(x=Math.round(x),o=Math.round(o));var b=V8(y).map(function(C){return x+a*C});return n(_?b.reverse():b)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,u=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(y){return arguments.length?(u=!!y,p()):u},t.padding=function(y){return arguments.length?(c=Math.min(1,f=+y),p()):c},t.paddingInner=function(y){return arguments.length?(c=Math.min(1,y),p()):c},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),p()):d},t.copy=function(){return nh(e(),[r,i]).round(u).paddingInner(c).paddingOuter(f).align(d)},ii.apply(p(),arguments)}function Gj(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Gj(e())},t}function Lf(){return Gj(nh.apply(null,arguments).paddingInner(1))}function TT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xh(){}var rh=.7,Pm=1/rh,bu="\\s*([+-]?\\d+)\\s*",ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",F8=/^#([0-9a-f]{3,8})$/,U8=new RegExp(`^rgb\\(${bu},${bu},${bu}\\)$`),q8=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),B8=new RegExp(`^rgba\\(${bu},${bu},${bu},${ih}\\)$`),z8=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${ih}\\)$`),H8=new RegExp(`^hsl\\(${ih},${Ki},${Ki}\\)$`),W8=new RegExp(`^hsla\\(${ih},${Ki},${Ki},${ih}\\)$`),TR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TT(Xh,ah,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SR,formatHex:SR,formatHex8:G8,formatHsl:K8,formatRgb:AR,toString:AR});function SR(){return this.rgb().formatHex()}function G8(){return this.rgb().formatHex8()}function K8(){return Xj(this).formatHsl()}function AR(){return this.rgb().formatRgb()}function ah(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=F8.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PR(e):n===3?new vr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Lp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Lp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=U8.exec(t))?new vr(e[1],e[2],e[3],1):(e=q8.exec(t))?new vr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=B8.exec(t))?Lp(e[1],e[2],e[3],e[4]):(e=z8.exec(t))?Lp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=H8.exec(t))?kR(e[1],e[2]/100,e[3]/100,1):(e=W8.exec(t))?kR(e[1],e[2]/100,e[3]/100,e[4]):TR.hasOwnProperty(t)?PR(TR[t]):t==="transparent"?new vr(NaN,NaN,NaN,0):null}function PR(t){return new vr(t>>16&255,t>>8&255,t&255,1)}function Lp(t,e,n,r){return r<=0&&(t=e=n=NaN),new vr(t,e,n,r)}function X8(t){return t instanceof Xh||(t=ah(t)),t?(t=t.rgb(),new vr(t.r,t.g,t.b,t.opacity)):new vr}function m1(t,e,n,r){return arguments.length===1?X8(t):new vr(t,e,n,r??1)}function vr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TT(vr,m1,Kj(Xh,{brighter(t){return t=t==null?Pm:Math.pow(Pm,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rh:Math.pow(rh,t),new vr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vr(Fs(this.r),Fs(this.g),Fs(this.b),Im(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IR,formatHex:IR,formatHex8:Q8,formatRgb:OR,toString:OR}));function IR(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}`}function Q8(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}${Ds((isNaN(this.opacity)?1:this.opacity)*255)}`}function OR(){const t=Im(this.opacity);return`${t===1?"rgb(":"rgba("}${Fs(this.r)}, ${Fs(this.g)}, ${Fs(this.b)}${t===1?")":`, ${t})`}`}function Im(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ds(t){return t=Fs(t),(t<16?"0":"")+t.toString(16)}function kR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xi(t,e,n,r)}function Xj(t){if(t instanceof xi)return new xi(t.h,t.s,t.l,t.opacity);if(t instanceof Xh||(t=ah(t)),!t)return new xi;if(t instanceof xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,c=(a+i)/2;return u?(e===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-e)/u+2:o=(e-n)/u+4,u/=c<.5?a+i:2-a-i,o*=60):u=c>0&&c<1?0:o,new xi(o,u,c,t.opacity)}function Y8(t,e,n,r){return arguments.length===1?Xj(t):new xi(t,e,n,r??1)}function xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TT(xi,Y8,Kj(Xh,{brighter(t){return t=t==null?Pm:Math.pow(Pm,t),new xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rh:Math.pow(rh,t),new xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vr(Dw(t>=240?t-240:t+120,i,r),Dw(t,i,r),Dw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xi(CR(this.h),jp(this.s),jp(this.l),Im(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Im(this.opacity);return`${t===1?"hsl(":"hsla("}${CR(this.h)}, ${jp(this.s)*100}%, ${jp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function CR(t){return t=(t||0)%360,t<0?t+360:t}function jp(t){return Math.max(0,Math.min(1,t||0))}function Dw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ST=t=>()=>t;function J8(t,e){return function(n){return t+n*e}}function Z8(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function e7(t){return(t=+t)==1?Qj:function(e,n){return n-e?Z8(e,n,t):ST(isNaN(e)?n:e)}}function Qj(t,e){var n=e-t;return n?J8(t,n):ST(isNaN(t)?e:t)}const RR=function t(e){var n=e7(e);function r(i,a){var o=n((i=m1(i)).r,(a=m1(a)).r),u=n(i.g,a.g),c=n(i.b,a.b),f=Qj(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=u(d),i.b=c(d),i.opacity=f(d),i+""}}return r.gamma=t,r}(1);function t7(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function n7(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function r7(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=fc(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function i7(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Om(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function a7(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var g1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(g1.source,"g");function o7(t){return function(){return t}}function s7(t){return function(e){return t(e)+""}}function l7(t,e){var n=g1.lastIndex=Lw.lastIndex=0,r,i,a,o=-1,u=[],c=[];for(t=t+"",e=e+"";(r=g1.exec(t))&&(i=Lw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:Om(r,i)})),n=Lw.lastIndex;return n<e.length&&(a=e.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?s7(c[0].x):o7(e):(e=c.length,function(f){for(var d=0,p;d<e;++d)u[(p=c[d]).i]=p.x(f);return u.join("")})}function fc(t,e){var n=typeof e,r;return e==null||n==="boolean"?ST(e):(n==="number"?Om:n==="string"?(r=ah(e))?(e=r,RR):l7:e instanceof ah?RR:e instanceof Date?i7:n7(e)?t7:Array.isArray(e)?r7:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?a7:Om)(t,e)}function AT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function u7(t,e){e===void 0&&(e=t,t=fc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function c7(t){return function(){return t}}function km(t){return+t}var NR=[0,1];function rr(t){return t}function y1(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:c7(isNaN(e)?NaN:.5)}function f7(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function h7(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=y1(i,r),a=n(o,a)):(r=y1(r,i),a=n(a,o)),function(u){return a(r(u))}}function d7(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=y1(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(u){var c=Kh(t,u,1,r)-1;return a[c](i[c](u))}}function Qh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kg(){var t=NR,e=NR,n=fc,r,i,a,o=rr,u,c,f;function d(){var y=Math.min(t.length,e.length);return o!==rr&&(o=f7(t[0],t[y-1])),u=y>2?d7:h7,c=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(c||(c=u(t.map(r),e,n)))(r(o(y)))}return p.invert=function(y){return o(i((f||(f=u(e,t.map(r),Om)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,km),d()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),d()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=AT,d()},p.clamp=function(y){return arguments.length?(o=y?!0:rr,d()):o!==rr},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,_){return r=y,i=_,d()}}function PT(){return Kg()(rr,rr)}function p7(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Cm(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ru(t){return t=Cm(Math.abs(t)),t?t[1]:NaN}function m7(t,e){return function(n,r){for(var i=n.length,a=[],o=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),a.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(e)}}function g7(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var y7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oh(t){if(!(e=y7.exec(t)))throw new Error("invalid format: "+t);var e;return new IT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}oh.prototype=IT.prototype;function IT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function v7(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yj;function _7(t,e){var n=Cm(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Yj=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Cm(t,Math.max(0,e+a-1))[0]}function MR(t,e){var n=Cm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:p7,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MR(t*100,e),r:MR,s:_7,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LR(t){return t}var jR=Array.prototype.map,$R=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function b7(t){var e=t.grouping===void 0||t.thousands===void 0?LR:m7(jR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?LR:g7(jR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p){p=oh(p);var y=p.fill,_=p.align,x=p.sign,E=p.symbol,b=p.zero,C=p.width,k=p.comma,A=p.precision,L=p.trim,I=p.type;I==="n"?(k=!0,I="g"):DR[I]||(A===void 0&&(A=12),L=!0,I="g"),(b||y==="0"&&_==="=")&&(b=!0,y="0",_="=");var N=E==="$"?n:E==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",P=E==="$"?r:/[%p]/.test(I)?o:"",O=DR[I],M=/[defgprs%]/.test(I);A=A===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function F(D){var V=N,j=P,K,J,ie;if(I==="c")j=O(D)+j,D="";else{D=+D;var re=D<0||1/D<0;if(D=isNaN(D)?c:O(Math.abs(D),A),L&&(D=v7(D)),re&&+D==0&&x!=="+"&&(re=!1),V=(re?x==="("?x:u:x==="-"||x==="("?"":x)+V,j=(I==="s"?$R[8+Yj/3]:"")+j+(re&&x==="("?")":""),M){for(K=-1,J=D.length;++K<J;)if(ie=D.charCodeAt(K),48>ie||ie>57){j=(ie===46?i+D.slice(K+1):D.slice(K))+j,D=D.slice(0,K);break}}}k&&!b&&(D=e(D,1/0));var Q=V.length+D.length+j.length,ee=Q<C?new Array(C-Q+1).join(y):"";switch(k&&b&&(D=e(ee+D,ee.length?C-j.length:1/0),ee=""),_){case"<":D=V+D+j+ee;break;case"=":D=V+ee+D+j;break;case"^":D=ee.slice(0,Q=ee.length>>1)+V+D+j+ee.slice(Q);break;default:D=ee+V+D+j;break}return a(D)}return F.toString=function(){return p+""},F}function d(p,y){var _=f((p=oh(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Ru(y)/3)))*3,E=Math.pow(10,-x),b=$R[8+x/3];return function(C){return _(E*C)+b}}return{format:f,formatPrefix:d}}var $p,OT,Jj;w7({thousands:",",grouping:[3],currency:["$",""]});function w7(t){return $p=b7(t),OT=$p.format,Jj=$p.formatPrefix,$p}function E7(t){return Math.max(0,-Ru(Math.abs(t)))}function x7(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ru(e)/3)))*3-Ru(Math.abs(t)))}function T7(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ru(e)-Ru(t))+1}function Zj(t,e,n,r){var i=d1(t,e,n),a;switch(r=oh(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=x7(i,o))&&(r.precision=a),Jj(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=T7(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=E7(i))&&(r.precision=a-(r.type==="%")*2);break}}return OT(r)}function Wo(t){var e=t.domain;return t.ticks=function(n){var r=e();return f1(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Zj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],u=r[a],c,f,d=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);d-- >0;){if(f=h1(o,u,n),f===c)return r[i]=o,r[a]=u,e(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;c=f}return t},t}function Rm(){var t=PT();return t.copy=function(){return Qh(t,Rm())},ii.apply(t,arguments),Wo(t)}function e$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,km),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e$(t).unknown(e)},t=arguments.length?Array.from(t,km):[0,1],Wo(n)}function t$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function VR(t){return Math.log(t)}function FR(t){return Math.exp(t)}function S7(t){return-Math.log(-t)}function A7(t){return-Math.exp(-t)}function P7(t){return isFinite(t)?+("1e"+t):t<0?0:t}function I7(t){return t===10?P7:t===Math.E?Math.exp:e=>Math.pow(t,e)}function O7(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UR(t){return(e,n)=>-t(-e,n)}function kT(t){const e=t(VR,FR),n=e.domain;let r=10,i,a;function o(){return i=O7(r),a=I7(r),n()[0]<0?(i=UR(i),a=UR(a),t(S7,A7)):t(VR,FR),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const c=n();let f=c[0],d=c[c.length-1];const p=d<f;p&&([f,d]=[d,f]);let y=i(f),_=i(d),x,E;const b=u==null?10:+u;let C=[];if(!(r%1)&&_-y<b){if(y=Math.floor(y),_=Math.ceil(_),f>0){for(;y<=_;++y)for(x=1;x<r;++x)if(E=y<0?x/a(-y):x*a(y),!(E<f)){if(E>d)break;C.push(E)}}else for(;y<=_;++y)for(x=r-1;x>=1;--x)if(E=y>0?x/a(-y):x*a(y),!(E<f)){if(E>d)break;C.push(E)}C.length*2<b&&(C=f1(f,d,b))}else C=f1(y,_,Math.min(_-y,b)).map(a);return p?C.reverse():C},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=oh(c)).precision==null&&(c.trim=!0),c=OT(c)),u===1/0)return c;const f=Math.max(1,r*u/e.ticks().length);return d=>{let p=d/a(Math.round(i(d)));return p*r<r-.5&&(p*=r),p<=f?c(d):""}},e.nice=()=>n(t$(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),e}function n$(){const t=kT(Kg()).domain([1,10]);return t.copy=()=>Qh(t,n$()).base(t.base()),ii.apply(t,arguments),t}function qR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function BR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function CT(t){var e=1,n=t(qR(e),BR(e));return n.constant=function(r){return arguments.length?t(qR(e=+r),BR(e)):e},Wo(n)}function r$(){var t=CT(Kg());return t.copy=function(){return Qh(t,r$()).constant(t.constant())},ii.apply(t,arguments)}function zR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function k7(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C7(t){return t<0?-t*t:t*t}function RT(t){var e=t(rr,rr),n=1;function r(){return n===1?t(rr,rr):n===.5?t(k7,C7):t(zR(n),zR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Wo(e)}function NT(){var t=RT(Kg());return t.copy=function(){return Qh(t,NT()).exponent(t.exponent())},ii.apply(t,arguments),t}function R7(){return NT.apply(null,arguments).exponent(.5)}function HR(t){return Math.sign(t)*t*t}function N7(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i$(){var t=PT(),e=[0,1],n=!1,r;function i(a){var o=N7(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(HR(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,km)).map(HR)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ii.apply(i,arguments),Wo(i)}function a$(){var t=[],e=[],n=[],r;function i(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=$8(t,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Kh(n,o)]}return a.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Ro),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return a$().domain(t).range(e).unknown(r)},ii.apply(a,arguments)}function o$(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Kh(r,c,0,n)]:a}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},o.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return o$().domain([t,e]).range(i).unknown(a)},ii.apply(Wo(o),arguments)}function s$(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Kh(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return s$().domain(t).range(e).unknown(n)},ii.apply(i,arguments)}const jw=new Date,$w=new Date;function dn(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const c=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return c;let f;do c.push(f=new Date(+a)),e(a,u),t(a);while(f<a&&a<o);return c},i.filter=a=>dn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!a(o););else for(;--u>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(jw.setTime(+a),$w.setTime(+o),t(jw),t($w),Math.floor(n(jw,$w))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Nm=dn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Nm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Nm);Nm.range;const xa=1e3,Jr=xa*60,Ta=Jr*60,Na=Ta*24,MT=Na*7,WR=Na*30,Vw=Na*365,Ls=dn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xa)},(t,e)=>(e-t)/xa,t=>t.getUTCSeconds());Ls.range;const DT=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xa)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getMinutes());DT.range;const LT=dn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jr)},(t,e)=>(e-t)/Jr,t=>t.getUTCMinutes());LT.range;const jT=dn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xa-t.getMinutes()*Jr)},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getHours());jT.range;const $T=dn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ta)},(t,e)=>(e-t)/Ta,t=>t.getUTCHours());$T.range;const Yh=dn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jr)/Na,t=>t.getDate()-1);Yh.range;const Xg=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Na,t=>t.getUTCDate()-1);Xg.range;const l$=dn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Na,t=>Math.floor(t/Na));l$.range;function al(t){return dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jr)/MT)}const Qg=al(0),Mm=al(1),M7=al(2),D7=al(3),Nu=al(4),L7=al(5),j7=al(6);Qg.range;Mm.range;M7.range;D7.range;Nu.range;L7.range;j7.range;function ol(t){return dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/MT)}const Yg=ol(0),Dm=ol(1),$7=ol(2),V7=ol(3),Mu=ol(4),F7=ol(5),U7=ol(6);Yg.range;Dm.range;$7.range;V7.range;Mu.range;F7.range;U7.range;const VT=dn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());VT.range;const FT=dn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FT.range;const Ma=dn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ma.range;const Da=dn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Da.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Da.range;function u$(t,e,n,r,i,a){const o=[[Ls,1,xa],[Ls,5,5*xa],[Ls,15,15*xa],[Ls,30,30*xa],[a,1,Jr],[a,5,5*Jr],[a,15,15*Jr],[a,30,30*Jr],[i,1,Ta],[i,3,3*Ta],[i,6,6*Ta],[i,12,12*Ta],[r,1,Na],[r,2,2*Na],[n,1,MT],[e,1,WR],[e,3,3*WR],[t,1,Vw]];function u(f,d,p){const y=d<f;y&&([f,d]=[d,f]);const _=p&&typeof p.range=="function"?p:c(f,d,p),x=_?_.range(f,+d+1):[];return y?x.reverse():x}function c(f,d,p){const y=Math.abs(d-f)/p,_=ET(([,,b])=>b).right(o,y);if(_===o.length)return t.every(d1(f/Vw,d/Vw,p));if(_===0)return Nm.every(Math.max(d1(f,d,p),1));const[x,E]=o[y/o[_-1][2]<o[_][2]/y?_-1:_];return x.every(E)}return[u,c]}const[q7,B7]=u$(Da,FT,Yg,l$,$T,LT),[z7,H7]=u$(Ma,VT,Qg,Yh,jT,DT);function Fw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Uw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function W7(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,u=t.months,c=t.shortMonths,f=yf(i),d=vf(i),p=yf(a),y=vf(a),_=yf(o),x=vf(o),E=yf(u),b=vf(u),C=yf(c),k=vf(c),A={a:re,A:Q,b:ee,B:ae,c:null,d:JR,e:JR,f:mH,g:SH,G:PH,H:hH,I:dH,j:pH,L:c$,m:gH,M:yH,p:B,q:G,Q:t2,s:n2,S:vH,u:_H,U:bH,V:wH,w:EH,W:xH,x:null,X:null,y:TH,Y:AH,Z:IH,"%":e2},L={a:ue,A:be,b:Ae,B:Le,c:null,d:ZR,e:ZR,f:RH,g:qH,G:zH,H:OH,I:kH,j:CH,L:h$,m:NH,M:MH,p:Ge,q:Fe,Q:t2,s:n2,S:DH,u:LH,U:jH,V:$H,w:VH,W:FH,x:null,X:null,y:UH,Y:BH,Z:HH,"%":e2},I={a:F,A:D,b:V,B:j,c:K,d:QR,e:QR,f:lH,g:XR,G:KR,H:YR,I:YR,j:iH,L:sH,m:rH,M:aH,p:M,q:nH,Q:cH,s:fH,S:oH,u:Y7,U:J7,V:Z7,w:Q7,W:eH,x:J,X:ie,y:XR,Y:KR,Z:tH,"%":uH};A.x=N(n,A),A.X=N(r,A),A.c=N(e,A),L.x=N(n,L),L.X=N(r,L),L.c=N(e,L);function N(de,Pe){return function(De){var ce=[],ye=-1,ke=0,Ke=de.length,We,lt,Ft;for(De instanceof Date||(De=new Date(+De));++ye<Ke;)de.charCodeAt(ye)===37&&(ce.push(de.slice(ke,ye)),(lt=GR[We=de.charAt(++ye)])!=null?We=de.charAt(++ye):lt=We==="e"?" ":"0",(Ft=Pe[We])&&(We=Ft(De,lt)),ce.push(We),ke=ye+1);return ce.push(de.slice(ke,ye)),ce.join("")}}function P(de,Pe){return function(De){var ce=gf(1900,void 0,1),ye=O(ce,de,De+="",0),ke,Ke;if(ye!=De.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(Pe&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(ke=Uw(gf(ce.y,0,1)),Ke=ke.getUTCDay(),ke=Ke>4||Ke===0?Dm.ceil(ke):Dm(ke),ke=Xg.offset(ke,(ce.V-1)*7),ce.y=ke.getUTCFullYear(),ce.m=ke.getUTCMonth(),ce.d=ke.getUTCDate()+(ce.w+6)%7):(ke=Fw(gf(ce.y,0,1)),Ke=ke.getDay(),ke=Ke>4||Ke===0?Mm.ceil(ke):Mm(ke),ke=Yh.offset(ke,(ce.V-1)*7),ce.y=ke.getFullYear(),ce.m=ke.getMonth(),ce.d=ke.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Ke="Z"in ce?Uw(gf(ce.y,0,1)).getUTCDay():Fw(gf(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Ke+5)%7:ce.w+ce.U*7-(Ke+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Uw(ce)):Fw(ce)}}function O(de,Pe,De,ce){for(var ye=0,ke=Pe.length,Ke=De.length,We,lt;ye<ke;){if(ce>=Ke)return-1;if(We=Pe.charCodeAt(ye++),We===37){if(We=Pe.charAt(ye++),lt=I[We in GR?Pe.charAt(ye++):We],!lt||(ce=lt(de,De,ce))<0)return-1}else if(We!=De.charCodeAt(ce++))return-1}return ce}function M(de,Pe,De){var ce=f.exec(Pe.slice(De));return ce?(de.p=d.get(ce[0].toLowerCase()),De+ce[0].length):-1}function F(de,Pe,De){var ce=_.exec(Pe.slice(De));return ce?(de.w=x.get(ce[0].toLowerCase()),De+ce[0].length):-1}function D(de,Pe,De){var ce=p.exec(Pe.slice(De));return ce?(de.w=y.get(ce[0].toLowerCase()),De+ce[0].length):-1}function V(de,Pe,De){var ce=C.exec(Pe.slice(De));return ce?(de.m=k.get(ce[0].toLowerCase()),De+ce[0].length):-1}function j(de,Pe,De){var ce=E.exec(Pe.slice(De));return ce?(de.m=b.get(ce[0].toLowerCase()),De+ce[0].length):-1}function K(de,Pe,De){return O(de,e,Pe,De)}function J(de,Pe,De){return O(de,n,Pe,De)}function ie(de,Pe,De){return O(de,r,Pe,De)}function re(de){return o[de.getDay()]}function Q(de){return a[de.getDay()]}function ee(de){return c[de.getMonth()]}function ae(de){return u[de.getMonth()]}function B(de){return i[+(de.getHours()>=12)]}function G(de){return 1+~~(de.getMonth()/3)}function ue(de){return o[de.getUTCDay()]}function be(de){return a[de.getUTCDay()]}function Ae(de){return c[de.getUTCMonth()]}function Le(de){return u[de.getUTCMonth()]}function Ge(de){return i[+(de.getUTCHours()>=12)]}function Fe(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var Pe=N(de+="",A);return Pe.toString=function(){return de},Pe},parse:function(de){var Pe=P(de+="",!1);return Pe.toString=function(){return de},Pe},utcFormat:function(de){var Pe=N(de+="",L);return Pe.toString=function(){return de},Pe},utcParse:function(de){var Pe=P(de+="",!0);return Pe.toString=function(){return de},Pe}}}var GR={"-":"",_:" ",0:"0"},En=/^\s*\d+/,G7=/^%/,K7=/[\\^$*+?|[\]().{}]/g;function st(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function X7(t){return t.replace(K7,"\\$&")}function yf(t){return new RegExp("^(?:"+t.map(X7).join("|")+")","i")}function vf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Q7(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Y7(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function J7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Z7(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eH(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function KR(t,e,n){var r=En.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function XR(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tH(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nH(t,e,n){var r=En.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function rH(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function QR(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iH(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function YR(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aH(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oH(t,e,n){var r=En.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sH(t,e,n){var r=En.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lH(t,e,n){var r=En.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uH(t,e,n){var r=G7.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cH(t,e,n){var r=En.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fH(t,e,n){var r=En.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function JR(t,e){return st(t.getDate(),e,2)}function hH(t,e){return st(t.getHours(),e,2)}function dH(t,e){return st(t.getHours()%12||12,e,2)}function pH(t,e){return st(1+Yh.count(Ma(t),t),e,3)}function c$(t,e){return st(t.getMilliseconds(),e,3)}function mH(t,e){return c$(t,e)+"000"}function gH(t,e){return st(t.getMonth()+1,e,2)}function yH(t,e){return st(t.getMinutes(),e,2)}function vH(t,e){return st(t.getSeconds(),e,2)}function _H(t){var e=t.getDay();return e===0?7:e}function bH(t,e){return st(Qg.count(Ma(t)-1,t),e,2)}function f$(t){var e=t.getDay();return e>=4||e===0?Nu(t):Nu.ceil(t)}function wH(t,e){return t=f$(t),st(Nu.count(Ma(t),t)+(Ma(t).getDay()===4),e,2)}function EH(t){return t.getDay()}function xH(t,e){return st(Mm.count(Ma(t)-1,t),e,2)}function TH(t,e){return st(t.getFullYear()%100,e,2)}function SH(t,e){return t=f$(t),st(t.getFullYear()%100,e,2)}function AH(t,e){return st(t.getFullYear()%1e4,e,4)}function PH(t,e){var n=t.getDay();return t=n>=4||n===0?Nu(t):Nu.ceil(t),st(t.getFullYear()%1e4,e,4)}function IH(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+st(e/60|0,"0",2)+st(e%60,"0",2)}function ZR(t,e){return st(t.getUTCDate(),e,2)}function OH(t,e){return st(t.getUTCHours(),e,2)}function kH(t,e){return st(t.getUTCHours()%12||12,e,2)}function CH(t,e){return st(1+Xg.count(Da(t),t),e,3)}function h$(t,e){return st(t.getUTCMilliseconds(),e,3)}function RH(t,e){return h$(t,e)+"000"}function NH(t,e){return st(t.getUTCMonth()+1,e,2)}function MH(t,e){return st(t.getUTCMinutes(),e,2)}function DH(t,e){return st(t.getUTCSeconds(),e,2)}function LH(t){var e=t.getUTCDay();return e===0?7:e}function jH(t,e){return st(Yg.count(Da(t)-1,t),e,2)}function d$(t){var e=t.getUTCDay();return e>=4||e===0?Mu(t):Mu.ceil(t)}function $H(t,e){return t=d$(t),st(Mu.count(Da(t),t)+(Da(t).getUTCDay()===4),e,2)}function VH(t){return t.getUTCDay()}function FH(t,e){return st(Dm.count(Da(t)-1,t),e,2)}function UH(t,e){return st(t.getUTCFullYear()%100,e,2)}function qH(t,e){return t=d$(t),st(t.getUTCFullYear()%100,e,2)}function BH(t,e){return st(t.getUTCFullYear()%1e4,e,4)}function zH(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Mu(t):Mu.ceil(t),st(t.getUTCFullYear()%1e4,e,4)}function HH(){return"+0000"}function e2(){return"%"}function t2(t){return+t}function n2(t){return Math.floor(+t/1e3)}var au,p$,m$;WH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WH(t){return au=W7(t),p$=au.format,au.parse,m$=au.utcFormat,au.utcParse,au}function GH(t){return new Date(t)}function KH(t){return t instanceof Date?+t:+new Date(+t)}function UT(t,e,n,r,i,a,o,u,c,f){var d=PT(),p=d.invert,y=d.domain,_=f(".%L"),x=f(":%S"),E=f("%I:%M"),b=f("%I %p"),C=f("%a %d"),k=f("%b %d"),A=f("%B"),L=f("%Y");function I(N){return(c(N)<N?_:u(N)<N?x:o(N)<N?E:a(N)<N?b:r(N)<N?i(N)<N?C:k:n(N)<N?A:L)(N)}return d.invert=function(N){return new Date(p(N))},d.domain=function(N){return arguments.length?y(Array.from(N,KH)):y().map(GH)},d.ticks=function(N){var P=y();return t(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?I:f(P)},d.nice=function(N){var P=y();return(!N||typeof N.range!="function")&&(N=e(P[0],P[P.length-1],N??10)),N?y(t$(P,N)):d},d.copy=function(){return Qh(d,UT(t,e,n,r,i,a,o,u,c,f))},d}function XH(){return ii.apply(UT(z7,H7,Ma,VT,Qg,Yh,jT,DT,Ls,p$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function QH(){return ii.apply(UT(q7,B7,Da,FT,Yg,Xg,$T,LT,Ls,m$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jg(){var t=0,e=1,n,r,i,a,o=rr,u=!1,c;function f(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-n)*i,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(o=p,f):o};function d(p){return function(y){var _,x;return arguments.length?([_,x]=y,o=p(_,x),f):[o(0),o(1)]}}return f.range=d(fc),f.rangeRound=d(AT),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Go(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g$(){var t=Wo(Jg()(rr));return t.copy=function(){return Go(t,g$())},Ha.apply(t,arguments)}function y$(){var t=kT(Jg()).domain([1,10]);return t.copy=function(){return Go(t,y$()).base(t.base())},Ha.apply(t,arguments)}function v$(){var t=CT(Jg());return t.copy=function(){return Go(t,v$()).constant(t.constant())},Ha.apply(t,arguments)}function qT(){var t=RT(Jg());return t.copy=function(){return Go(t,qT()).exponent(t.exponent())},Ha.apply(t,arguments)}function YH(){return qT.apply(null,arguments).exponent(.5)}function _$(){var t=[],e=rr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ro),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>j8(t,a/r))},n.copy=function(){return _$(e).domain(t)},Ha.apply(n,arguments)}function Zg(){var t=0,e=.5,n=1,r=1,i,a,o,u,c,f=rr,d,p=!1,y;function _(E){return isNaN(E=+E)?y:(E=.5+((E=+d(E))-a)*(r*E<r*a?u:c),f(p?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([t,e,n]=E,i=d(t=+t),a=d(e=+e),o=d(n=+n),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_):[t,e,n]},_.clamp=function(E){return arguments.length?(p=!!E,_):p},_.interpolator=function(E){return arguments.length?(f=E,_):f};function x(E){return function(b){var C,k,A;return arguments.length?([C,k,A]=b,f=u7(E,[C,k,A]),_):[f(0),f(.5),f(1)]}}return _.range=x(fc),_.rangeRound=x(AT),_.unknown=function(E){return arguments.length?(y=E,_):y},function(E){return d=E,i=E(t),a=E(e),o=E(n),u=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,_}}function b$(){var t=Wo(Zg()(rr));return t.copy=function(){return Go(t,b$())},Ha.apply(t,arguments)}function w$(){var t=kT(Zg()).domain([.1,1,10]);return t.copy=function(){return Go(t,w$()).base(t.base())},Ha.apply(t,arguments)}function E$(){var t=CT(Zg());return t.copy=function(){return Go(t,E$()).constant(t.constant())},Ha.apply(t,arguments)}function BT(){var t=RT(Zg());return t.copy=function(){return Go(t,BT()).exponent(t.exponent())},Ha.apply(t,arguments)}function JH(){return BT.apply(null,arguments).exponent(.5)}const r2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nh,scaleDiverging:b$,scaleDivergingLog:w$,scaleDivergingPow:BT,scaleDivergingSqrt:JH,scaleDivergingSymlog:E$,scaleIdentity:e$,scaleImplicit:p1,scaleLinear:Rm,scaleLog:n$,scaleOrdinal:xT,scalePoint:Lf,scalePow:NT,scaleQuantile:a$,scaleQuantize:o$,scaleRadial:i$,scaleSequential:g$,scaleSequentialLog:y$,scaleSequentialPow:qT,scaleSequentialQuantile:_$,scaleSequentialSqrt:YH,scaleSequentialSymlog:v$,scaleSqrt:R7,scaleSymlog:r$,scaleThreshold:s$,scaleTime:XH,scaleUtc:QH,tickFormat:Zj},Symbol.toStringTag,{value:"Module"}));var qw,i2;function ey(){if(i2)return qw;i2=1;var t=sc();function e(n,r,i){for(var a=-1,o=n.length;++a<o;){var u=n[a],c=r(u);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,d=u}return d}return qw=e,qw}var Bw,a2;function x$(){if(a2)return Bw;a2=1;function t(e,n){return e>n}return Bw=t,Bw}var zw,o2;function ZH(){if(o2)return zw;o2=1;var t=ey(),e=x$(),n=uc();function r(i){return i&&i.length?t(i,n,e):void 0}return zw=r,zw}var eW=ZH();const ty=ht(eW);var Hw,s2;function T$(){if(s2)return Hw;s2=1;function t(e,n){return e<n}return Hw=t,Hw}var Ww,l2;function tW(){if(l2)return Ww;l2=1;var t=ey(),e=T$(),n=uc();function r(i){return i&&i.length?t(i,n,e):void 0}return Ww=r,Ww}var nW=tW();const ny=ht(nW);var Gw,u2;function rW(){if(u2)return Gw;u2=1;var t=aT(),e=ra(),n=Rj(),r=wr();function i(a,o){var u=r(a)?t:n;return u(a,e(o,3))}return Gw=i,Gw}var Kw,c2;function iW(){if(c2)return Kw;c2=1;var t=kj(),e=rW();function n(r,i){return t(e(r,i),1)}return Kw=n,Kw}var aW=iW();const oW=ht(aW);var Xw,f2;function sW(){if(f2)return Xw;f2=1;var t=vT();function e(n,r){return t(n,r)}return Xw=e,Xw}var lW=sW();const ry=ht(lW);var hc=1e9,uW={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HT,Dt=!0,ri="[DecimalError] ",Us=ri+"Invalid argument: ",zT=ri+"Exponent out of range: ",dc=Math.floor,ks=Math.pow,cW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rr,vn=1e7,Ct=7,S$=9007199254740991,Lm=dc(S$/Ct),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Te.dividedBy=Te.div=function(t){return Oa(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var e=this,n=e.constructor;return wt(Oa(e,new n(t),0,1),n.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return en(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Rr))throw Error(ri+"NaN");if(n.s<1)throw Error(ri+(n.s?"NaN":"-Infinity"));return n.eq(Rr)?new r(0):(Dt=!1,e=Oa(sh(n,a),sh(t,a),a),Dt=!0,wt(e,i))};Te.minus=Te.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I$(e,t):A$(e,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ri+"NaN");return n.s?(Dt=!1,e=Oa(n,t,0,1).times(t),Dt=!0,n.minus(e)):wt(new r(n),i)};Te.naturalExponential=Te.exp=function(){return P$(this)};Te.naturalLogarithm=Te.ln=function(){return sh(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A$(e,t):I$(e,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Us+t);if(e=en(i)+1,r=i.d.length-1,n=r*Ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Te.squareRoot=Te.sqrt=function(){var t,e,n,r,i,a,o,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(ri+"NaN")}for(t=en(u),Dt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Wi(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=dc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Oa(u,a,o+2)).times(.5),Wi(a.d).slice(0,o)===(e=Wi(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(wt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(e!="9999")break;o+=4}return Dt=!0,wt(r,n)};Te.times=Te.mul=function(t){var e,n,r,i,a,o,u,c,f,d=this,p=d.constructor,y=d.d,_=(t=new p(t)).d;if(!d.s||!t.s)return new p(0);for(t.s*=d.s,n=d.e+t.e,c=y.length,f=_.length,c<f&&(a=y,y=_,_=a,o=c,c=f,f=o),a=[],o=c+f,r=o;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)u=a[i]+_[r]*y[i-r-1]+e,a[i--]=u%vn|0,e=u/vn|0;a[i]=(a[i]+e)%vn|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Dt?wt(t,p.precision):t};Te.toDecimalPlaces=Te.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ea(t,0,hc),e===void 0?e=r.rounding:ea(e,0,8),wt(n,t+en(n)+1,e))};Te.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Gs(r,!0):(ea(t,0,hc),e===void 0?e=i.rounding:ea(e,0,8),r=wt(new i(r),t+1,e),n=Gs(r,!0,t+1)),n};Te.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Gs(i):(ea(t,0,hc),e===void 0?e=a.rounding:ea(e,0,8),r=wt(new a(i),t+en(i)+1,e),n=Gs(r.abs(),!1,t+en(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Te.toInteger=Te.toint=function(){var t=this,e=t.constructor;return wt(new e(t),en(t)+1,e.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var e,n,r,i,a,o,u=this,c=u.constructor,f=12,d=+(t=new c(t));if(!t.s)return new c(Rr);if(u=new c(u),!u.s){if(t.s<1)throw Error(ri+"Infinity");return u}if(u.eq(Rr))return u;if(r=c.precision,t.eq(Rr))return wt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=u.s,o){if((n=d<0?-d:d)<=S$){for(i=new c(Rr),e=Math.ceil(r/Ct+4),Dt=!1;n%2&&(i=i.times(u),d2(i.d,e)),n=dc(n/2),n!==0;)u=u.times(u),d2(u.d,e);return Dt=!0,t.s<0?new c(Rr).div(i):wt(i,r)}}else if(a<0)throw Error(ri+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Dt=!1,i=t.times(sh(u,r+f)),Dt=!0,i=P$(i),i.s=a,i};Te.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=en(i),r=Gs(i,n<=a.toExpNeg||n>=a.toExpPos)):(ea(t,1,hc),e===void 0?e=a.rounding:ea(e,0,8),i=wt(new a(i),t,e),n=en(i),r=Gs(i,t<=n||n<=a.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ea(t,1,hc),e===void 0?e=r.rounding:ea(e,0,8)),wt(new r(n),t,e)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=en(t),n=t.constructor;return Gs(t,e<=n.toExpNeg||e>=n.toExpPos)};function A$(t,e){var n,r,i,a,o,u,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Dt?wt(e,p):e;if(c=t.d,f=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,u=f.length):(r=f,i=o,u=c.length),o=Math.ceil(p/Ct),u=o>u?o+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=c.length,a=f.length,u-a<0&&(a=u,r=f,f=c,c=r),n=0;a;)n=(c[--a]=c[a]+f[a]+n)/vn|0,c[a]%=vn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Dt?wt(e,p):e}function ea(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Us+t)}function Wi(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Ct-r.length,n&&(a+=xo(n)),a+=r;o=t[e],r=o+"",n=Ct-r.length,n&&(a+=xo(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Oa=function(){function t(r,i){var a,o=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+o,r[u]=a%vn|0,o=a/vn|0;return o&&r.unshift(o),r}function e(r,i,a,o){var u,c;if(a!=o)c=a>o?1:-1;else for(u=c=0;u<a;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*vn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var u,c,f,d,p,y,_,x,E,b,C,k,A,L,I,N,P,O,M=r.constructor,F=r.s==i.s?1:-1,D=r.d,V=i.d;if(!r.s)return new M(r);if(!i.s)throw Error(ri+"Division by zero");for(c=r.e-i.e,P=V.length,I=D.length,_=new M(F),x=_.d=[],f=0;V[f]==(D[f]||0);)++f;if(V[f]>(D[f]||0)&&--c,a==null?k=a=M.precision:o?k=a+(en(r)-en(i))+1:k=a,k<0)return new M(0);if(k=k/Ct+2|0,f=0,P==1)for(d=0,V=V[0],k++;(f<I||d)&&k--;f++)A=d*vn+(D[f]||0),x[f]=A/V|0,d=A%V|0;else{for(d=vn/(V[0]+1)|0,d>1&&(V=t(V,d),D=t(D,d),P=V.length,I=D.length),L=P,E=D.slice(0,P),b=E.length;b<P;)E[b++]=0;O=V.slice(),O.unshift(0),N=V[0],V[1]>=vn/2&&++N;do d=0,u=e(V,E,P,b),u<0?(C=E[0],P!=b&&(C=C*vn+(E[1]||0)),d=C/N|0,d>1?(d>=vn&&(d=vn-1),p=t(V,d),y=p.length,b=E.length,u=e(p,E,y,b),u==1&&(d--,n(p,P<y?O:V,y))):(d==0&&(u=d=1),p=V.slice()),y=p.length,y<b&&p.unshift(0),n(E,p,b),u==-1&&(b=E.length,u=e(V,E,P,b),u<1&&(d++,n(E,P<b?O:V,b))),b=E.length):u===0&&(d++,E=[0]),x[f++]=d,u&&E[0]?E[b++]=D[L]||0:(E=[D[L]],b=1);while((L++<I||E[0]!==void 0)&&k--)}return x[0]||x.shift(),_.e=c,wt(_,o?a+en(_)+1:a)}}();function P$(t,e){var n,r,i,a,o,u,c=0,f=0,d=t.constructor,p=d.precision;if(en(t)>16)throw Error(zT+en(t));if(!t.s)return new d(Rr);for(Dt=!1,u=p,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(r=Math.log(ks(2,f))/Math.LN10*2+5|0,u+=r,n=i=a=new d(Rr),d.precision=u;;){if(i=wt(i.times(t),u),n=n.times(++c),o=a.plus(Oa(i,n,u)),Wi(o.d).slice(0,u)===Wi(a.d).slice(0,u)){for(;f--;)a=wt(a.times(a),u);return d.precision=p,e==null?(Dt=!0,wt(a,p)):a}a=o}}function en(t){for(var e=t.e*Ct,n=t.d[0];n>=10;n/=10)e++;return e}function Qw(t,e,n){if(e>t.LN10.sd())throw Dt=!0,n&&(t.precision=n),Error(ri+"LN10 precision limit exceeded");return wt(new t(t.LN10),e)}function xo(t){for(var e="";t--;)e+="0";return e}function sh(t,e){var n,r,i,a,o,u,c,f,d,p=1,y=10,_=t,x=_.d,E=_.constructor,b=E.precision;if(_.s<1)throw Error(ri+(_.s?"NaN":"-Infinity"));if(_.eq(Rr))return new E(0);if(e==null?(Dt=!1,f=b):f=e,_.eq(10))return e==null&&(Dt=!0),Qw(E,f);if(f+=y,E.precision=f,n=Wi(x),r=n.charAt(0),a=en(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Wi(_.d),r=n.charAt(0),p++;a=en(_),r>1?(_=new E("0."+n),a++):_=new E(r+"."+n.slice(1))}else return c=Qw(E,f+2,b).times(a+""),_=sh(new E(r+"."+n.slice(1)),f-y).plus(c),E.precision=b,e==null?(Dt=!0,wt(_,b)):_;for(u=o=_=Oa(_.minus(Rr),_.plus(Rr),f),d=wt(_.times(_),f),i=3;;){if(o=wt(o.times(d),f),c=u.plus(Oa(o,new E(i),f)),Wi(c.d).slice(0,f)===Wi(u.d).slice(0,f))return u=u.times(2),a!==0&&(u=u.plus(Qw(E,f+2,b).times(a+""))),u=Oa(u,new E(p),f),E.precision=b,e==null?(Dt=!0,wt(u,b)):u;u=c,i+=2}}function h2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=dc(n/Ct),t.d=[],r=(n+1)%Ct,n<0&&(r+=Ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ct;r<i;)t.d.push(+e.slice(r,r+=Ct));e=e.slice(r),r=Ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dt&&(t.e>Lm||t.e<-Lm))throw Error(zT+n)}else t.s=0,t.e=0,t.d=[0];return t}function wt(t,e,n){var r,i,a,o,u,c,f,d,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Ct,i=e,f=p[d=0];else{if(d=Math.ceil((r+1)/Ct),a=p.length,d>=a)return t;for(f=a=p[d],o=1;a>=10;a/=10)o++;r%=Ct,i=r-Ct+o}if(n!==void 0&&(a=ks(10,o-i-1),u=f/a%10|0,c=e<0||p[d+1]!==void 0||f%a,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?f/ks(10,o-i):0:p[d-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(a=en(t),p.length=1,e=e-a-1,p[0]=ks(10,(Ct-e%Ct)%Ct),t.e=dc(-e/Ct)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=d,a=1,d--):(p.length=d+1,a=ks(10,Ct-r),p[d]=i>0?(f/ks(10,o-i)%ks(10,i)|0)*a:0),c)for(;;)if(d==0){(p[0]+=a)==vn&&(p[0]=1,++t.e);break}else{if(p[d]+=a,p[d]!=vn)break;p[d--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(Dt&&(t.e>Lm||t.e<-Lm))throw Error(zT+en(t));return t}function I$(t,e){var n,r,i,a,o,u,c,f,d,p,y=t.constructor,_=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Dt?wt(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),o=f-r,o){for(d=o<0,d?(n=c,o=-o,u=p.length):(n=p,r=f,u=c.length),i=Math.max(Math.ceil(_/Ct),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=p.length,d=i<u,d&&(u=i),i=0;i<u;i++)if(c[i]!=p[i]){d=c[i]<p[i];break}o=0}for(d&&(n=c,c=p,p=n,e.s=-e.s),u=c.length,i=p.length-u;i>0;--i)c[u++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=vn-1;--c[a],c[i]+=vn}c[i]-=p[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Dt?wt(e,_):e):new y(0)}function Gs(t,e,n){var r,i=en(t),a=Wi(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+xo(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+xo(-i-1)+a,n&&(r=n-o)>0&&(a+=xo(r))):i>=o?(a+=xo(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+xo(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=xo(r))),t.s<0?"-"+a:a}function d2(t,e){if(t.length>e)return t.length=e,!0}function O$(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Us+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return h2(o,a.toString())}else if(typeof a!="string")throw Error(Us+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,cW.test(a))h2(o,a);else throw Error(Us+a)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=O$,i.config=i.set=fW,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fW(t){if(!t||typeof t!="object")throw Error(ri+"Object expected");var e,n,r,i=["precision",1,hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(dc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Us+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Us+n+": "+r);return this}var HT=O$(uW);Rr=new HT(1);const yt=HT;function hW(t){return gW(t)||mW(t)||pW(t)||dW()}function dW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pW(t,e){if(t){if(typeof t=="string")return v1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v1(t,e)}}function mW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gW(t){if(Array.isArray(t))return v1(t)}function v1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yW=function(e){return e},k$={},C$=function(e){return e===k$},p2=function(e){return function n(){return arguments.length===0||arguments.length===1&&C$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vW=function t(e,n){return e===1?n:p2(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(u){return u!==k$}).length;return o>=e?n.apply(void 0,i):t(e-o,p2(function(){for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];var d=i.map(function(p){return C$(p)?c.shift():p});return n.apply(void 0,hW(d).concat(c))}))})},iy=function(e){return vW(e.length,e)},_1=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},_W=iy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bW=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return yW;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(u,c){return c(u)},a.apply(void 0,arguments))}},b1=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},R$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(u,c){return u===n[c]})||(n=a,r=e.apply(void 0,a)),r}};function wW(t){var e;return t===0?e=1:e=Math.floor(new yt(t).abs().log(10).toNumber())+1,e}function EW(t,e,n){for(var r=new yt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var xW=iy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),TW=iy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),SW=iy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ay={rangeStep:EW,getDigitCount:wW,interpolateNumber:xW,uninterpolateNumber:TW,uninterpolateTruncation:SW};function w1(t){return IW(t)||PW(t)||N$(t)||AW()}function AW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PW(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function IW(t){if(Array.isArray(t))return E1(t)}function lh(t,e){return CW(t)||kW(t,e)||N$(t,e)||OW()}function OW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N$(t,e){if(t){if(typeof t=="string")return E1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E1(t,e)}}function E1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kW(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function CW(t){if(Array.isArray(t))return t}function M$(t){var e=lh(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function D$(t,e,n){if(t.lte(0))return new yt(0);var r=ay.getDigitCount(t.toNumber()),i=new yt(10).pow(r),a=t.div(i),o=r!==1?.05:.1,u=new yt(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=u.mul(i);return e?c:new yt(Math.ceil(c))}function RW(t,e,n){var r=1,i=new yt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new yt(10).pow(ay.getDigitCount(t)-1),i=new yt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new yt(Math.floor(t)))}else t===0?i=new yt(Math.floor((e-1)/2)):n||(i=new yt(Math.floor(t)));var o=Math.floor((e-1)/2),u=bW(_W(function(c){return i.add(new yt(c-o).mul(r)).toNumber()}),_1);return u(0,e)}function L$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new yt(0),tickMin:new yt(0),tickMax:new yt(0)};var a=D$(new yt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new yt(0):(o=new yt(t).add(e).div(2),o=o.sub(new yt(o).mod(a)));var u=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new yt(e).sub(o).div(a).toNumber()),f=u+c+1;return f>n?L$(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,u=e>0?u:u+(n-f)),{step:a,tickMin:o.sub(new yt(u).mul(a)),tickMax:o.add(new yt(c).mul(a))})}function NW(t){var e=lh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=M$([n,r]),c=lh(u,2),f=c[0],d=c[1];if(f===-1/0||d===1/0){var p=d===1/0?[f].concat(w1(_1(0,i-1).map(function(){return 1/0}))):[].concat(w1(_1(0,i-1).map(function(){return-1/0})),[d]);return n>r?b1(p):p}if(f===d)return RW(f,i,a);var y=L$(f,d,o,a),_=y.step,x=y.tickMin,E=y.tickMax,b=ay.rangeStep(x,E.add(new yt(.1).mul(_)),_);return n>r?b1(b):b}function MW(t,e){var n=lh(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=M$([r,i]),u=lh(o,2),c=u[0],f=u[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var d=Math.max(e,2),p=D$(new yt(f).sub(c).div(d-1),a,0),y=[].concat(w1(ay.rangeStep(new yt(c),new yt(f).sub(new yt(.99).mul(p)),p)),[f]);return r>i?b1(y):y}var DW=R$(NW),LW=R$(MW),jW="Invariant failed";function Ks(t,e){throw new Error(jW)}var $W=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Du(t){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Du(t)}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function VW(t,e){return BW(t)||qW(t,e)||UW(t,e)||FW()}function FW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UW(t,e){if(t){if(typeof t=="string")return m2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m2(t,e)}}function m2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function BW(t){if(Array.isArray(t))return t}function zW(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V$(r.key),r)}}function KW(t,e,n){return e&&GW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XW(t,e,n){return e=$m(e),QW(t,j$()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function QW(t,e){if(e&&(Du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YW(t)}function YW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function JW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x1(t,e)}function x1(t,e){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x1(t,e)}function $$(t,e,n){return e=V$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V$(t){var e=ZW(t,"string");return Du(e)=="symbol"?e:e+""}function ZW(t,e){if(Du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oy=function(t){function e(){return WW(this,e),XW(this,e,arguments)}return JW(e,t),KW(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,u=r.dataKey,c=r.data,f=r.dataPointFormatter,d=r.xAxis,p=r.yAxis,y=zW(r,$W),_=Ue(y,!1);this.props.direction==="x"&&d.type!=="number"&&Ks();var x=c.map(function(E){var b=f(E,u),C=b.x,k=b.y,A=b.value,L=b.errorVal;if(!L)return null;var I=[],N,P;if(Array.isArray(L)){var O=VW(L,2);N=O[0],P=O[1]}else N=P=L;if(a==="vertical"){var M=d.scale,F=k+i,D=F+o,V=F-o,j=M(A-N),K=M(A+P);I.push({x1:K,y1:D,x2:K,y2:V}),I.push({x1:j,y1:F,x2:K,y2:F}),I.push({x1:j,y1:D,x2:j,y2:V})}else if(a==="horizontal"){var J=p.scale,ie=C+i,re=ie-o,Q=ie+o,ee=J(A-N),ae=J(A+P);I.push({x1:re,y1:ae,x2:Q,y2:ae}),I.push({x1:ie,y1:ee,x2:ie,y2:ae}),I.push({x1:re,y1:ee,x2:Q,y2:ee})}return v.createElement(mt,jm({className:"recharts-errorBar",key:"bar-".concat(I.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},_),I.map(function(B){return v.createElement("line",jm({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return v.createElement(mt,{className:"recharts-errorBars"},x)}}])}(v.Component);$$(oy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$$(oy,"displayName","ErrorBar");function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){eG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eG(t,e,n){return e=tG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t){var e=nG(t,"string");return uh(e)=="symbol"?e:e+""}function nG(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=kr(n,Vs);if(!o)return null;var u=Vs.defaultProps,c=u!==void 0?As(As({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:a==="children"?f=(r||[]).reduce(function(d,p){var y=p.item,_=p.props,x=_.sectors||_.data||[];return d.concat(x.map(function(E){return{type:o.props.iconType||y.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(r||[]).map(function(d){var p=d.item,y=p.type.defaultProps,_=y!==void 0?As(As({},y),p.props):{},x=_.dataKey,E=_.name,b=_.legendType,C=_.hide;return{inactive:C,dataKey:x,type:c.iconType||b||"square",color:WT(p),value:E||x,payload:_}}),As(As(As({},c),Vs.getWithHeight(o,i)),{},{payload:f,item:o})};function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function y2(t){return oG(t)||aG(t)||iG(t)||rG()}function rG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iG(t,e){if(t){if(typeof t=="string")return T1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T1(t,e)}}function aG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oG(t){if(Array.isArray(t))return T1(t)}function T1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wu(t,e,n){return e=sG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sG(t){var e=lG(t,"string");return ch(e)=="symbol"?e:e+""}function lG(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zn(t,e,n){return Je(t)||Je(e)?n:un(e)?Dr(t,e,n):Be(e)?e(t):n}function jf(t,e,n,r){var i=oW(t,function(u){return zn(u,e)});if(n==="number"){var a=i.filter(function(u){return ge(u)||parseFloat(u)});return a.length?[ny(a),ty(a)]:[1/0,-1/0]}var o=r?i.filter(function(u){return!Je(u)}):i;return o.map(function(u){return un(u)||u instanceof Date?u:""})}var uG=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,u=(n=r?.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,f=0;f<u;f++){var d=f>0?i[f-1].coordinate:i[u-1].coordinate,p=i[f].coordinate,y=f>=u-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(tr(p-d)!==tr(y-p)){var x=[];if(tr(y-p)===tr(c[1]-c[0])){_=y;var E=p+c[1]-c[0];x[0]=Math.min(E,(E+d)/2),x[1]=Math.max(E,(E+d)/2)}else{_=d;var b=y+c[1]-c[0];x[0]=Math.min(p,(b+p)/2),x[1]=Math.max(p,(b+p)/2)}var C=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>C[0]&&e<=C[1]||e>=x[0]&&e<=x[1]){o=i[f].index;break}}else{var k=Math.min(d,y),A=Math.max(d,y);if(e>(k+p)/2&&e<=(A+p)/2){o=i[f].index;break}}}else for(var L=0;L<u;L++)if(L===0&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L>0&&L<u-1&&e>(r[L].coordinate+r[L-1].coordinate)/2&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L===u-1&&e>(r[L].coordinate+r[L-1].coordinate)/2){o=r[L].index;break}return o},WT=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,o=a.stroke,u=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:u;break;default:c=u;break}return c},cG=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},u=Object.keys(a),c=0,f=u.length;c<f;c++)for(var d=a[u[c]].stackGroups,p=Object.keys(d),y=0,_=p.length;y<_;y++){var x=d[p[y]],E=x.items,b=x.cateAxisId,C=E.filter(function(P){return Ia(P.type).indexOf("Bar")>=0});if(C&&C.length){var k=C[0].type.defaultProps,A=k!==void 0?qt(qt({},k),C[0].props):C[0].props,L=A.barSize,I=A[b];o[I]||(o[I]=[]);var N=Je(L)?n:L;o[I].push({item:C[0],stackList:C.slice(1),barSize:Je(N)?void 0:nr(N,r,0)})}}return o},fG=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,u=e.maxBarSize,c=o.length;if(c<1)return null;var f=nr(n,i,0,!0),d,p=[];if(o[0].barSize===+o[0].barSize){var y=!1,_=i/c,x=o.reduce(function(L,I){return L+I.barSize||0},0);x+=(c-1)*f,x>=i&&(x-=(c-1)*f,f=0),x>=i&&_>0&&(y=!0,_*=.9,x=c*_);var E=(i-x)/2>>0,b={offset:E-f,size:0};d=o.reduce(function(L,I){var N={item:I.item,position:{offset:b.offset+b.size+f,size:y?_:I.barSize}},P=[].concat(y2(L),[N]);return b=P[P.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(O){P.push({item:O,position:b})}),P},p)}else{var C=nr(r,i,0,!0);i-2*C-(c-1)*f<=0&&(f=0);var k=(i-2*C-(c-1)*f)/c;k>1&&(k>>=0);var A=u===+u?Math.min(k,u):k;d=o.reduce(function(L,I,N){var P=[].concat(y2(L),[{item:I.item,position:{offset:C+(k+f)*N+(k-A)/2,size:A}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(O){P.push({item:O,position:P[P.length-1].position})}),P},p)}return d},hG=function(e,n,r,i){var a=r.children,o=r.width,u=r.margin,c=o-(u.left||0)-(u.right||0),f=F$({children:a,legendWidth:c});if(f){var d=i||{},p=d.width,y=d.height,_=f.align,x=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&x==="middle")&&_!=="center"&&ge(e[_]))return qt(qt({},e),{},wu({},_,e[_]+(p||0)));if((E==="horizontal"||E==="vertical"&&_==="center")&&x!=="middle"&&ge(e[x]))return qt(qt({},e),{},wu({},x,e[x]+(y||0)))}return e},dG=function(e,n,r){return Je(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},U$=function(e,n,r,i,a){var o=n.props.children,u=Zr(o,oy).filter(function(f){return dG(i,a,f.props.direction)});if(u&&u.length){var c=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,d){var p=zn(d,r);if(Je(p))return f;var y=Array.isArray(p)?[ny(p),ty(p)]:[p,p],_=c.reduce(function(x,E){var b=zn(d,E,0),C=y[0]-Math.abs(Array.isArray(b)?b[0]:b),k=y[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(C,x[0]),Math.max(k,x[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},pG=function(e,n,r,i,a){var o=n.map(function(u){return U$(e,u,r,a,i)}).filter(function(u){return!Je(u)});return o&&o.length?o.reduce(function(u,c){return[Math.min(u[0],c[0]),Math.max(u[1],c[1])]},[1/0,-1/0]):null},q$=function(e,n,r,i,a){var o=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&U$(e,c,f,i)||jf(e,f,r,a)});if(r==="number")return o.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(c,f){for(var d=0,p=f.length;d<p;d++)u[f[d]]||(u[f[d]]=!0,c.push(f[d]));return c},[])},B$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},z$=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var a,o,u=e.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||u.push(n),o||u.push(r),u},Sa=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,u=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?tr(u[0]-u[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(p){var y=a?a.indexOf(p):p;return{coordinate:i(y)+f,value:p,offset:f}});return d.filter(function(p){return!Hh(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,y){return{coordinate:i(p)+f,value:p,index:y,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,y){return{coordinate:i(p)+f,value:a?a[p]:p,index:y,offset:f}})},Yw=new WeakMap,Vp=function(e,n){if(typeof n!="function")return e;Yw.has(e)||Yw.set(e,new WeakMap);var r=Yw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},H$=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:nh(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:Rm(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lf(),realScaleType:"point"}:a==="category"?{scale:nh(),realScaleType:"band"}:{scale:Rm(),realScaleType:"linear"};if(zs(i)){var c="scale".concat(Ug(i));return{scale:(r2[c]||Lf)(),realScaleType:r2[c]?c:"point"}}return Be(i)?{scale:i}:{scale:Lf(),realScaleType:"point"}},_2=1e-4,W$=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-_2,o=Math.max(i[0],i[1])+_2,u=e(n[0]),c=e(n[r-1]);(u<a||u>o||c<a||c>o)&&e.domain([n[0],n[r-1]])}},mG=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},gG=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(a[0]=r),(!ge(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},yG=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,u=0;u<n;++u){var c=Hh(e[u][r][1])?e[u][r][0]:e[u][r][1];c>=0?(e[u][r][0]=a,e[u][r][1]=a+c,a=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+c,o=e[u][r][1])}},vG=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var u=Hh(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=a,e[o][r][1]=a+u,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},_G={sign:yG,expand:o5,none:Pu,silhouette:s5,wiggle:l5,positive:vG},bG=function(e,n,r){var i=n.map(function(u){return u.props.dataKey}),a=_G[r],o=a5().keys(i).value(function(u,c){return+zn(u,c,0)}).order(e1).offset(a);return o(e)},wG=function(e,n,r,i,a,o){if(!e)return null;var u=o?n.reverse():n,c={},f=u.reduce(function(p,y){var _,x=(_=y.type)!==null&&_!==void 0&&_.defaultProps?qt(qt({},y.type.defaultProps),y.props):y.props,E=x.stackId,b=x.hide;if(b)return p;var C=x[r],k=p[C]||{hasStack:!1,stackGroups:{}};if(un(E)){var A=k.stackGroups[E]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(y),k.hasStack=!0,k.stackGroups[E]=A}else k.stackGroups[Wh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return qt(qt({},p),{},wu({},C,k))},c),d={};return Object.keys(f).reduce(function(p,y){var _=f[y];if(_.hasStack){var x={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(E,b){var C=_.stackGroups[b];return qt(qt({},E),{},wu({},b,{numericAxisId:r,cateAxisId:i,items:C.items,stackedData:bG(e,C.items,a)}))},x)}return qt(qt({},p),{},wu({},y,_))},d)},G$=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,u=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var d=DW(f,a,u);return e.domain([ny(d),ty(d)]),{niceTicks:d}}if(a&&i==="number"){var p=e.domain(),y=LW(p,a,u);return{niceTicks:y}}return null},b2=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+i:null;var c=zn(o,n.dataKey,n.domain[u]);return Je(c)?null:n.scale(c)-a/2+i},EG=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},xG=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(un(a)){var o=n[a];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},TG=function(e){return e.reduce(function(n,r){return[ny(r.concat([n[0]]).filter(ge)),ty(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},K$=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],u=o.stackedData,c=u.reduce(function(f,d){var p=TG(d.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},w2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S1=function(e,n,r){if(Be(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(w2.test(e[0])){var a=+w2.exec(e[0])[1];i[0]=n[0]-a}else Be(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(E2.test(e[1])){var o=+E2.exec(e[1])[1];i[1]=n[1]+o}else Be(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Vm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=bT(n,function(p){return p.coordinate}),o=1/0,u=1,c=a.length;u<c;u++){var f=a[u],d=a[u-1];o=Math.min((f.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},x2=function(e,n,r){return!e||!e.length||ry(e,Dr(r,"type.defaultProps.domain"))?n:e},X$=function(e,n){var r=e.type.defaultProps?qt(qt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,u=r.formatter,c=r.tooltipType,f=r.chartType,d=r.hide;return qt(qt({},Ue(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:a||i,color:WT(e),value:zn(n,i),type:c,payload:n,chartType:f,hide:d})};function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){Q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q$(t,e,n){return e=SG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SG(t){var e=AG(t,"string");return fh(e)=="symbol"?e:e+""}function AG(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PG(t,e){return CG(t)||kG(t,e)||OG(t,e)||IG()}function IG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OG(t,e){if(t){if(typeof t=="string")return S2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S2(t,e)}}function S2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function CG(t){if(Array.isArray(t))return t}var Fm=Math.PI/180,RG=function(e){return e*180/Math.PI},It=function(e,n,r,i){return{x:e+Math.cos(-Fm*i)*r,y:n+Math.sin(-Fm*i)*r}},Y$=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},NG=function(e,n,r,i,a){var o=e.width,u=e.height,c=e.startAngle,f=e.endAngle,d=nr(e.cx,o,o/2),p=nr(e.cy,u,u/2),y=Y$(o,u,r),_=nr(e.innerRadius,y,0),x=nr(e.outerRadius,y,y*.8),E=Object.keys(n);return E.reduce(function(b,C){var k=n[C],A=k.domain,L=k.reversed,I;if(Je(k.range))i==="angleAxis"?I=[c,f]:i==="radiusAxis"&&(I=[_,x]),L&&(I=[I[1],I[0]]);else{I=k.range;var N=I,P=PG(N,2);c=P[0],f=P[1]}var O=H$(k,a),M=O.realScaleType,F=O.scale;F.domain(A).range(I),W$(F);var D=G$(F,Ea(Ea({},k),{},{realScaleType:M})),V=Ea(Ea(Ea({},k),D),{},{range:I,radius:x,realScaleType:M,scale:F,cx:d,cy:p,innerRadius:_,outerRadius:x,startAngle:c,endAngle:f});return Ea(Ea({},b),{},Q$({},C,V))},{})},MG=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},DG=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,u=MG({x:r,y:i},{x:a,y:o});if(u<=0)return{radius:u};var c=(r-a)/u,f=Math.acos(c);return i>o&&(f=2*Math.PI-f),{radius:u,angle:RG(f),angleInRadian:f}},LG=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},jG=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),u=Math.min(a,o);return e+u*360},A2=function(e,n){var r=e.x,i=e.y,a=DG({x:r,y:i},n),o=a.radius,u=a.angle,c=n.innerRadius,f=n.outerRadius;if(o<c||o>f)return!1;if(o===0)return!0;var d=LG(n),p=d.startAngle,y=d.endAngle,_=u,x;if(p<=y){for(;_>y;)_-=360;for(;_<p;)_+=360;x=_>=p&&_<=y}else{for(;_>p;)_-=360;for(;_<y;)_+=360;x=_>=y&&_<=p}return x?Ea(Ea({},n),{},{radius:o,angle:jG(_,n)}):null},J$=function(e){return!z.isValidElement(e)&&!Be(e)&&typeof e!="boolean"?e.className:""};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var $G=["offset"];function VG(t){return BG(t)||qG(t)||UG(t)||FG()}function FG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UG(t,e){if(t){if(typeof t=="string")return A1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A1(t,e)}}function qG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BG(t){if(Array.isArray(t))return A1(t)}function A1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zG(t,e){if(t==null)return{};var n=HG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){WG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WG(t,e,n){return e=GG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GG(t){var e=KG(t,"string");return hh(e)=="symbol"?e:e+""}function KG(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(this,arguments)}var XG=function(e){var n=e.value,r=e.formatter,i=Je(e.children)?n:e.children;return Be(r)?r(i):i},QG=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},YG=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,u=e.className,c=a,f=c.cx,d=c.cy,p=c.innerRadius,y=c.outerRadius,_=c.startAngle,x=c.endAngle,E=c.clockWise,b=(p+y)/2,C=QG(_,x),k=C>=0?1:-1,A,L;i==="insideStart"?(A=_+k*o,L=E):i==="insideEnd"?(A=x-k*o,L=!E):i==="end"&&(A=x+k*o,L=E),L=C<=0?L:!L;var I=It(f,d,b,A),N=It(f,d,b,A+(L?1:-1)*359),P="M".concat(I.x,",").concat(I.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(L?0:1,`,
    `).concat(N.x,",").concat(N.y),O=Je(e.id)?Wh("recharts-radial-line-"):e.id;return v.createElement("text",dh({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",u)}),v.createElement("defs",null,v.createElement("path",{id:O,d:P})),v.createElement("textPath",{xlinkHref:"#".concat(O)},n))},JG=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,u=a.cy,c=a.innerRadius,f=a.outerRadius,d=a.startAngle,p=a.endAngle,y=(d+p)/2;if(i==="outside"){var _=It(o,u,f+r,y),x=_.x,E=_.y;return{x,y:E,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var b=(c+f)/2,C=It(o,u,b,y),k=C.x,A=C.y;return{x:k,y:A,textAnchor:"middle",verticalAnchor:"middle"}},ZG=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,u=o.x,c=o.y,f=o.width,d=o.height,p=d>=0?1:-1,y=p*i,_=p>0?"end":"start",x=p>0?"start":"end",E=f>=0?1:-1,b=E*i,C=E>0?"end":"start",k=E>0?"start":"end";if(a==="top"){var A={x:u+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:_};return ln(ln({},A),r?{height:Math.max(c-r.y,0),width:f}:{})}if(a==="bottom"){var L={x:u+f/2,y:c+d+y,textAnchor:"middle",verticalAnchor:x};return ln(ln({},L),r?{height:Math.max(r.y+r.height-(c+d),0),width:f}:{})}if(a==="left"){var I={x:u-b,y:c+d/2,textAnchor:C,verticalAnchor:"middle"};return ln(ln({},I),r?{width:Math.max(I.x-r.x,0),height:d}:{})}if(a==="right"){var N={x:u+f+b,y:c+d/2,textAnchor:k,verticalAnchor:"middle"};return ln(ln({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var P=r?{width:f,height:d}:{};return a==="insideLeft"?ln({x:u+b,y:c+d/2,textAnchor:k,verticalAnchor:"middle"},P):a==="insideRight"?ln({x:u+f-b,y:c+d/2,textAnchor:C,verticalAnchor:"middle"},P):a==="insideTop"?ln({x:u+f/2,y:c+y,textAnchor:"middle",verticalAnchor:x},P):a==="insideBottom"?ln({x:u+f/2,y:c+d-y,textAnchor:"middle",verticalAnchor:_},P):a==="insideTopLeft"?ln({x:u+b,y:c+y,textAnchor:k,verticalAnchor:x},P):a==="insideTopRight"?ln({x:u+f-b,y:c+y,textAnchor:C,verticalAnchor:x},P):a==="insideBottomLeft"?ln({x:u+b,y:c+d-y,textAnchor:k,verticalAnchor:_},P):a==="insideBottomRight"?ln({x:u+f-b,y:c+d-y,textAnchor:C,verticalAnchor:_},P):lc(a)&&(ge(a.x)||Ms(a.x))&&(ge(a.y)||Ms(a.y))?ln({x:u+nr(a.x,f),y:c+nr(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):ln({x:u+f/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},eK=function(e){return"cx"in e&&ge(e.cx)};function bn(t){var e=t.offset,n=e===void 0?5:e,r=zG(t,$G),i=ln({offset:n},r),a=i.viewBox,o=i.position,u=i.value,c=i.children,f=i.content,d=i.className,p=d===void 0?"":d,y=i.textBreakAll;if(!a||Je(u)&&Je(c)&&!z.isValidElement(f)&&!Be(f))return null;if(z.isValidElement(f))return z.cloneElement(f,i);var _;if(Be(f)){if(_=z.createElement(f,i),z.isValidElement(_))return _}else _=XG(i);var x=eK(a),E=Ue(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return YG(i,_,E);var b=x?JG(i):ZG(i);return v.createElement(Ws,dh({className:Ye("recharts-label",p)},E,b,{breakAll:y}),_)}bn.displayName="Label";var Z$=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,u=e.r,c=e.radius,f=e.innerRadius,d=e.outerRadius,p=e.x,y=e.y,_=e.top,x=e.left,E=e.width,b=e.height,C=e.clockWise,k=e.labelViewBox;if(k)return k;if(ge(E)&&ge(b)){if(ge(p)&&ge(y))return{x:p,y,width:E,height:b};if(ge(_)&&ge(x))return{x:_,y:x,width:E,height:b}}return ge(p)&&ge(y)?{x:p,y,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:d||c||u||0,clockWise:C}:e.viewBox?e.viewBox:{}},tK=function(e,n){return e?e===!0?v.createElement(bn,{key:"label-implicit",viewBox:n}):un(e)?v.createElement(bn,{key:"label-implicit",viewBox:n,value:e}):z.isValidElement(e)?e.type===bn?z.cloneElement(e,{key:"label-implicit",viewBox:n}):v.createElement(bn,{key:"label-implicit",content:e,viewBox:n}):Be(e)?v.createElement(bn,{key:"label-implicit",content:e,viewBox:n}):lc(e)?v.createElement(bn,dh({viewBox:n},e,{key:"label-implicit"})):null:null},nK=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=Z$(e),o=Zr(i,bn).map(function(c,f){return z.cloneElement(c,{viewBox:n||a,key:"label-".concat(f)})});if(!r)return o;var u=tK(e.label,n||a);return[u].concat(VG(o))};bn.parseViewBox=Z$;bn.renderCallByParent=nK;var Jw,I2;function rK(){if(I2)return Jw;I2=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Jw=t,Jw}var iK=rK();const aK=ht(iK);function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}var oK=["valueAccessor"],sK=["data","dataKey","clockWise","id","textBreakAll"];function lK(t){return hK(t)||fK(t)||cK(t)||uK()}function uK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cK(t,e){if(t){if(typeof t=="string")return P1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P1(t,e)}}function fK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hK(t){if(Array.isArray(t))return P1(t)}function P1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Um(){return Um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Um.apply(this,arguments)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){dK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dK(t,e,n){return e=pK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pK(t){var e=mK(t,"string");return ph(e)=="symbol"?e:e+""}function mK(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function C2(t,e){if(t==null)return{};var n=gK(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yK=function(e){return Array.isArray(e.value)?aK(e.value):e.value};function No(t){var e=t.valueAccessor,n=e===void 0?yK:e,r=C2(t,oK),i=r.data,a=r.dataKey,o=r.clockWise,u=r.id,c=r.textBreakAll,f=C2(r,sK);return!i||!i.length?null:v.createElement(mt,{className:"recharts-label-list"},i.map(function(d,p){var y=Je(a)?n(d,p):zn(d&&d.payload,a),_=Je(u)?{}:{id:"".concat(u,"-").concat(p)};return v.createElement(bn,Um({},Ue(d,!0),f,_,{parentViewBox:d.parentViewBox,value:y,textBreakAll:c,viewBox:bn.parseViewBox(Je(o)?d:k2(k2({},d),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}No.displayName="LabelList";function vK(t,e){return t?t===!0?v.createElement(No,{key:"labelList-implicit",data:e}):v.isValidElement(t)||Be(t)?v.createElement(No,{key:"labelList-implicit",data:e,content:t}):lc(t)?v.createElement(No,Um({data:e},t,{key:"labelList-implicit"})):null:null}function _K(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zr(r,No).map(function(o,u){return z.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!n)return i;var a=vK(t.label,e);return[a].concat(lK(i))}No.renderCallByParent=_K;function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function I1(){return I1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I1.apply(this,arguments)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){bK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bK(t,e,n){return e=wK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wK(t){var e=EK(t,"string");return mh(e)=="symbol"?e:e+""}function EK(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xK=function(e,n){var r=tr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Fp=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,u=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,d=c*(u?1:-1)+i,p=Math.asin(c/d)/Fm,y=f?a:a+o*p,_=It(n,r,d,y),x=It(n,r,i,y),E=f?a-o*p:a,b=It(n,r,d*Math.cos(p*Fm),E);return{center:_,circleTangency:x,lineTangency:b,theta:p}},e4=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,u=e.endAngle,c=xK(o,u),f=o+c,d=It(n,r,a,o),p=It(n,r,a,f),y="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var _=It(n,r,i,o),x=It(n,r,i,f);y+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},TK=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,d=e.endAngle,p=tr(d-f),y=Fp({cx:n,cy:r,radius:a,angle:f,sign:p,cornerRadius:o,cornerIsExternal:c}),_=y.circleTangency,x=y.lineTangency,E=y.theta,b=Fp({cx:n,cy:r,radius:a,angle:d,sign:-p,cornerRadius:o,cornerIsExternal:c}),C=b.circleTangency,k=b.lineTangency,A=b.theta,L=c?Math.abs(f-d):Math.abs(f-d)-E-A;if(L<0)return u?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):e4({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:d});var I="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(k.x,",").concat(k.y,`
  `);if(i>0){var N=Fp({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=N.circleTangency,O=N.lineTangency,M=N.theta,F=Fp({cx:n,cy:r,radius:i,angle:d,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=F.circleTangency,V=F.lineTangency,j=F.theta,K=c?Math.abs(f-d):Math.abs(f-d)-M-j;if(K<0&&o===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat(V.x,",").concat(V.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(p>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},SK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},t4=function(e){var n=N2(N2({},SK),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,u=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,d=n.startAngle,p=n.endAngle,y=n.className;if(o<a||d===p)return null;var _=Ye("recharts-sector",y),x=o-a,E=nr(u,x,0,!0),b;return E>0&&Math.abs(d-p)<360?b=TK({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(E,x/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:d,endAngle:p}):b=e4({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:p}),v.createElement("path",I1({},Ue(n,!0),{className:_,d:b,role:"img"}))};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function O1(){return O1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1.apply(this,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){AK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AK(t,e,n){return e=PK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PK(t){var e=IK(t,"string");return gh(e)=="symbol"?e:e+""}function IK(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L2={curveBasisClosed:KB,curveBasisOpen:XB,curveBasis:GB,curveBumpX:NB,curveBumpY:MB,curveLinearClosed:QB,curveLinear:Bg,curveMonotoneX:YB,curveMonotoneY:JB,curveNatural:ZB,curveStep:e5,curveStepAfter:n5,curveStepBefore:t5},Up=function(e){return e.x===+e.x&&e.y===+e.y},_f=function(e){return e.x},bf=function(e){return e.y},OK=function(e,n){if(Be(e))return e;var r="curve".concat(Ug(e));return(r==="curveMonotone"||r==="curveBump")&&n?L2["".concat(r).concat(n==="vertical"?"Y":"X")]:L2[r]||Bg},kK=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,u=e.layout,c=e.connectNulls,f=c===void 0?!1:c,d=OK(r,u),p=f?a.filter(function(E){return Up(E)}):a,y;if(Array.isArray(o)){var _=f?o.filter(function(E){return Up(E)}):o,x=p.map(function(E,b){return D2(D2({},E),{},{base:_[b]})});return u==="vertical"?y=Rp().y(bf).x1(_f).x0(function(E){return E.base.x}):y=Rp().x(_f).y1(bf).y0(function(E){return E.base.y}),y.defined(Up).curve(d),y(x)}return u==="vertical"&&ge(o)?y=Rp().y(bf).x1(_f).x0(o):ge(o)?y=Rp().x(_f).y1(bf).y0(o):y=ZL().x(_f).y(bf),y.defined(Up).curve(d),y(p)},k1=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?kK(e):i;return v.createElement("path",O1({},Ue(e,!1),mm(e),{className:Ye("recharts-curve",n),d:o,ref:a}))},Zw={exports:{}},eE,j2;function CK(){if(j2)return eE;j2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eE=t,eE}var tE,$2;function RK(){if($2)return tE;$2=1;var t=CK();function e(){}function n(){}return n.resetWarningCache=e,tE=function(){function r(o,u,c,f,d,p){if(p!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},tE}var V2;function NK(){return V2||(V2=1,Zw.exports=RK()()),Zw.exports}var MK=NK();const ct=ht(MK);var DK=Object.getOwnPropertyNames,LK=Object.getOwnPropertySymbols,jK=Object.prototype.hasOwnProperty;function F2(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function qp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),u=a.get(r);if(o&&u)return o===r&&u===n;a.set(n,r),a.set(r,n);var c=t(n,r,i);return a.delete(n),a.delete(r),c}}function U2(t){return DK(t).concat(LK(t))}var $K=Object.hasOwn||function(t,e){return jK.call(t,e)};function sl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var VK="__v",FK="__o",UK="_owner",q2=Object.getOwnPropertyDescriptor,B2=Object.keys;function qK(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function BK(t,e){return sl(t.getTime(),e.getTime())}function zK(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function HK(t,e){return t===e}function z2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,u,c=0;(o=a.next())&&!o.done;){for(var f=e.entries(),d=!1,p=0;(u=f.next())&&!u.done;){if(i[p]){p++;continue}var y=o.value,_=u.value;if(n.equals(y[0],_[0],c,p,t,e,n)&&n.equals(y[1],_[1],y[0],_[0],t,e,n)){d=i[p]=!0;break}p++}if(!d)return!1;c++}return!0}var WK=sl;function GK(t,e,n){var r=B2(t),i=r.length;if(B2(e).length!==i)return!1;for(;i-- >0;)if(!n4(t,e,n,r[i]))return!1;return!0}function wf(t,e,n){var r=U2(t),i=r.length;if(U2(e).length!==i)return!1;for(var a,o,u;i-- >0;)if(a=r[i],!n4(t,e,n,a)||(o=q2(t,a),u=q2(e,a),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function KK(t,e){return sl(t.valueOf(),e.valueOf())}function XK(t,e){return t.source===e.source&&t.flags===e.flags}function H2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,u;(o=a.next())&&!o.done;){for(var c=e.values(),f=!1,d=0;(u=c.next())&&!u.done;){if(!i[d]&&n.equals(o.value,u.value,o.value,u.value,t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function QK(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function YK(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function n4(t,e,n,r){return(r===UK||r===FK||r===VK)&&(t.$$typeof||e.$$typeof)?!0:$K(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var JK="[object Arguments]",ZK="[object Boolean]",eX="[object Date]",tX="[object Error]",nX="[object Map]",rX="[object Number]",iX="[object Object]",aX="[object RegExp]",oX="[object Set]",sX="[object String]",lX="[object URL]",uX=Array.isArray,W2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,G2=Object.assign,cX=Object.prototype.toString.call.bind(Object.prototype.toString);function fX(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,d=t.areSetsEqual,p=t.areTypedArraysEqual,y=t.areUrlsEqual;return function(x,E,b){if(x===E)return!0;if(x==null||E==null)return!1;var C=typeof x;if(C!==typeof E)return!1;if(C!=="object")return C==="number"?o(x,E,b):C==="function"?i(x,E,b):!1;var k=x.constructor;if(k!==E.constructor)return!1;if(k===Object)return u(x,E,b);if(uX(x))return e(x,E,b);if(W2!=null&&W2(x))return p(x,E,b);if(k===Date)return n(x,E,b);if(k===RegExp)return f(x,E,b);if(k===Map)return a(x,E,b);if(k===Set)return d(x,E,b);var A=cX(x);return A===eX?n(x,E,b):A===aX?f(x,E,b):A===nX?a(x,E,b):A===oX?d(x,E,b):A===iX?typeof x.then!="function"&&typeof E.then!="function"&&u(x,E,b):A===lX?y(x,E,b):A===tX?r(x,E,b):A===JK?u(x,E,b):A===ZK||A===rX||A===sX?c(x,E,b):!1}}function hX(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?wf:qK,areDatesEqual:BK,areErrorsEqual:zK,areFunctionsEqual:HK,areMapsEqual:r?F2(z2,wf):z2,areNumbersEqual:WK,areObjectsEqual:r?wf:GK,arePrimitiveWrappersEqual:KK,areRegExpsEqual:XK,areSetsEqual:r?F2(H2,wf):H2,areTypedArraysEqual:r?wf:QK,areUrlsEqual:YK};if(n&&(i=G2({},i,n(i))),e){var a=qp(i.areArraysEqual),o=qp(i.areMapsEqual),u=qp(i.areObjectsEqual),c=qp(i.areSetsEqual);i=G2({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:c})}return i}function dX(t){return function(e,n,r,i,a,o,u){return t(e,n,u)}}function pX(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(c,f){var d=r(),p=d.cache,y=p===void 0?e?new WeakMap:void 0:p,_=d.meta;return n(c,f,{cache:y,equals:i,meta:_,strict:a})};if(e)return function(c,f){return n(c,f,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,f){return n(c,f,o)}}var mX=Ko();Ko({strict:!0});Ko({circular:!0});Ko({circular:!0,strict:!0});Ko({createInternalComparator:function(){return sl}});Ko({strict:!0,createInternalComparator:function(){return sl}});Ko({circular:!0,createInternalComparator:function(){return sl}});Ko({circular:!0,createInternalComparator:function(){return sl},strict:!0});function Ko(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,u=hX(t),c=fX(u),f=r?r(c):dX(c);return pX({circular:n,comparator:c,createState:i,equals:f,strict:o})}function gX(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function K2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):gX(i)};requestAnimationFrame(r)}function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}function yX(t){return wX(t)||bX(t)||_X(t)||vX()}function vX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _X(t,e){if(t){if(typeof t=="string")return X2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X2(t,e)}}function X2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wX(t){if(Array.isArray(t))return t}function EX(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,u=yX(o),c=u[0],f=u.slice(1);if(typeof c=="number"){K2(i.bind(null,f),c);return}i(c),K2(i.bind(null,f));return}C1(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4(t,e,n){return e=xX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xX(t){var e=TX(t,"string");return yh(e)==="symbol"?e:String(e)}function TX(t,e){if(yh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SX=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},AX=function(e){return e},PX=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$f=function(e,n){return Object.keys(n).reduce(function(r,i){return Y2(Y2({},r),{},r4({},i,e(i,n[i])))},{})},J2=function(e,n,r){return e.map(function(i){return"".concat(PX(i)," ").concat(n,"ms ").concat(r)}).join(",")};function IX(t,e){return CX(t)||kX(t,e)||i4(t,e)||OX()}function OX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function CX(t){if(Array.isArray(t))return t}function RX(t){return DX(t)||MX(t)||i4(t)||NX()}function NX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4(t,e){if(t){if(typeof t=="string")return R1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R1(t,e)}}function MX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DX(t){if(Array.isArray(t))return R1(t)}function R1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qm=1e-4,a4=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},o4=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Z2=function(e,n){return function(r){var i=a4(e,n);return o4(i,r)}},LX=function(e,n){return function(r){var i=a4(e,n),a=[].concat(RX(i.map(function(o,u){return o*u}).slice(1)),[0]);return o4(a,r)}},eN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,u=1;break;case"ease":i=.25,a=.1,o=.25,u=1;break;case"ease-in":i=.42,a=0,o=1,u=1;break;case"ease-out":i=.42,a=0,o=.58,u=1;break;case"ease-in-out":i=0,a=0,o=.58,u=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=IX(f,4);i=d[0],a=d[1],o=d[2],u=d[3]}}}var p=Z2(i,o),y=Z2(a,u),_=LX(i,o),x=function(C){return C>1?1:C<0?0:C},E=function(C){for(var k=C>1?1:C,A=k,L=0;L<8;++L){var I=p(A)-k,N=_(A);if(Math.abs(I-k)<qm||N<qm)return y(A);A=x(A-I/N)}return y(A)};return E.isStepper=!1,E},jX=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,c=function(d,p,y){var _=-(d-p)*r,x=y*a,E=y+(_-x)*u/1e3,b=y*u/1e3+d;return Math.abs(b-p)<qm&&Math.abs(E)<qm?[p,0]:[b,E]};return c.isStepper=!0,c.dt=u,c},$X=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eN(i);case"spring":return jX();default:if(i.split("(")[0]==="cubic-bezier")return eN(i)}return typeof i=="function"?i:null};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function tN(t){return UX(t)||FX(t)||s4(t)||VX()}function VX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UX(t){if(Array.isArray(t))return M1(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){N1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N1(t,e,n){return e=qX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qX(t){var e=BX(t,"string");return vh(e)==="symbol"?e:String(e)}function BX(t,e){if(vh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zX(t,e){return GX(t)||WX(t,e)||s4(t,e)||HX()}function HX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4(t,e){if(t){if(typeof t=="string")return M1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M1(t,e)}}function M1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function GX(t){if(Array.isArray(t))return t}var Bm=function(e,n,r){return e+(n-e)*r},D1=function(e){var n=e.from,r=e.to;return n!==r},KX=function t(e,n,r){var i=$f(function(a,o){if(D1(o)){var u=e(o.from,o.to,o.velocity),c=zX(u,2),f=c[0],d=c[1];return On(On({},o),{},{from:f,velocity:d})}return o},n);return r<1?$f(function(a,o){return D1(o)?On(On({},o),{},{velocity:Bm(o.velocity,i[a].velocity,r),from:Bm(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const XX=function(t,e,n,r,i){var a=SX(t,e),o=a.reduce(function(b,C){return On(On({},b),{},N1({},C,[t[C],e[C]]))},{}),u=a.reduce(function(b,C){return On(On({},b),{},N1({},C,{from:t[C],velocity:0,to:e[C]}))},{}),c=-1,f,d,p=function(){return null},y=function(){return $f(function(C,k){return k.from},u)},_=function(){return!Object.values(u).filter(D1).length},x=function(C){f||(f=C);var k=C-f,A=k/n.dt;u=KX(n,u,A),i(On(On(On({},t),e),y())),f=C,_()||(c=requestAnimationFrame(p))},E=function(C){d||(d=C);var k=(C-d)/r,A=$f(function(I,N){return Bm.apply(void 0,tN(N).concat([n(k)]))},o);if(i(On(On(On({},t),e),A)),k<1)c=requestAnimationFrame(p);else{var L=$f(function(I,N){return Bm.apply(void 0,tN(N).concat([n(1)]))},o);i(On(On(On({},t),e),L))}};return p=n.isStepper?x:E,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function Lu(t){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lu(t)}var QX=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function YX(t,e){if(t==null)return{};var n=JX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nE(t){return nQ(t)||tQ(t)||eQ(t)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(t,e){if(t){if(typeof t=="string")return L1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L1(t,e)}}function tQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nQ(t){if(Array.isArray(t))return L1(t)}function L1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rN(Object(n),!0).forEach(function(r){Af(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Af(t,e,n){return e=l4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l4(r.key),r)}}function aQ(t,e,n){return e&&iQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l4(t){var e=oQ(t,"string");return Lu(e)==="symbol"?e:String(e)}function oQ(t,e){if(Lu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j1(t,e)}function j1(t,e){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j1(t,e)}function lQ(t){var e=uQ();return function(){var r=zm(t),i;if(e){var a=zm(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return $1(this,i)}}function $1(t,e){if(e&&(Lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V1(t)}function V1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uQ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}var La=function(t){sQ(n,t);var e=lQ(n);function n(r,i){var a;rQ(this,n),a=e.call(this,r,i);var o=a.props,u=o.isActive,c=o.attributeName,f=o.from,d=o.to,p=o.steps,y=o.children,_=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(V1(a)),a.changeStyle=a.changeStyle.bind(V1(a)),!u||_<=0)return a.state={style:{}},typeof y=="function"&&(a.state={style:d}),$1(a);if(p&&p.length)a.state={style:p[0].style};else if(f){if(typeof y=="function")return a.state={style:f},$1(a);a.state={style:c?Af({},c,f):f}}else a.state={style:{}};return a}return aQ(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,u=a.canBegin,c=a.attributeName,f=a.shouldReAnimate,d=a.to,p=a.from,y=this.state.style;if(u){if(!o){var _={style:c?Af({},c,d):d};this.state&&y&&(c&&y[c]!==d||!c&&y!==d)&&this.setState(_);return}if(!(mX(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=x||f?p:i.to;if(this.state&&y){var b={style:c?Af({},c,E):E};(c&&y[c]!==E||!c&&y!==E)&&this.setState(b)}this.runAnimation(bi(bi({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,u=i.to,c=i.duration,f=i.easing,d=i.begin,p=i.onAnimationEnd,y=i.onAnimationStart,_=XX(o,u,$X(f),c,this.changeStyle),x=function(){a.stopJSAnimation=_()};this.manager.start([y,d,x,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,u=i.begin,c=i.onAnimationStart,f=o[0],d=f.style,p=f.duration,y=p===void 0?0:p,_=function(E,b,C){if(C===0)return E;var k=b.duration,A=b.easing,L=A===void 0?"ease":A,I=b.style,N=b.properties,P=b.onAnimationEnd,O=C>0?o[C-1]:b,M=N||Object.keys(I);if(typeof L=="function"||L==="spring")return[].concat(nE(E),[a.runJSAnimation.bind(a,{from:O.style,to:I,duration:k,easing:L}),k]);var F=J2(M,k,L),D=bi(bi(bi({},O.style),I),{},{transition:F});return[].concat(nE(E),[D,k,P]).filter(AX)};return this.manager.start([c].concat(nE(o.reduce(_,[d,Math.max(y,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=EX());var a=i.begin,o=i.duration,u=i.attributeName,c=i.to,f=i.easing,d=i.onAnimationStart,p=i.onAnimationEnd,y=i.steps,_=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var E=u?Af({},u,c):c,b=J2(Object.keys(E),o,f);x.start([d,a,bi(bi({},E),{},{transition:b}),o,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=YX(i,QX),f=z.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!u||f===0||o<=0)return a;var p=function(_){var x=_.props,E=x.style,b=E===void 0?{}:E,C=x.className,k=z.cloneElement(_,bi(bi({},c),{},{style:bi(bi({},b),d),className:C}));return k};return f===1?p(z.Children.only(a)):v.createElement("div",null,z.Children.map(a,function(y){return p(y)}))}}]),n}(z.PureComponent);La.displayName="Animate";La.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};La.propTypes={from:ct.oneOfType([ct.object,ct.string]),to:ct.oneOfType([ct.object,ct.string]),attributeName:ct.string,duration:ct.number,begin:ct.number,easing:ct.oneOfType([ct.string,ct.func]),steps:ct.arrayOf(ct.shape({duration:ct.number.isRequired,style:ct.object.isRequired,easing:ct.oneOfType([ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ct.func]),properties:ct.arrayOf("string"),onAnimationEnd:ct.func})),children:ct.oneOfType([ct.node,ct.func]),isActive:ct.bool,canBegin:ct.bool,onAnimationEnd:ct.func,shouldReAnimate:ct.bool,onAnimationStart:ct.func,onAnimationReStart:ct.func};function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hm.apply(this,arguments)}function cQ(t,e){return pQ(t)||dQ(t,e)||hQ(t,e)||fQ()}function fQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hQ(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function pQ(t){if(Array.isArray(t))return t}function aN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aN(Object(n),!0).forEach(function(r){mQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e,n){return e=gQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gQ(t){var e=yQ(t,"string");return _h(e)=="symbol"?e:e+""}function yQ(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sN=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),u=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var p=[0,0,0,0],y=0,_=4;y<_;y++)p[y]=a[y]>o?o:a[y];d="M".concat(e,",").concat(n+u*p[0]),p[0]>0&&(d+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),d+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(d+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+u*p[1])),d+="L ".concat(e+r,",").concat(n+i-u*p[2]),p[2]>0&&(d+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),d+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(d+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-u*p[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);d="M ".concat(e,",").concat(n+u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+c*x,",").concat(n,`
            L `).concat(e+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r,",").concat(n+u*x,`
            L `).concat(e+r,",").concat(n+i-u*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e+r-c*x,",").concat(n+i,`
            L `).concat(e+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(f,",").concat(e,",").concat(n+i-u*x," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},vQ=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,u=n.width,c=n.height;if(Math.abs(u)>0&&Math.abs(c)>0){var f=Math.min(a,a+u),d=Math.max(a,a+u),p=Math.min(o,o+c),y=Math.max(o,o+c);return r>=f&&r<=d&&i>=p&&i<=y}return!1},_Q={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GT=function(e){var n=oN(oN({},_Q),e),r=z.useRef(),i=z.useState(-1),a=cQ(i,2),o=a[0],u=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&u(L)}catch{}},[]);var c=n.x,f=n.y,d=n.width,p=n.height,y=n.radius,_=n.className,x=n.animationEasing,E=n.animationDuration,b=n.animationBegin,C=n.isAnimationActive,k=n.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||d===0||p===0)return null;var A=Ye("recharts-rectangle",_);return k?v.createElement(La,{canBegin:o>0,from:{width:d,height:p,x:c,y:f},to:{width:d,height:p,x:c,y:f},duration:E,animationEasing:x,isActive:k},function(L){var I=L.width,N=L.height,P=L.x,O=L.y;return v.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:E,isActive:C,easing:x},v.createElement("path",Hm({},Ue(n,!0),{className:A,d:sN(P,O,I,N,y),ref:r})))}):v.createElement("path",Hm({},Ue(n,!0),{className:A,d:sN(c,f,d,p,y)}))},bQ=["points","className","baseLinePoints","connectNulls"];function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(this,arguments)}function wQ(t,e){if(t==null)return{};var n=EQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lN(t){return AQ(t)||SQ(t)||TQ(t)||xQ()}function xQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TQ(t,e){if(t){if(typeof t=="string")return F1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F1(t,e)}}function SQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AQ(t){if(Array.isArray(t))return F1(t)}function F1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uN=function(e){return e&&e.x===+e.x&&e.y===+e.y},PQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){uN(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),uN(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Vf=function(e,n){var r=PQ(e);n&&(r=[r.reduce(function(a,o){return[].concat(lN(a),lN(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,u,c){return"".concat(o).concat(c===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},IQ=function(e,n,r){var i=Vf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Vf(n.reverse(),r).slice(1))},OQ=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,a=e.connectNulls,o=wQ(e,bQ);if(!n||!n.length)return null;var u=Ye("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",f=IQ(n,i,a);return v.createElement("g",{className:u},v.createElement("path",du({},Ue(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),c?v.createElement("path",du({},Ue(o,!0),{fill:"none",d:Vf(n,a)})):null,c?v.createElement("path",du({},Ue(o,!0),{fill:"none",d:Vf(i,a)})):null)}var d=Vf(n,a);return v.createElement("path",du({},Ue(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:u,d}))};function U1(){return U1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U1.apply(this,arguments)}var KT=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=Ye("recharts-dot",a);return n===+n&&r===+r&&i===+i?v.createElement("circle",U1({},Ue(e,!1),mm(e),{className:o,cx:n,cy:r,r:i})):null};function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}var kQ=["x","y","top","left","width","height","className"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function cN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cN(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=MQ(t,"string");return bh(e)=="symbol"?e:e+""}function MQ(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DQ(t,e){if(t==null)return{};var n=LQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jQ=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},$Q=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,u=o===void 0?0:o,c=e.left,f=c===void 0?0:c,d=e.width,p=d===void 0?0:d,y=e.height,_=y===void 0?0:y,x=e.className,E=DQ(e,kQ),b=CQ({x:r,y:a,top:u,left:f,width:p,height:_},E);return!ge(r)||!ge(a)||!ge(p)||!ge(_)||!ge(u)||!ge(f)?null:v.createElement("path",q1({},Ue(b,!0),{className:Ye("recharts-cross",x),d:jQ(r,a,p,_,u,f)}))},rE,fN;function VQ(){if(fN)return rE;fN=1;var t=ey(),e=x$(),n=ra();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return rE=r,rE}var FQ=VQ();const UQ=ht(FQ);var iE,hN;function qQ(){if(hN)return iE;hN=1;var t=ey(),e=ra(),n=T$();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return iE=r,iE}var BQ=qQ();const zQ=ht(BQ);var HQ=["cx","cy","angle","ticks","axisLine"],WQ=["ticks","tick","angle","tickFormatter","stroke"];function ju(t){"@babel/helpers - typeof";return ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ff.apply(this,arguments)}function dN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dN(Object(n),!0).forEach(function(r){sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pN(t,e){if(t==null)return{};var n=GQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function XQ(t,e,n){return e&&mN(t.prototype,e),n&&mN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QQ(t,e,n){return e=Wm(e),YQ(t,u4()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function YQ(t,e){if(e&&(ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JQ(t)}function JQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function ZQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B1(t,e)}function B1(t,e){return B1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B1(t,e)}function sy(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=eY(t,"string");return ju(e)=="symbol"?e:e+""}function eY(t,e){if(ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ly=function(t){function e(){return KQ(this,e),QQ(this,e,arguments)}return ZQ(e,t),XQ(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,u=a.cx,c=a.cy;return It(u,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,u=r.ticks,c=UQ(u,function(d){return d.coordinate||0}),f=zQ(u,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,u=r.ticks,c=r.axisLine,f=pN(r,HQ),d=u.reduce(function(x,E){return[Math.min(x[0],E.coordinate),Math.max(x[1],E.coordinate)]},[1/0,-1/0]),p=It(i,a,d[0],o),y=It(i,a,d[1],o),_=Ps(Ps(Ps({},Ue(f,!1)),{},{fill:"none"},Ue(c,!1)),{},{x1:p.x,y1:p.y,x2:y.x,y2:y.y});return v.createElement("line",Ff({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,u=i.angle,c=i.tickFormatter,f=i.stroke,d=pN(i,WQ),p=this.getTickTextAnchor(),y=Ue(d,!1),_=Ue(o,!1),x=a.map(function(E,b){var C=r.getTickValueCoord(E),k=Ps(Ps(Ps(Ps({textAnchor:p,transform:"rotate(".concat(90-u,", ").concat(C.x,", ").concat(C.y,")")},y),{},{stroke:"none",fill:f},_),{},{index:b},C),{},{payload:E});return v.createElement(mt,Ff({className:Ye("recharts-polar-radius-axis-tick",J$(o)),key:"tick-".concat(E.coordinate)},Hs(r.props,E,b)),e.renderTickItem(o,k,c?c(E.value,b):E.value))});return v.createElement(mt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:v.createElement(mt,{className:Ye("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),bn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return v.isValidElement(r)?o=v.cloneElement(r,i):Be(r)?o=r(i):o=v.createElement(Ws,Ff({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(z.PureComponent);sy(ly,"displayName","PolarRadiusAxis");sy(ly,"axisType","radiusAxis");sy(ly,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function $u(t){"@babel/helpers - typeof";return $u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$u(t)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h4(r.key),r)}}function nY(t,e,n){return e&&yN(t.prototype,e),n&&yN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rY(t,e,n){return e=Gm(e),iY(t,f4()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function iY(t,e){if(e&&($u(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aY(t)}function aY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f4=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function oY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z1(t,e)}function z1(t,e){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z1(t,e)}function uy(t,e,n){return e=h4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h4(t){var e=sY(t,"string");return $u(e)=="symbol"?e:e+""}function sY(t,e){if($u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lY=Math.PI/180,vN=1e-5,cy=function(t){function e(){return tY(this,e),rY(this,e,arguments)}return oY(e,t),nY(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,u=i.radius,c=i.orientation,f=i.tickSize,d=f||8,p=It(a,o,u,r.coordinate),y=It(a,o,u+(c==="inner"?-1:1)*d,r.coordinate);return{x1:p.x,y1:p.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*lY),o;return a>vN?o=i==="outer"?"start":"end":a<-vN?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,u=r.axisLine,c=r.axisLineType,f=Is(Is({},Ue(this.props,!1)),{},{fill:"none"},Ue(u,!1));if(c==="circle")return v.createElement(KT,Rs({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:a,r:o}));var d=this.props.ticks,p=d.map(function(y){return It(i,a,o,y.coordinate)});return v.createElement(OQ,Rs({className:"recharts-polar-angle-axis-line"},f,{points:p}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,u=i.tickLine,c=i.tickFormatter,f=i.stroke,d=Ue(this.props,!1),p=Ue(o,!1),y=Is(Is({},d),{},{fill:"none"},Ue(u,!1)),_=a.map(function(x,E){var b=r.getTickLineCoord(x),C=r.getTickTextAnchor(x),k=Is(Is(Is({textAnchor:C},d),{},{stroke:"none",fill:f},p),{},{index:E,payload:x,x:b.x2,y:b.y2});return v.createElement(mt,Rs({className:Ye("recharts-polar-angle-axis-tick",J$(o)),key:"tick-".concat(x.coordinate)},Hs(r.props,x,E)),u&&v.createElement("line",Rs({className:"recharts-polar-angle-axis-tick-line"},y,b)),o&&e.renderTickItem(o,k,c?c(x.value,E):x.value))});return v.createElement(mt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:v.createElement(mt,{className:Ye("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return v.isValidElement(r)?o=v.cloneElement(r,i):Be(r)?o=r(i):o=v.createElement(Ws,Rs({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(z.PureComponent);uy(cy,"displayName","PolarAngleAxis");uy(cy,"axisType","angleAxis");uy(cy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var aE,_N;function uY(){if(_N)return aE;_N=1;var t=Ej(),e=t(Object.getPrototypeOf,Object);return aE=e,aE}var oE,bN;function cY(){if(bN)return oE;bN=1;var t=Ba(),e=uY(),n=za(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,u=a.hasOwnProperty,c=o.call(Object);function f(d){if(!n(d)||t(d)!=r)return!1;var p=e(d);if(p===null)return!0;var y=u.call(p,"constructor")&&p.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==c}return oE=f,oE}var fY=cY();const hY=ht(fY);var sE,wN;function dY(){if(wN)return sE;wN=1;var t=Ba(),e=za(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return sE=r,sE}var pY=dY();const mY=ht(pY);function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Km.apply(this,arguments)}function gY(t,e){return bY(t)||_Y(t,e)||vY(t,e)||yY()}function yY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vY(t,e){if(t){if(typeof t=="string")return EN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EN(t,e)}}function EN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Y(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function bY(t){if(Array.isArray(t))return t}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){wY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wY(t,e,n){return e=EY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EY(t){var e=xY(t,"string");return wh(e)=="symbol"?e:e+""}function xY(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SN=function(e,n,r,i,a){var o=r-i,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-o/2,",").concat(n+a),u+="L ".concat(e+r-o/2-i,",").concat(n+a),u+="L ".concat(e,",").concat(n," Z"),u},TY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SY=function(e){var n=TN(TN({},TY),e),r=z.useRef(),i=z.useState(-1),a=gY(i,2),o=a[0],u=a[1];z.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&u(A)}catch{}},[]);var c=n.x,f=n.y,d=n.upperWidth,p=n.lowerWidth,y=n.height,_=n.className,x=n.animationEasing,E=n.animationDuration,b=n.animationBegin,C=n.isUpdateAnimationActive;if(c!==+c||f!==+f||d!==+d||p!==+p||y!==+y||d===0&&p===0||y===0)return null;var k=Ye("recharts-trapezoid",_);return C?v.createElement(La,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:c,y:f},to:{upperWidth:d,lowerWidth:p,height:y,x:c,y:f},duration:E,animationEasing:x,isActive:C},function(A){var L=A.upperWidth,I=A.lowerWidth,N=A.height,P=A.x,O=A.y;return v.createElement(La,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:E,easing:x},v.createElement("path",Km({},Ue(n,!0),{className:k,d:SN(P,O,L,I,N),ref:r})))}):v.createElement("g",null,v.createElement("path",Km({},Ue(n,!0),{className:k,d:SN(c,f,d,p,y)})))},AY=["option","shapeType","propTransformer","activeClassName","isActive"];function Eh(t){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eh(t)}function PY(t,e){if(t==null)return{};var n=IY(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AN(Object(n),!0).forEach(function(r){OY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e,n){return e=kY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kY(t){var e=CY(t,"string");return Eh(e)=="symbol"?e:e+""}function CY(t,e){if(Eh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RY(t,e){return Xm(Xm({},e),t)}function NY(t,e){return t==="symbols"}function PN(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return v.createElement(GT,n);case"trapezoid":return v.createElement(SY,n);case"sector":return v.createElement(t4,n);case"symbols":if(NY(e))return v.createElement(hT,n);break;default:return null}}function MY(t){return z.isValidElement(t)?t.props:t}function d4(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?RY:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,u=t.isActive,c=PY(t,AY),f;if(z.isValidElement(e))f=z.cloneElement(e,Xm(Xm({},c),MY(e)));else if(Be(e))f=e(c);else if(hY(e)&&!mY(e)){var d=i(e,c);f=v.createElement(PN,{shapeType:n,elementProps:d})}else{var p=c;f=v.createElement(PN,{shapeType:n,elementProps:p})}return u?v.createElement(mt,{className:o},f):f}function fy(t,e){return e!=null&&"trapezoids"in t.props}function hy(t,e){return e!=null&&"sectors"in t.props}function xh(t,e){return e!=null&&"points"in t.props}function DY(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function LY(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function jY(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $Y(t,e){var n;return fy(t,e)?n=DY:hy(t,e)?n=LY:xh(t,e)&&(n=jY),n}function VY(t,e){var n;return fy(t,e)?n="trapezoids":hy(t,e)?n="sectors":xh(t,e)&&(n="points"),n}function FY(t,e){if(fy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(hy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return xh(t,e)?e.payload:{}}function UY(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=VY(n,e),a=FY(n,e),o=r.filter(function(c,f){var d=ry(a,c),p=n.props[i].filter(function(x){var E=$Y(n,e);return E(x,e)}),y=n.props[i].indexOf(p[p.length-1]),_=f===y;return d&&_}),u=r.indexOf(o[o.length-1]);return u}var em;function Vu(t){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vu(t)}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function IN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IN(Object(n),!0).forEach(function(r){Yr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ON(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m4(r.key),r)}}function BY(t,e,n){return e&&ON(t.prototype,e),n&&ON(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zY(t,e,n){return e=Qm(e),HY(t,p4()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function HY(t,e){if(e&&(Vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WY(t)}function WY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p4=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function GY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H1(t,e)}function H1(t,e){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H1(t,e)}function Yr(t,e,n){return e=m4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m4(t){var e=KY(t,"string");return Vu(e)=="symbol"?e:e+""}function KY(t,e){if(Vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wa=function(t){function e(n){var r;return qY(this,e),r=zY(this,e,[n]),Yr(r,"pieRef",null),Yr(r,"sectorRefs",[]),Yr(r,"id",Wh("recharts-pie-")),Yr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Be(i)&&i()}),Yr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Be(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return GY(e,t),BY(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,u=a.labelLine,c=a.dataKey,f=a.valueKey,d=Ue(this.props,!1),p=Ue(o,!1),y=Ue(u,!1),_=o&&o.offsetRadius||20,x=r.map(function(E,b){var C=(E.startAngle+E.endAngle)/2,k=It(E.cx,E.cy,E.outerRadius+_,C),A=St(St(St(St({},d),E),{},{stroke:"none"},p),{},{index:b,textAnchor:e.getTextAnchor(k.x,E.cx)},k),L=St(St(St(St({},d),E),{},{fill:"none",stroke:E.fill},y),{},{index:b,points:[It(E.cx,E.cy,E.outerRadius,C),k]}),I=c;return Je(c)&&Je(f)?I="value":Je(c)&&(I=f),v.createElement(mt,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(b)},u&&e.renderLabelLineItem(u,L,"line"),e.renderLabelItem(o,A,zn(E,I)))});return v.createElement(mt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,u=a.blendStroke,c=a.inactiveShape;return r.map(function(f,d){if(f?.startAngle===0&&f?.endAngle===0&&r.length!==1)return null;var p=i.isActiveIndex(d),y=c&&i.hasActiveIndex()?c:null,_=p?o:y,x=St(St({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return v.createElement(mt,pu({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Hs(i.props,f,d),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(d)}),v.createElement(d4,pu({option:_,isActive:p,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,u=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state,y=p.prevSectors,_=p.prevIsAnimationActive;return v.createElement(La,{begin:u,duration:c,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var E=x.t,b=[],C=a&&a[0],k=C.startAngle;return a.forEach(function(A,L){var I=y&&y[L],N=L>0?Dr(A,"paddingAngle",0):0;if(I){var P=Eo(I.endAngle-I.startAngle,A.endAngle-A.startAngle),O=St(St({},A),{},{startAngle:k+N,endAngle:k+P(E)+N});b.push(O),k=O.endAngle}else{var M=A.endAngle,F=A.startAngle,D=Eo(0,M-F),V=D(E),j=St(St({},A),{},{startAngle:k+N,endAngle:k+V+N});b.push(j),k=j.endAngle}}),v.createElement(mt,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!ry(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,u=i.className,c=i.label,f=i.cx,d=i.cy,p=i.innerRadius,y=i.outerRadius,_=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!ge(f)||!ge(d)||!ge(p)||!ge(y))return null;var E=Ye("recharts-pie",u);return v.createElement(mt,{tabIndex:this.props.rootTabIndex,className:E,ref:function(C){r.pieRef=C}},this.renderSectors(),c&&this.renderLabels(o),bn.renderCallByParent(this.props,null,!1),(!_||x)&&No.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(v.isValidElement(r))return v.cloneElement(r,i);if(Be(r))return r(i);var o=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return v.createElement(k1,pu({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(v.isValidElement(r))return v.cloneElement(r,i);var o=a;if(Be(r)&&(o=r(i),v.isValidElement(o)))return o;var u=Ye("recharts-pie-label-text",typeof r!="boolean"&&!Be(r)?r.className:"");return v.createElement(Ws,pu({},i,{alignmentBaseline:"middle",className:u}),o)}}])}(z.PureComponent);em=Wa;Yr(Wa,"displayName","Pie");Yr(Wa,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!cc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yr(Wa,"parseDeltaAngle",function(t,e){var n=tr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Yr(Wa,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ue(t,!1),i=Zr(n,Zf);return e&&e.length?e.map(function(a,o){return St(St(St({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return St(St({},r),a.props)}):[]});Yr(Wa,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,a=e.height,o=Y$(i,a),u=r+nr(t.cx,i,i/2),c=n+nr(t.cy,a,a/2),f=nr(t.innerRadius,o,0),d=nr(t.outerRadius,o,o*.8),p=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:u,cy:c,innerRadius:f,outerRadius:d,maxRadius:p}});Yr(Wa,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?St(St({},e.type.defaultProps),e.props):e.props,i=em.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,u=r.endAngle,c=r.paddingAngle,f=r.dataKey,d=r.nameKey,p=r.valueKey,y=r.tooltipType,_=Math.abs(r.minAngle),x=em.parseCoordinateOfPie(r,n),E=em.parseDeltaAngle(o,u),b=Math.abs(E),C=f;Je(f)&&Je(p)?(Ai(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):Je(f)&&(Ai(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=p);var k=i.filter(function(O){return zn(O,C,0)!==0}).length,A=(b>=360?k:k-1)*c,L=b-k*_-A,I=i.reduce(function(O,M){var F=zn(M,C,0);return O+(ge(F)?F:0)},0),N;if(I>0){var P;N=i.map(function(O,M){var F=zn(O,C,0),D=zn(O,d,M),V=(ge(F)?F:0)/I,j;M?j=P.endAngle+tr(E)*c*(F!==0?1:0):j=o;var K=j+tr(E)*((F!==0?_:0)+V*L),J=(j+K)/2,ie=(x.innerRadius+x.outerRadius)/2,re=[{name:D,value:F,payload:O,dataKey:C,type:y}],Q=It(x.cx,x.cy,ie,J);return P=St(St(St({percent:V,cornerRadius:a,name:D,tooltipPayload:re,midAngle:J,middleRadius:ie,tooltipPosition:Q},O),x),{},{value:zn(O,C),startAngle:j,endAngle:K,payload:O,paddingAngle:tr(E)*c}),P})}return St(St({},x),{},{sectors:N,data:i})});var lE,kN;function XY(){if(kN)return lE;kN=1;var t=Math.ceil,e=Math.max;function n(r,i,a,o){for(var u=-1,c=e(t((i-r)/(a||1)),0),f=Array(c);c--;)f[o?c:++u]=r,r+=a;return f}return lE=n,lE}var uE,CN;function g4(){if(CN)return uE;CN=1;var t=$j(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*n}return i===i?i:0}return uE=r,uE}var cE,RN;function QY(){if(RN)return cE;RN=1;var t=XY(),e=Gg(),n=g4();function r(i){return function(a,o,u){return u&&typeof u!="number"&&e(a,o,u)&&(o=u=void 0),a=n(a),o===void 0?(o=a,a=0):o=n(o),u=u===void 0?a<o?1:-1:n(u),t(a,o,u,i)}}return cE=r,cE}var fE,NN;function YY(){if(NN)return fE;NN=1;var t=QY(),e=t();return fE=e,fE}var JY=YY();const Ym=ht(JY);function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){y4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y4(t,e,n){return e=ZY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZY(t){var e=eJ(t,"string");return Th(e)=="symbol"?e:e+""}function eJ(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ=["Webkit","Moz","O","ms"],nJ=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=tJ.reduce(function(a,o){return DN(DN({},a),{},y4({},o+r,n))},{});return i[e]=n,i};function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jm.apply(this,arguments)}function LN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LN(Object(n),!0).forEach(function(r){Or(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_4(r.key),r)}}function iJ(t,e,n){return e&&jN(t.prototype,e),n&&jN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aJ(t,e,n){return e=Zm(e),oJ(t,v4()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function oJ(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sJ(t)}function sJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v4=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function lJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W1(t,e)}function W1(t,e){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W1(t,e)}function Or(t,e,n){return e=_4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _4(t){var e=uJ(t,"string");return Fu(e)=="symbol"?e:e+""}function uJ(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cJ=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=Lf().domain(Ym(0,c)).range([a,a+o-u]),d=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:d}},$N=function(e){return e.changedTouches&&!!e.changedTouches.length},Uu=function(t){function e(n){var r;return rJ(this,e),r=aJ(this,e,[n]),Or(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Or(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Or(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,u=i.startIndex;o?.({endIndex:a,startIndex:u})}),r.detachDragEndListener()}),Or(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Or(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Or(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Or(r,"handleSlideDragStart",function(i){var a=$N(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return lJ(e,t),iJ(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,u=this.props,c=u.gap,f=u.data,d=f.length-1,p=Math.min(i,a),y=Math.max(i,a),_=e.getIndexInRange(o,p),x=e.getIndexInRange(o,y);return{startIndex:_-_%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,u=i.dataKey,c=zn(a[r],u,r);return Be(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,u=i.endX,c=this.props,f=c.x,d=c.width,p=c.travellerWidth,y=c.startIndex,_=c.endIndex,x=c.onChange,E=r.pageX-a;E>0?E=Math.min(E,f+d-p-u,f+d-p-o):E<0&&(E=Math.max(E,f-o,f-u));var b=this.getIndex({startX:o+E,endX:u+E});(b.startIndex!==y||b.endIndex!==_)&&x&&x(b),this.setState({startX:o+E,endX:u+E,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=$N(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,c=i.startX,f=this.state[o],d=this.props,p=d.x,y=d.width,_=d.travellerWidth,x=d.onChange,E=d.gap,b=d.data,C={startX:this.state.startX,endX:this.state.endX},k=r.pageX-a;k>0?k=Math.min(k,p+y-_-f):k<0&&(k=Math.max(k,p-f)),C[o]=f+k;var A=this.getIndex(C),L=A.startIndex,I=A.endIndex,N=function(){var O=b.length-1;return o==="startX"&&(u>c?L%E===0:I%E===0)||u<c&&I===O||o==="endX"&&(u>c?I%E===0:L%E===0)||u>c&&I===O};this.setState(Or(Or({},o,f+k),"brushMoveStartX",r.pageX),function(){x&&N()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,u=o.scaleValues,c=o.startX,f=o.endX,d=this.state[i],p=u.indexOf(d);if(p!==-1){var y=p+r;if(!(y===-1||y>=u.length)){var _=u[y];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(Or({},i,_),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,u=r.height,c=r.fill,f=r.stroke;return v.createElement("rect",{stroke:f,fill:c,x:i,y:a,width:o,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,u=r.height,c=r.data,f=r.children,d=r.padding,p=z.Children.only(f);return p?v.cloneElement(p,{x:i,y:a,width:o,height:u,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,u=this,c=this.props,f=c.y,d=c.travellerWidth,p=c.height,y=c.traveller,_=c.ariaLabel,x=c.data,E=c.startIndex,b=c.endIndex,C=Math.max(r,this.props.x),k=hE(hE({},Ue(this.props,!1)),{},{x:C,y:f,width:d,height:p}),A=_||"Min value: ".concat((a=x[E])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[b])===null||o===void 0?void 0:o.name);return v.createElement(mt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),u.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,k))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,u=a.height,c=a.stroke,f=a.travellerWidth,d=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return v.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:p,height:u})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,u=r.height,c=r.travellerWidth,f=r.stroke,d=this.state,p=d.startX,y=d.endX,_=5,x={pointerEvents:"none",fill:f};return v.createElement(mt,{className:"recharts-brush-texts"},v.createElement(Ws,Jm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,y)-_,y:o+u/2},x),this.getTextOfTick(i)),v.createElement(Ws,Jm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,y)+c+_,y:o+u/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,u=r.x,c=r.y,f=r.width,d=r.height,p=r.alwaysShowText,y=this.state,_=y.startX,x=y.endX,E=y.isTextActive,b=y.isSlideMoving,C=y.isTravellerMoving,k=y.isTravellerFocused;if(!i||!i.length||!ge(u)||!ge(c)||!ge(f)||!ge(d)||f<=0||d<=0)return null;var A=Ye("recharts-brush",a),L=v.Children.count(o)===1,I=nJ("userSelect","none");return v.createElement(mt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(_,x),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(x,"endX"),(E||b||C||k||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,u=r.height,c=r.stroke,f=Math.floor(a+u/2)-1;return v.createElement(v.Fragment,null,v.createElement("rect",{x:i,y:a,width:o,height:u,fill:c,stroke:"none"}),v.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),v.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return v.isValidElement(r)?a=v.cloneElement(r,i):Be(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,u=r.x,c=r.travellerWidth,f=r.updateId,d=r.startIndex,p=r.endIndex;if(a!==i.prevData||f!==i.prevUpdateId)return hE({prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:o},a&&a.length?cJ({data:a,width:o,x:u,travellerWidth:c,startIndex:d,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([u,u+o-c]);var y=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,u=a-1;u-o>1;){var c=Math.floor((o+u)/2);r[c]>i?u=c:o=c}return i>=r[u]?u:o}}])}(z.PureComponent);Or(Uu,"displayName","Brush");Or(Uu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dE,VN;function fJ(){if(VN)return dE;VN=1;var t=_T();function e(n,r){var i;return t(n,function(a,o,u){return i=r(a,o,u),!i}),!!i}return dE=e,dE}var pE,FN;function hJ(){if(FN)return pE;FN=1;var t=mj(),e=ra(),n=fJ(),r=wr(),i=Gg();function a(o,u,c){var f=r(o)?t:n;return c&&i(o,u,c)&&(u=void 0),f(o,e(u,3))}return pE=a,pE}var dJ=hJ();const pJ=ht(dJ);var Xi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},mE,UN;function mJ(){if(UN)return mE;UN=1;var t=Nj();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return mE=e,mE}var gE,qN;function gJ(){if(qN)return gE;qN=1;var t=mJ(),e=Cj(),n=ra();function r(i,a){var o={};return a=n(a,3),e(i,function(u,c,f){t(o,c,a(u,c,f))}),o}return gE=r,gE}var yJ=gJ();const vJ=ht(yJ);var yE,BN;function _J(){if(BN)return yE;BN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return yE=t,yE}var vE,zN;function bJ(){if(zN)return vE;zN=1;var t=_T();function e(n,r){var i=!0;return t(n,function(a,o,u){return i=!!r(a,o,u),i}),i}return vE=e,vE}var _E,HN;function wJ(){if(HN)return _E;HN=1;var t=_J(),e=bJ(),n=ra(),r=wr(),i=Gg();function a(o,u,c){var f=r(o)?t:e;return c&&i(o,u,c)&&(u=void 0),f(o,n(u,3))}return _E=a,_E}var EJ=wJ();const b4=ht(EJ);var xJ=["x","y"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function G1(){return G1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G1.apply(this,arguments)}function WN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ef(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(n),!0).forEach(function(r){TJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TJ(t,e,n){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJ(t){var e=AJ(t,"string");return Sh(e)=="symbol"?e:e+""}function AJ(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PJ(t,e){if(t==null)return{};var n=IJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OJ(t,e){var n=t.x,r=t.y,i=PJ(t,xJ),a="".concat(n),o=parseInt(a,10),u="".concat(r),c=parseInt(u,10),f="".concat(e.height||i.height),d=parseInt(f,10),p="".concat(e.width||i.width),y=parseInt(p,10);return Ef(Ef(Ef(Ef(Ef({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:y,name:e.name,radius:e.radius})}function GN(t){return v.createElement(d4,G1({shapeType:"rectangle",propTransformer:OJ,activeClassName:"recharts-active-bar"},t))}var kJ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=typeof r=="number";return a?e(r,i):(a||Ks(),n)}},CJ=["value","background"],w4;function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function RJ(t,e){if(t==null)return{};var n=NJ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function KN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(n),!0).forEach(function(r){ko(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x4(r.key),r)}}function DJ(t,e,n){return e&&XN(t.prototype,e),n&&XN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LJ(t,e,n){return e=tg(e),jJ(t,E4()?Reflect.construct(e,n||[],tg(t).constructor):e.apply(t,n))}function jJ(t,e){if(e&&(qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $J(t)}function $J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function VJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K1(t,e)}function K1(t,e){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K1(t,e)}function ko(t,e,n){return e=x4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x4(t){var e=FJ(t,"string");return qu(e)=="symbol"?e:e+""}function FJ(t,e){if(qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ll=function(t){function e(){var n;MJ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=LJ(this,e,[].concat(i)),ko(n,"state",{isAnimationFinished:!1}),ko(n,"id",Wh("recharts-bar-")),ko(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ko(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return VJ(e,t),DJ(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,u=a.dataKey,c=a.activeIndex,f=a.activeBar,d=Ue(this.props,!1);return r&&r.map(function(p,y){var _=y===c,x=_?f:o,E=Jt(Jt(Jt({},d),p),{},{isActive:_,option:x,index:y,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return v.createElement(mt,eg({className:"recharts-bar-rectangle"},Hs(i.props,p,y),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(y)}),v.createElement(GN,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,u=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,d=i.animationEasing,p=i.animationId,y=this.state.prevData;return v.createElement(La,{begin:c,duration:f,isActive:u,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var x=_.t,E=a.map(function(b,C){var k=y&&y[C];if(k){var A=Eo(k.x,b.x),L=Eo(k.y,b.y),I=Eo(k.width,b.width),N=Eo(k.height,b.height);return Jt(Jt({},b),{},{x:A(x),y:L(x),width:I(x),height:N(x)})}if(o==="horizontal"){var P=Eo(0,b.height),O=P(x);return Jt(Jt({},b),{},{y:b.y+b.height-O,height:O})}var M=Eo(0,b.width),F=M(x);return Jt(Jt({},b),{},{width:F})});return v.createElement(mt,null,r.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!ry(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,u=i.activeIndex,c=Ue(this.props.background,!1);return a.map(function(f,d){f.value;var p=f.background,y=RJ(f,CJ);if(!p)return null;var _=Jt(Jt(Jt(Jt(Jt({},y),{},{fill:"#eee"},p),c),Hs(r.props,f,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return v.createElement(GN,eg({key:"background-bar-".concat(d),option:r.props.background,isActive:d===u},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,u=a.xAxis,c=a.yAxis,f=a.layout,d=a.children,p=Zr(d,oy);if(!p)return null;var y=f==="vertical"?o[0].height/2:o[0].width/2,_=function(b,C){var k=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:k,errorVal:zn(b,C)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return v.createElement(mt,x,p.map(function(E){return v.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:o,xAxis:u,yAxis:c,layout:f,offset:y,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,u=r.xAxis,c=r.yAxis,f=r.left,d=r.top,p=r.width,y=r.height,_=r.isAnimationActive,x=r.background,E=r.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,C=Ye("recharts-bar",o),k=u&&u.allowDataOverflow,A=c&&c.allowDataOverflow,L=k||A,I=Je(E)?this.id:E;return v.createElement(mt,{className:C},k||A?v.createElement("defs",null,v.createElement("clipPath",{id:"clipPath-".concat(I)},v.createElement("rect",{x:k?f:f-p/2,y:A?d:d-y/2,width:k?p:p*2,height:A?y:y*2}))):null,v.createElement(mt,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(I,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,I),(!_||b)&&No.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(z.PureComponent);w4=ll;ko(ll,"displayName","Bar");ko(ll,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ko(ll,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,u=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,d=t.dataStartIndex,p=t.displayedData,y=t.offset,_=mG(r,n);if(!_)return null;var x=e.layout,E=n.type.defaultProps,b=E!==void 0?Jt(Jt({},E),n.props):n.props,C=b.dataKey,k=b.children,A=b.minPointSize,L=x==="horizontal"?o:a,I=f?L.scale.domain():null,N=EG({numericAxis:L}),P=Zr(k,Zf),O=p.map(function(M,F){var D,V,j,K,J,ie;f?D=gG(f[d+F],I):(D=zn(M,C),Array.isArray(D)||(D=[N,D]));var re=kJ(A,w4.defaultProps.minPointSize)(D[1],F);if(x==="horizontal"){var Q,ee=[o.scale(D[0]),o.scale(D[1])],ae=ee[0],B=ee[1];V=b2({axis:a,ticks:u,bandSize:i,offset:_.offset,entry:M,index:F}),j=(Q=B??ae)!==null&&Q!==void 0?Q:void 0,K=_.size;var G=ae-B;if(J=Number.isNaN(G)?0:G,ie={x:V,y:o.y,width:K,height:o.height},Math.abs(re)>0&&Math.abs(J)<Math.abs(re)){var ue=tr(J||re)*(Math.abs(re)-Math.abs(J));j-=ue,J+=ue}}else{var be=[a.scale(D[0]),a.scale(D[1])],Ae=be[0],Le=be[1];if(V=Ae,j=b2({axis:o,ticks:c,bandSize:i,offset:_.offset,entry:M,index:F}),K=Le-Ae,J=_.size,ie={x:a.x,y:j,width:a.width,height:J},Math.abs(re)>0&&Math.abs(K)<Math.abs(re)){var Ge=tr(K||re)*(Math.abs(re)-Math.abs(K));K+=Ge}}return Jt(Jt(Jt({},M),{},{x:V,y:j,width:K,height:J,value:f?D:D[1],payload:M,background:ie},P&&P[F]&&P[F].props),{},{tooltipPayload:[X$(n,M)],tooltipPosition:{x:V+K/2,y:j+J/2}})});return Jt({data:O,layout:x},y)});function Ah(t){"@babel/helpers - typeof";return Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ah(t)}function UJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T4(r.key),r)}}function qJ(t,e,n){return e&&QN(t.prototype,e),n&&QN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dy(t,e,n){return e=T4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T4(t){var e=BJ(t,"string");return Ah(e)=="symbol"?e:e+""}function BJ(t,e){if(Ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zJ=function(e,n,r,i,a){var o=e.width,u=e.height,c=e.layout,f=e.children,d=Object.keys(n),p={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!kr(f,ll);return d.reduce(function(_,x){var E=n[x],b=E.orientation,C=E.domain,k=E.padding,A=k===void 0?{}:k,L=E.mirror,I=E.reversed,N="".concat(b).concat(L?"Mirror":""),P,O,M,F,D;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var V=C[1]-C[0],j=1/0,K=E.categoricalDomain.sort(iB);if(K.forEach(function(be,Ae){Ae>0&&(j=Math.min((be||0)-(K[Ae-1]||0),j))}),Number.isFinite(j)){var J=j/V,ie=E.layout==="vertical"?r.height:r.width;if(E.padding==="gap"&&(P=J*ie/2),E.padding==="no-gap"){var re=nr(e.barCategoryGap,J*ie),Q=J*ie/2;P=Q-re-(Q-re)/ie*re}}}i==="xAxis"?O=[r.left+(A.left||0)+(P||0),r.left+r.width-(A.right||0)-(P||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(P||0),r.top+r.height-(A.bottom||0)-(P||0)]:O=E.range,I&&(O=[O[1],O[0]]);var ee=H$(E,a,y),ae=ee.scale,B=ee.realScaleType;ae.domain(C).range(O),W$(ae);var G=G$(ae,Ei(Ei({},E),{},{realScaleType:B}));i==="xAxis"?(D=b==="top"&&!L||b==="bottom"&&L,M=r.left,F=p[N]-D*E.height):i==="yAxis"&&(D=b==="left"&&!L||b==="right"&&L,M=p[N]-D*E.width,F=r.top);var ue=Ei(Ei(Ei({},E),G),{},{realScaleType:B,x:M,y:F,scale:ae,width:i==="xAxis"?r.width:E.width,height:i==="yAxis"?r.height:E.height});return ue.bandSize=Vm(ue,G),!E.hide&&i==="xAxis"?p[N]+=(D?-1:1)*ue.height:E.hide||(p[N]+=(D?-1:1)*ue.width),Ei(Ei({},_),{},dy({},x,ue))},{})},S4=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},HJ=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return S4({x:n,y:r},{x:i,y:a})},A4=function(){function t(e){UJ(this,t),this.scale=e}return qJ(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();dy(A4,"EPS",1e-4);var XT=function(e){var n=Object.keys(e).reduce(function(r,i){return Ei(Ei({},r),{},dy({},i,A4.create(e[i])))},{});return Ei(Ei({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,u=a.position;return vJ(i,function(c,f){return n[f].apply(c,{bandAware:o,position:u})})},isInRange:function(i){return b4(i,function(a,o){return n[o].isInRange(a)})}})};function WJ(t){return(t%180+180)%180}var GJ=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=WJ(i),o=a*Math.PI/180,u=Math.atan(r/n),c=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},bE,JN;function KJ(){if(JN)return bE;JN=1;var t=ra(),e=Gh(),n=Hg();function r(i){return function(a,o,u){var c=Object(a);if(!e(a)){var f=t(o,3);a=n(a),o=function(p){return f(c[p],p,c)}}var d=i(a,o,u);return d>-1?c[f?a[d]:d]:void 0}}return bE=r,bE}var wE,ZN;function XJ(){if(ZN)return wE;ZN=1;var t=g4();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return wE=e,wE}var EE,eM;function QJ(){if(eM)return EE;eM=1;var t=Aj(),e=ra(),n=XJ(),r=Math.max;function i(a,o,u){var c=a==null?0:a.length;if(!c)return-1;var f=u==null?0:n(u);return f<0&&(f=r(c+f,0)),t(a,e(o,3),f)}return EE=i,EE}var xE,tM;function YJ(){if(tM)return xE;tM=1;var t=KJ(),e=QJ(),n=t(e);return xE=n,xE}var JJ=YJ();const ZJ=ht(JJ);var eZ=qL();const tZ=ht(eZ);var nZ=tZ(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QT=z.createContext(void 0),YT=z.createContext(void 0),P4=z.createContext(void 0),I4=z.createContext({}),O4=z.createContext(void 0),k4=z.createContext(0),C4=z.createContext(0),nM=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,u=e.children,c=e.width,f=e.height,d=nZ(a);return v.createElement(QT.Provider,{value:r},v.createElement(YT.Provider,{value:i},v.createElement(I4.Provider,{value:a},v.createElement(P4.Provider,{value:d},v.createElement(O4.Provider,{value:o},v.createElement(k4.Provider,{value:f},v.createElement(C4.Provider,{value:c},u)))))))},rZ=function(){return z.useContext(O4)},R4=function(e){var n=z.useContext(QT);n==null&&Ks();var r=n[e];return r==null&&Ks(),r},iZ=function(){var e=z.useContext(QT);return To(e)},aZ=function(){var e=z.useContext(YT),n=ZJ(e,function(r){return b4(r.domain,Number.isFinite)});return n||To(e)},N4=function(e){var n=z.useContext(YT);n==null&&Ks();var r=n[e];return r==null&&Ks(),r},oZ=function(){var e=z.useContext(P4);return e},sZ=function(){return z.useContext(I4)},JT=function(){return z.useContext(C4)},ZT=function(){return z.useContext(k4)};function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}function lZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D4(r.key),r)}}function cZ(t,e,n){return e&&uZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fZ(t,e,n){return e=ng(e),hZ(t,M4()?Reflect.construct(e,n||[],ng(t).constructor):e.apply(t,n))}function hZ(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZ(t)}function dZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M4=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function pZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X1(t,e)}function X1(t,e){return X1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X1(t,e)}function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){eS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eS(t,e,n){return e=D4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=mZ(t,"string");return Bu(e)=="symbol"?e:e+""}function mZ(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gZ(t,e){return bZ(t)||_Z(t,e)||vZ(t,e)||yZ()}function yZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vZ(t,e){if(t){if(typeof t=="string")return aM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aM(t,e)}}function aM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Z(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function bZ(t){if(Array.isArray(t))return t}function Q1(){return Q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1.apply(this,arguments)}var wZ=function(e,n){var r;return v.isValidElement(e)?r=v.cloneElement(e,n):Be(e)?r=e(n):r=v.createElement("line",Q1({},n,{className:"recharts-reference-line-line"})),r},EZ=function(e,n,r,i,a,o,u,c,f){var d=a.x,p=a.y,y=a.width,_=a.height;if(r){var x=f.y,E=e.y.apply(x,{position:o});if(Xi(f,"discard")&&!e.y.isInRange(E))return null;var b=[{x:d+y,y:E},{x:d,y:E}];return c==="left"?b.reverse():b}if(n){var C=f.x,k=e.x.apply(C,{position:o});if(Xi(f,"discard")&&!e.x.isInRange(k))return null;var A=[{x:k,y:p+_},{x:k,y:p}];return u==="top"?A.reverse():A}if(i){var L=f.segment,I=L.map(function(N){return e.apply(N,{position:o})});return Xi(f,"discard")&&pJ(I,function(N){return!e.isInRange(N)})?null:I}return null};function xZ(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,u=t.className,c=t.alwaysShow,f=rZ(),d=R4(i),p=N4(a),y=oZ();if(!f||!y)return null;Ai(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=XT({x:d.scale,y:p.scale}),x=un(e),E=un(n),b=r&&r.length===2,C=EZ(_,x,E,b,y,t.position,d.orientation,p.orientation,t);if(!C)return null;var k=gZ(C,2),A=k[0],L=A.x,I=A.y,N=k[1],P=N.x,O=N.y,M=Xi(t,"hidden")?"url(#".concat(f,")"):void 0,F=iM(iM({clipPath:M},Ue(t,!0)),{},{x1:L,y1:I,x2:P,y2:O});return v.createElement(mt,{className:Ye("recharts-reference-line",u)},wZ(o,F),bn.renderCallByParent(t,HJ({x1:L,y1:I,x2:P,y2:O})))}var tS=function(t){function e(){return lZ(this,e),fZ(this,e,arguments)}return pZ(e,t),cZ(e,[{key:"render",value:function(){return v.createElement(xZ,this.props)}}])}(v.Component);eS(tS,"displayName","ReferenceLine");eS(tS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j4(r.key),r)}}function AZ(t,e,n){return e&&SZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PZ(t,e,n){return e=rg(e),IZ(t,L4()?Reflect.construct(e,n||[],rg(t).constructor):e.apply(t,n))}function IZ(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OZ(t)}function OZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function kZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J1(t,e)}function J1(t,e){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J1(t,e)}function py(t,e,n){return e=j4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t){var e=CZ(t,"string");return zu(e)=="symbol"?e:e+""}function CZ(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RZ=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=XT({x:i.scale,y:a.scale}),u=o.apply({x:n,y:r},{bandAware:!0});return Xi(e,"discard")&&!o.isInRange(u)?null:u},my=function(t){function e(){return TZ(this,e),PZ(this,e,arguments)}return kZ(e,t),AZ(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,u=r.alwaysShow,c=r.clipPathId,f=un(i),d=un(a);if(Ai(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!d)return null;var p=RZ(this.props);if(!p)return null;var y=p.x,_=p.y,x=this.props,E=x.shape,b=x.className,C=Xi(this.props,"hidden")?"url(#".concat(c,")"):void 0,k=sM(sM({clipPath:C},Ue(this.props,!0)),{},{cx:y,cy:_});return v.createElement(mt,{className:Ye("recharts-reference-dot",b)},e.renderDot(E,k),bn.renderCallByParent(this.props,{x:y-o,y:_-o,width:2*o,height:2*o}))}}])}(v.Component);py(my,"displayName","ReferenceDot");py(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});py(my,"renderDot",function(t,e){var n;return v.isValidElement(t)?n=v.cloneElement(t,e):Be(t)?n=t(e):n=v.createElement(KT,Y1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Z1(){return Z1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z1.apply(this,arguments)}function Hu(t){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function lM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lM(Object(n),!0).forEach(function(r){gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NZ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V4(r.key),r)}}function DZ(t,e,n){return e&&MZ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LZ(t,e,n){return e=ig(e),jZ(t,$4()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function jZ(t,e){if(e&&(Hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Z(t)}function $Z(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function VZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ex(t,e)}function gy(t,e,n){return e=V4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4(t){var e=FZ(t,"string");return Hu(e)=="symbol"?e:e+""}function FZ(t,e){if(Hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UZ=function(e,n,r,i,a){var o=a.x1,u=a.x2,c=a.y1,f=a.y2,d=a.xAxis,p=a.yAxis;if(!d||!p)return null;var y=XT({x:d.scale,y:p.scale}),_={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(c,{position:"start"}):y.y.rangeMin},x={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(f,{position:"end"}):y.y.rangeMax};return Xi(a,"discard")&&(!y.isInRange(_)||!y.isInRange(x))?null:S4(_,x)},yy=function(t){function e(){return NZ(this,e),LZ(this,e,arguments)}return VZ(e,t),DZ(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,u=r.y2,c=r.className,f=r.alwaysShow,d=r.clipPathId;Ai(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=un(i),y=un(a),_=un(o),x=un(u),E=this.props.shape;if(!p&&!y&&!_&&!x&&!E)return null;var b=UZ(p,y,_,x,this.props);if(!b&&!E)return null;var C=Xi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return v.createElement(mt,{className:Ye("recharts-reference-area",c)},e.renderRect(E,uM(uM({clipPath:C},Ue(this.props,!0)),b)),bn.renderCallByParent(this.props,b))}}])}(v.Component);gy(yy,"displayName","ReferenceArea");gy(yy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gy(yy,"renderRect",function(t,e){var n;return v.isValidElement(t)?n=v.cloneElement(t,e):Be(t)?n=t(e):n=v.createElement(GT,Z1({},e,{className:"recharts-reference-area-rect"})),n});function F4(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qZ(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return GJ(r,n)}function BZ(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,u=t.height;return e===1?{start:r?i:a,end:r?i+o:a+u}:{start:r?i+o:a+u,end:r?i:a}}function ag(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function zZ(t,e){return F4(t,e+1)}function HZ(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,u=e.end,c=0,f=1,d=o,p=function(){var x=r?.[c];if(x===void 0)return{v:F4(r,f)};var E=c,b,C=function(){return b===void 0&&(b=n(x,E)),b},k=x.coordinate,A=c===0||ag(t,k,C,d,u);A||(c=0,d=o,f+=1),A&&(d=k+t*(C()/2+i),c+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){WZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WZ(t,e,n){return e=GZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GZ(t){var e=KZ(t,"string");return Ph(e)=="symbol"?e:e+""}function KZ(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XZ(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,u=e.start,c=e.end,f=function(y){var _=a[y],x,E=function(){return x===void 0&&(x=n(_,y)),x};if(y===o-1){var b=t*(_.coordinate+t*E()/2-c);a[y]=_=Fn(Fn({},_),{},{tickCoord:b>0?_.coordinate-b*t:_.coordinate})}else a[y]=_=Fn(Fn({},_),{},{tickCoord:_.coordinate});var C=ag(t,_.tickCoord,E,u,c);C&&(c=_.tickCoord-t*(E()/2+i),a[y]=Fn(Fn({},_),{},{isShow:!0}))},d=o-1;d>=0;d--)f(d);return a}function QZ(t,e,n,r,i,a){var o=(r||[]).slice(),u=o.length,c=e.start,f=e.end;if(a){var d=r[u-1],p=n(d,u-1),y=t*(d.coordinate+t*p/2-f);o[u-1]=d=Fn(Fn({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate});var _=ag(t,d.tickCoord,function(){return p},c,f);_&&(f=d.tickCoord-t*(p/2+i),o[u-1]=Fn(Fn({},d),{},{isShow:!0}))}for(var x=a?u-1:u,E=function(k){var A=o[k],L,I=function(){return L===void 0&&(L=n(A,k)),L};if(k===0){var N=t*(A.coordinate-t*I()/2-c);o[k]=A=Fn(Fn({},A),{},{tickCoord:N<0?A.coordinate-N*t:A.coordinate})}else o[k]=A=Fn(Fn({},A),{},{tickCoord:A.coordinate});var P=ag(t,A.tickCoord,I,c,f);P&&(c=A.tickCoord+t*(I()/2+i),o[k]=Fn(Fn({},A),{},{isShow:!0}))},b=0;b<x;b++)E(b);return o}function nS(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,u=t.orientation,c=t.interval,f=t.tickFormatter,d=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(ge(c)||cc.isSsr)return zZ(i,typeof c=="number"&&ge(c)?c:0);var y=[],_=u==="top"||u==="bottom"?"width":"height",x=d&&_==="width"?Df(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},E=function(A,L){var I=Be(f)?f(A.value,L):A.value;return _==="width"?qZ(Df(I,{fontSize:e,letterSpacing:n}),x,p):Df(I,{fontSize:e,letterSpacing:n})[_]},b=i.length>=2?tr(i[1].coordinate-i[0].coordinate):1,C=BZ(a,b,_);return c==="equidistantPreserveStart"?HZ(b,C,E,i,o):(c==="preserveStart"||c==="preserveStartEnd"?y=QZ(b,C,E,i,o,c==="preserveStartEnd"):y=XZ(b,C,E,i,o),y.filter(function(k){return k.isShow}))}var YZ=["viewBox"],JZ=["viewBox"],ZZ=["ticks"];function Wu(t){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wu(t)}function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TE(t,e){if(t==null)return{};var n=eee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q4(r.key),r)}}function nee(t,e,n){return e&&hM(t.prototype,e),n&&hM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ree(t,e,n){return e=og(e),iee(t,U4()?Reflect.construct(e,n||[],og(t).constructor):e.apply(t,n))}function iee(t,e){if(e&&(Wu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aee(t)}function aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U4=function(){return!!t})()}function og(t){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},og(t)}function oee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tx(t,e)}function tx(t,e){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tx(t,e)}function rS(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=see(t,"string");return Wu(e)=="symbol"?e:e+""}function see(t,e){if(Wu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pc=function(t){function e(n){var r;return tee(this,e),r=ree(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oee(e,t),nee(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=TE(r,YZ),u=this.props,c=u.viewBox,f=TE(u,JZ);return!_u(a,c)||!_u(o,f)||!_u(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,u=i.width,c=i.height,f=i.orientation,d=i.tickSize,p=i.mirror,y=i.tickMargin,_,x,E,b,C,k,A=p?-1:1,L=r.tickSize||d,I=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=x=r.coordinate,b=o+ +!p*c,E=b-A*L,k=E-A*y,C=I;break;case"left":E=b=r.coordinate,x=a+ +!p*u,_=x-A*L,C=_-A*y,k=I;break;case"right":E=b=r.coordinate,x=a+ +p*u,_=x+A*L,C=_+A*y,k=I;break;default:_=x=r.coordinate,b=o+ +p*c,E=b+A*L,k=E+A*y,C=I;break}return{line:{x1:_,y1:E,x2:x,y2:b},tick:{x:C,y:k}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,u=r.height,c=r.orientation,f=r.mirror,d=r.axisLine,p=Jn(Jn(Jn({},Ue(this.props,!1)),Ue(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var y=+(c==="top"&&!f||c==="bottom"&&f);p=Jn(Jn({},p),{},{x1:i,y1:a+y*u,x2:i+o,y2:a+y*u})}else{var _=+(c==="left"&&!f||c==="right"&&f);p=Jn(Jn({},p),{},{x1:i+_*o,y1:a,x2:i+_*o,y2:a+u})}return v.createElement("line",mu({},p,{className:Ye("recharts-cartesian-axis-line",Dr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,u=this.props,c=u.tickLine,f=u.stroke,d=u.tick,p=u.tickFormatter,y=u.unit,_=nS(Jn(Jn({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),b=Ue(this.props,!1),C=Ue(d,!1),k=Jn(Jn({},b),{},{fill:"none"},Ue(c,!1)),A=_.map(function(L,I){var N=o.getTickLineCoord(L),P=N.line,O=N.tick,M=Jn(Jn(Jn(Jn({textAnchor:x,verticalAnchor:E},b),{},{stroke:"none",fill:f},C),O),{},{index:I,payload:L,visibleTicksCount:_.length,tickFormatter:p});return v.createElement(mt,mu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Hs(o.props,L,I)),c&&v.createElement("line",mu({},k,P,{className:Ye("recharts-cartesian-axis-tick-line",Dr(c,"className"))})),d&&e.renderTickItem(d,M,"".concat(Be(p)?p(L.value,I):L.value).concat(y||"")))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,u=i.height,c=i.ticksGenerator,f=i.className,d=i.hide;if(d)return null;var p=this.props,y=p.ticks,_=TE(p,ZZ),x=y;return Be(c)&&(x=y&&y.length>0?c(this.props):c(_)),o<=0||u<=0||!x||!x.length?null:v.createElement(mt,{className:Ye("recharts-cartesian-axis",f),ref:function(b){r.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return v.isValidElement(r)?o=v.cloneElement(r,i):Be(r)?o=r(i):o=v.createElement(Ws,mu({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(z.Component);rS(pc,"displayName","CartesianAxis");rS(pc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lee=["x1","y1","x2","y2","key"],uee=["offset"];function Xs(t){"@babel/helpers - typeof";return Xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xs(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){cee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cee(t,e,n){return e=fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fee(t){var e=hee(t,"string");return Xs(e)=="symbol"?e:e+""}function hee(t,e){if(Xs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}function pM(t,e){if(t==null)return{};var n=dee(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pee=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,u=e.height,c=e.ry;return v.createElement("rect",{x:i,y:a,ry:c,width:o,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function B4(t,e){var n;if(v.isValidElement(t))n=v.cloneElement(t,e);else if(Be(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,u=e.key,c=pM(e,lee),f=Ue(c,!1);f.offset;var d=pM(f,uee);n=v.createElement("line",js({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:u}))}return n}function mee(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,c){var f=qn(qn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(c),index:c});return B4(i,f)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function gee(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(u,c){var f=qn(qn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(c),index:c});return B4(i,f)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yee(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,u=t.horizontalPoints,c=t.horizontal,f=c===void 0?!0:c;if(!f||!e||!e.length)return null;var d=u.map(function(y){return Math.round(y+i-i)}).sort(function(y,_){return y-_});i!==d[0]&&d.unshift(0);var p=d.map(function(y,_){var x=!d[_+1],E=x?i+o-y:d[_+1]-y;if(E<=0)return null;var b=_%e.length;return v.createElement("rect",{key:"react-".concat(_),y,x:r,height:E,width:a,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function vee(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,u=t.width,c=t.height,f=t.verticalPoints;if(!n||!r||!r.length)return null;var d=f.map(function(y){return Math.round(y+a-a)}).sort(function(y,_){return y-_});a!==d[0]&&d.unshift(0);var p=d.map(function(y,_){var x=!d[_+1],E=x?a+u-y:d[_+1]-y;if(E<=0)return null;var b=_%r.length;return v.createElement("rect",{key:"react-".concat(_),x:y,y:o,width:E,height:c,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var _ee=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return z$(nS(qn(qn(qn({},pc.defaultProps),r),{},{ticks:Sa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},bee=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return z$(nS(qn(qn(qn({},pc.defaultProps),r),{},{ticks:Sa(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},ou={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function z4(t){var e,n,r,i,a,o,u=JT(),c=ZT(),f=sZ(),d=qn(qn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ou.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ou.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ou.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ou.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:ou.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ou.verticalFill,x:ge(t.x)?t.x:f.left,y:ge(t.y)?t.y:f.top,width:ge(t.width)?t.width:f.width,height:ge(t.height)?t.height:f.height}),p=d.x,y=d.y,_=d.width,x=d.height,E=d.syncWithTicks,b=d.horizontalValues,C=d.verticalValues,k=iZ(),A=aZ();if(!ge(_)||_<=0||!ge(x)||x<=0||!ge(p)||p!==+p||!ge(y)||y!==+y)return null;var L=d.verticalCoordinatesGenerator||_ee,I=d.horizontalCoordinatesGenerator||bee,N=d.horizontalPoints,P=d.verticalPoints;if((!N||!N.length)&&Be(I)){var O=b&&b.length,M=I({yAxis:A?qn(qn({},A),{},{ticks:O?b:A.ticks}):void 0,width:u,height:c,offset:f},O?!0:E);Ai(Array.isArray(M),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xs(M),"]")),Array.isArray(M)&&(N=M)}if((!P||!P.length)&&Be(L)){var F=C&&C.length,D=L({xAxis:k?qn(qn({},k),{},{ticks:F?C:k.ticks}):void 0,width:u,height:c,offset:f},F?!0:E);Ai(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xs(D),"]")),Array.isArray(D)&&(P=D)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(pee,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),v.createElement(mee,js({},d,{offset:f,horizontalPoints:N,xAxis:k,yAxis:A})),v.createElement(gee,js({},d,{offset:f,verticalPoints:P,xAxis:k,yAxis:A})),v.createElement(yee,js({},d,{horizontalPoints:N})),v.createElement(vee,js({},d,{verticalPoints:P})))}z4.displayName="CartesianGrid";function Gu(t){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gu(t)}function wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function xee(t,e,n){return e&&Eee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tee(t,e,n){return e=sg(e),See(t,H4()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function See(t,e){if(e&&(Gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aee(t)}function Aee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function Pee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nx(t,e)}function nx(t,e){return nx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nx(t,e)}function W4(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=Iee(t,"string");return Gu(e)=="symbol"?e:e+""}function Iee(t,e){if(Gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rx(){return rx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rx.apply(this,arguments)}function Oee(t){var e=t.xAxisId,n=JT(),r=ZT(),i=R4(e);return i==null?null:v.createElement(pc,rx({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Sa(o,!0)}}))}var vy=function(t){function e(){return wee(this,e),Tee(this,e,arguments)}return Pee(e,t),xee(e,[{key:"render",value:function(){return v.createElement(Oee,this.props)}}])}(v.Component);W4(vy,"displayName","XAxis");W4(vy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ku(t){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ku(t)}function kee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q4(r.key),r)}}function Ree(t,e,n){return e&&Cee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nee(t,e,n){return e=lg(e),Mee(t,K4()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function Mee(t,e){if(e&&(Ku(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dee(t)}function Dee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K4=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function Lee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function X4(t,e,n){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q4(t){var e=jee(t,"string");return Ku(e)=="symbol"?e:e+""}function jee(t,e){if(Ku(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}var $ee=function(e){var n=e.yAxisId,r=JT(),i=ZT(),a=N4(n);return a==null?null:v.createElement(pc,ax({},a,{className:Ye("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(u){return Sa(u,!0)}}))},_y=function(t){function e(){return kee(this,e),Nee(this,e,arguments)}return Lee(e,t),Ree(e,[{key:"render",value:function(){return v.createElement($ee,this.props)}}])}(v.Component);X4(_y,"displayName","YAxis");X4(_y,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mM(t){return qee(t)||Uee(t)||Fee(t)||Vee()}function Vee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(t,e){if(t){if(typeof t=="string")return ox(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(t,e)}}function Uee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qee(t){if(Array.isArray(t))return ox(t)}function ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sx=function(e,n,r,i,a){var o=Zr(e,tS),u=Zr(e,my),c=[].concat(mM(o),mM(u)),f=Zr(e,yy),d="".concat(i,"Id"),p=i[0],y=n;if(c.length&&(y=c.reduce(function(E,b){if(b.props[d]===r&&Xi(b.props,"extendDomain")&&ge(b.props[p])){var C=b.props[p];return[Math.min(E[0],C),Math.max(E[1],C)]}return E},y)),f.length){var _="".concat(p,"1"),x="".concat(p,"2");y=f.reduce(function(E,b){if(b.props[d]===r&&Xi(b.props,"extendDomain")&&ge(b.props[_])&&ge(b.props[x])){var C=b.props[_],k=b.props[x];return[Math.min(E[0],C,k),Math.max(E[1],C,k)]}return E},y)}return a&&a.length&&(y=a.reduce(function(E,b){return ge(b)?[Math.min(E[0],b),Math.max(E[1],b)]:E},y)),y},SE={exports:{}},gM;function Bee(){return gM||(gM=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,d){this.fn=c,this.context=f,this.once=d||!1}function a(c,f,d,p,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var _=new i(d,p||c,y),x=n?n+f:f;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],_]:c._events[x].push(_):(c._events[x]=_,c._eventsCount++),c}function o(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},u.prototype.listeners=function(f){var d=n?n+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,_=p.length,x=new Array(_);y<_;y++)x[y]=p[y].fn;return x},u.prototype.listenerCount=function(f){var d=n?n+f:f,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,d,p,y,_,x){var E=n?n+f:f;if(!this._events[E])return!1;var b=this._events[E],C=arguments.length,k,A;if(b.fn){switch(b.once&&this.removeListener(f,b.fn,void 0,!0),C){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,p),!0;case 4:return b.fn.call(b.context,d,p,y),!0;case 5:return b.fn.call(b.context,d,p,y,_),!0;case 6:return b.fn.call(b.context,d,p,y,_,x),!0}for(A=1,k=new Array(C-1);A<C;A++)k[A-1]=arguments[A];b.fn.apply(b.context,k)}else{var L=b.length,I;for(A=0;A<L;A++)switch(b[A].once&&this.removeListener(f,b[A].fn,void 0,!0),C){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,d);break;case 3:b[A].fn.call(b[A].context,d,p);break;case 4:b[A].fn.call(b[A].context,d,p,y);break;default:if(!k)for(I=1,k=new Array(C-1);I<C;I++)k[I-1]=arguments[I];b[A].fn.apply(b[A].context,k)}}return!0},u.prototype.on=function(f,d,p){return a(this,f,d,p,!1)},u.prototype.once=function(f,d,p){return a(this,f,d,p,!0)},u.prototype.removeListener=function(f,d,p,y){var _=n?n+f:f;if(!this._events[_])return this;if(!d)return o(this,_),this;var x=this._events[_];if(x.fn)x.fn===d&&(!y||x.once)&&(!p||x.context===p)&&o(this,_);else{for(var E=0,b=[],C=x.length;E<C;E++)(x[E].fn!==d||y&&!x[E].once||p&&x[E].context!==p)&&b.push(x[E]);b.length?this._events[_]=b.length===1?b[0]:b:o(this,_)}return this},u.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(SE)),SE.exports}var zee=Bee();const Hee=ht(zee);var AE=new Hee,PE="recharts.syncMouseEvents";function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Wee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y4(r.key),r)}}function Kee(t,e,n){return e&&Gee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IE(t,e,n){return e=Y4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4(t){var e=Xee(t,"string");return Ih(e)=="symbol"?e:e+""}function Xee(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qee=function(){function t(){Wee(this,t),IE(this,"activeIndex",0),IE(this,"coordinateList",[]),IE(this,"layout","horizontal")}return Kee(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,u=o===void 0?null:o,c=n.layout,f=c===void 0?null:c,d=n.offset,p=d===void 0?null:d,y=n.mouseHandlerCallback,_=y===void 0?null:y;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,u=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=a+c+f,y=o+this.offset.top+u/2+d;this.mouseHandlerCallback({pageX:p,pageY:y})}}}])}();function Yee(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function Jee(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function J4(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=It(e,n,r,i),u=It(e,n,r,a);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Zee(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,c=e.cy,f=e.innerRadius,d=e.outerRadius,p=e.angle,y=It(u,c,f,p),_=It(u,c,d,p);r=y.x,i=y.y,a=_.x,o=_.y}else return J4(e);return[{x:r,y:i},{x:a,y:o}]}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ete(t,e,n){return e=tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=nte(t,"string");return Oh(e)=="symbol"?e:e+""}function nte(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rte(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,u=t.activePayload,c=t.offset,f=t.activeTooltipIndex,d=t.tooltipAxisBandSize,p=t.layout,y=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!a||!o||y!=="ScatterChart"&&i!=="axis")return null;var x,E=k1;if(y==="ScatterChart")x=o,E=$Q;else if(y==="BarChart")x=Jee(p,o,c,d),E=GT;else if(p==="radial"){var b=J4(o),C=b.cx,k=b.cy,A=b.radius,L=b.startAngle,I=b.endAngle;x={cx:C,cy:k,startAngle:L,endAngle:I,innerRadius:A,outerRadius:A},E=t4}else x={points:Zee(p,o,c)},E=k1;var N=Bp(Bp(Bp(Bp({stroke:"#ccc",pointerEvents:"none"},c),x),Ue(_,!1)),{},{payload:u,payloadIndex:f,className:Ye("recharts-tooltip-cursor",_.className)});return z.isValidElement(_)?z.cloneElement(_,N):z.createElement(E,N)}var ite=["item"],ate=["children","className","width","height","style","compact","title","desc"];function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function gu(){return gu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gu.apply(this,arguments)}function vM(t,e){return lte(t)||ste(t,e)||eV(t,e)||ote()}function ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ste(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,u=[],c=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(c=(r=a.call(n)).done)&&(u.push(r.value),u.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function lte(t){if(Array.isArray(t))return t}function _M(t,e){if(t==null)return{};var n=ute(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ute(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tV(r.key),r)}}function hte(t,e,n){return e&&fte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dte(t,e,n){return e=ug(e),pte(t,Z4()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function pte(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mte(t)}function mte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z4=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function gte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lx(t,e)}function lx(t,e){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lx(t,e)}function Qu(t){return _te(t)||vte(t)||eV(t)||yte()}function yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eV(t,e){if(t){if(typeof t=="string")return ux(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ux(t,e)}}function vte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _te(t){if(Array.isArray(t))return ux(t)}function ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){je(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function je(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t){var e=bte(t,"string");return Xu(e)=="symbol"?e:e+""}function bte(t,e){if(Xu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wte={xAxis:["bottom","top"],yAxis:["left","right"]},Ete={width:"100%",height:"100%"},nV={x:0,y:0};function zp(t){return t}var xte=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Tte=function(e,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,u=i.radius;return oe(oe(oe({},i),It(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var c=a.coordinate,f=i.angle;return oe(oe(oe({},i),It(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return nV},by=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(u,c){var f=c.props.data;return f&&f.length?[].concat(Qu(u),Qu(f)):u},[]);return o.length>0?o:e&&e.length&&ge(i)&&ge(a)?e.slice(i,a+1):[]};function rV(t){return t==="number"?[0,"auto"]:void 0}var cx=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,u=by(n,e);return r<0||!a||!a.length||r>=u.length?null:a.reduce(function(c,f){var d,p=(d=f.props.data)!==null&&d!==void 0?d:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var _=p===void 0?u:p;y=HE(_,o.dataKey,i)}else y=p&&p[r]||u[r];return y?[].concat(Qu(c),[X$(f,y)]):c},[])},wM=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=xte(a,r),u=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,d=uG(o,u,f,c);if(d>=0&&f){var p=f[d]&&f[d].value,y=cx(e,n,d,p),_=Tte(r,u,d,a);return{activeTooltipIndex:d,activeLabel:p,activePayload:y,activeCoordinate:_}}return null},Ste=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.layout,p=e.children,y=e.stackOffset,_=B$(d,a);return r.reduce(function(x,E){var b,C=E.type.defaultProps!==void 0?oe(oe({},E.type.defaultProps),E.props):E.props,k=C.type,A=C.dataKey,L=C.allowDataOverflow,I=C.allowDuplicatedCategory,N=C.scale,P=C.ticks,O=C.includeHidden,M=C[o];if(x[M])return x;var F=by(e.data,{graphicalItems:i.filter(function(G){var ue,be=o in G.props?G.props[o]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[o];return be===M}),dataStartIndex:c,dataEndIndex:f}),D=F.length,V,j,K;Yee(C.domain,L,k)&&(V=S1(C.domain,null,L),_&&(k==="number"||N!=="auto")&&(K=jf(F,A,"category")));var J=rV(k);if(!V||V.length===0){var ie,re=(ie=C.domain)!==null&&ie!==void 0?ie:J;if(A){if(V=jf(F,A,k),k==="category"&&_){var Q=rB(V);I&&Q?(j=V,V=Ym(0,D)):I||(V=x2(re,V,E).reduce(function(G,ue){return G.indexOf(ue)>=0?G:[].concat(Qu(G),[ue])},[]))}else if(k==="category")I?V=V.filter(function(G){return G!==""&&!Je(G)}):V=x2(re,V,E).reduce(function(G,ue){return G.indexOf(ue)>=0||ue===""||Je(ue)?G:[].concat(Qu(G),[ue])},[]);else if(k==="number"){var ee=pG(F,i.filter(function(G){var ue,be,Ae=o in G.props?G.props[o]:(ue=G.type.defaultProps)===null||ue===void 0?void 0:ue[o],Le="hide"in G.props?G.props.hide:(be=G.type.defaultProps)===null||be===void 0?void 0:be.hide;return Ae===M&&(O||!Le)}),A,a,d);ee&&(V=ee)}_&&(k==="number"||N!=="auto")&&(K=jf(F,A,"category"))}else _?V=Ym(0,D):u&&u[M]&&u[M].hasStack&&k==="number"?V=y==="expand"?[0,1]:K$(u[M].stackGroups,c,f):V=q$(F,i.filter(function(G){var ue=o in G.props?G.props[o]:G.type.defaultProps[o],be="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return ue===M&&(O||!be)}),k,d,!0);if(k==="number")V=sx(p,V,M,a,P),re&&(V=S1(re,V,L));else if(k==="category"&&re){var ae=re,B=V.every(function(G){return ae.indexOf(G)>=0});B&&(V=ae)}}return oe(oe({},x),{},je({},M,oe(oe({},C),{},{axisType:a,domain:V,categoricalDomain:K,duplicateDomain:j,originalDomain:(b=C.domain)!==null&&b!==void 0?b:J,isCategorical:_,layout:d})))},{})},Ate=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.layout,p=e.children,y=by(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=y.length,x=B$(d,a),E=-1;return r.reduce(function(b,C){var k=C.type.defaultProps!==void 0?oe(oe({},C.type.defaultProps),C.props):C.props,A=k[o],L=rV("number");if(!b[A]){E++;var I;return x?I=Ym(0,_):u&&u[A]&&u[A].hasStack?(I=K$(u[A].stackGroups,c,f),I=sx(p,I,A,a)):(I=S1(L,q$(y,r.filter(function(N){var P,O,M=o in N.props?N.props[o]:(P=N.type.defaultProps)===null||P===void 0?void 0:P[o],F="hide"in N.props?N.props.hide:(O=N.type.defaultProps)===null||O===void 0?void 0:O.hide;return M===A&&!F}),"number",d),i.defaultProps.allowDataOverflow),I=sx(p,I,A,a)),oe(oe({},b),{},je({},A,oe(oe({axisType:a},i.defaultProps),{},{hide:!0,orientation:Dr(wte,"".concat(a,".").concat(E%2),null),domain:I,originalDomain:L,isCategorical:x,layout:d})))}return b},{})},Pte=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,u=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,d=e.children,p="".concat(i,"Id"),y=Zr(d,a),_={};return y&&y.length?_=Ste(e,{axes:y,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f}):o&&o.length&&(_=Ate(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:u,dataStartIndex:c,dataEndIndex:f})),_},Ite=function(e){var n=To(e),r=Sa(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:bT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vm(n,r)}},EM=function(e){var n=e.children,r=e.defaultShowTooltip,i=kr(n,Uu),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Ote=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ia(n&&n.type);return r&&r.indexOf("Bar")>=0})},xM=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},kte=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,u=e.yAxisMap,c=u===void 0?{}:u,f=r.width,d=r.height,p=r.children,y=r.margin||{},_=kr(p,Uu),x=kr(p,Vs),E=Object.keys(c).reduce(function(I,N){var P=c[N],O=P.orientation;return!P.mirror&&!P.hide?oe(oe({},I),{},je({},O,I[O]+P.width)):I},{left:y.left||0,right:y.right||0}),b=Object.keys(o).reduce(function(I,N){var P=o[N],O=P.orientation;return!P.mirror&&!P.hide?oe(oe({},I),{},je({},O,Dr(I,"".concat(O))+P.height)):I},{top:y.top||0,bottom:y.bottom||0}),C=oe(oe({},b),E),k=C.bottom;_&&(C.bottom+=_.props.height||Uu.defaultProps.height),x&&n&&(C=hG(C,i,r,n));var A=f-C.left-C.right,L=d-C.top-C.bottom;return oe(oe({brushBottom:k},C),{},{width:Math.max(A,0),height:Math.max(L,0)})},Cte=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},iV=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,c=e.axisComponents,f=e.legendContent,d=e.formatAxisMap,p=e.defaultProps,y=function(C,k){var A=k.graphicalItems,L=k.stackGroups,I=k.offset,N=k.updateId,P=k.dataStartIndex,O=k.dataEndIndex,M=C.barSize,F=C.layout,D=C.barGap,V=C.barCategoryGap,j=C.maxBarSize,K=xM(F),J=K.numericAxisName,ie=K.cateAxisName,re=Ote(A),Q=[];return A.forEach(function(ee,ae){var B=by(C.data,{graphicalItems:[ee],dataStartIndex:P,dataEndIndex:O}),G=ee.type.defaultProps!==void 0?oe(oe({},ee.type.defaultProps),ee.props):ee.props,ue=G.dataKey,be=G.maxBarSize,Ae=G["".concat(J,"Id")],Le=G["".concat(ie,"Id")],Ge={},Fe=c.reduce(function(tn,Gn){var Lr=k["".concat(Gn.axisType,"Map")],aa=G["".concat(Gn.axisType,"Id")];Lr&&Lr[aa]||Gn.axisType==="zAxis"||Ks();var Xa=Lr[aa];return oe(oe({},tn),{},je(je({},Gn.axisType,Xa),"".concat(Gn.axisType,"Ticks"),Sa(Xa)))},Ge),de=Fe[ie],Pe=Fe["".concat(ie,"Ticks")],De=L&&L[Ae]&&L[Ae].hasStack&&xG(ee,L[Ae].stackGroups),ce=Ia(ee.type).indexOf("Bar")>=0,ye=Vm(de,Pe),ke=[],Ke=re&&cG({barSize:M,stackGroups:L,totalSize:Cte(Fe,ie)});if(ce){var We,lt,Ft=Je(be)?j:be,xn=(We=(lt=Vm(de,Pe,!0))!==null&&lt!==void 0?lt:Ft)!==null&&We!==void 0?We:0;ke=fG({barGap:D,barCategoryGap:V,bandSize:xn!==ye?xn:ye,sizeList:Ke[Le],maxBarSize:Ft}),xn!==ye&&(ke=ke.map(function(tn){return oe(oe({},tn),{},{position:oe(oe({},tn.position),{},{offset:tn.position.offset-xn/2})})}))}var Tn=ee&&ee.type&&ee.type.getComposedData;Tn&&Q.push({props:oe(oe({},Tn(oe(oe({},Fe),{},{displayedData:B,props:C,dataKey:ue,item:ee,bandSize:ye,barPosition:ke,offset:I,stackedData:De,layout:F,dataStartIndex:P,dataEndIndex:O}))),{},je(je(je({key:ee.key||"item-".concat(ae)},J,Fe[J]),ie,Fe[ie]),"animationId",N)),childIndex:mB(ee,C.children),item:ee})}),Q},_=function(C,k){var A=C.props,L=C.dataStartIndex,I=C.dataEndIndex,N=C.updateId;if(!jO({props:A}))return null;var P=A.children,O=A.layout,M=A.stackOffset,F=A.data,D=A.reverseStackOrder,V=xM(O),j=V.numericAxisName,K=V.cateAxisName,J=Zr(P,r),ie=wG(F,J,"".concat(j,"Id"),"".concat(K,"Id"),M,D),re=c.reduce(function(G,ue){var be="".concat(ue.axisType,"Map");return oe(oe({},G),{},je({},be,Pte(A,oe(oe({},ue),{},{graphicalItems:J,stackGroups:ue.axisType===j&&ie,dataStartIndex:L,dataEndIndex:I}))))},{}),Q=kte(oe(oe({},re),{},{props:A,graphicalItems:J}),k?.legendBBox);Object.keys(re).forEach(function(G){re[G]=d(A,re[G],Q,G.replace("Map",""),n)});var ee=re["".concat(K,"Map")],ae=Ite(ee),B=y(A,oe(oe({},re),{},{dataStartIndex:L,dataEndIndex:I,updateId:N,graphicalItems:J,stackGroups:ie,offset:Q}));return oe(oe({formattedGraphicalItems:B,graphicalItems:J,offset:Q,stackGroups:ie},ae),re)},x=function(b){function C(k){var A,L,I;return cte(this,C),I=dte(this,C,[k]),je(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),je(I,"accessibilityManager",new Qee),je(I,"handleLegendBBoxUpdate",function(N){if(N){var P=I.state,O=P.dataStartIndex,M=P.dataEndIndex,F=P.updateId;I.setState(oe({legendBBox:N},_({props:I.props,dataStartIndex:O,dataEndIndex:M,updateId:F},oe(oe({},I.state),{},{legendBBox:N}))))}}),je(I,"handleReceiveSyncEvent",function(N,P,O){if(I.props.syncId===N){if(O===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(P)}}),je(I,"handleBrushChange",function(N){var P=N.startIndex,O=N.endIndex;if(P!==I.state.dataStartIndex||O!==I.state.dataEndIndex){var M=I.state.updateId;I.setState(function(){return oe({dataStartIndex:P,dataEndIndex:O},_({props:I.props,dataStartIndex:P,dataEndIndex:O,updateId:M},I.state))}),I.triggerSyncEvent({dataStartIndex:P,dataEndIndex:O})}}),je(I,"handleMouseEnter",function(N){var P=I.getMouseInfo(N);if(P){var O=oe(oe({},P),{},{isTooltipActive:!0});I.setState(O),I.triggerSyncEvent(O);var M=I.props.onMouseEnter;Be(M)&&M(O,N)}}),je(I,"triggeredAfterMouseMove",function(N){var P=I.getMouseInfo(N),O=P?oe(oe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(O),I.triggerSyncEvent(O);var M=I.props.onMouseMove;Be(M)&&M(O,N)}),je(I,"handleItemMouseEnter",function(N){I.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),je(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),je(I,"handleMouseMove",function(N){N.persist(),I.throttleTriggeredAfterMouseMove(N)}),je(I,"handleMouseLeave",function(N){I.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var O=I.props.onMouseLeave;Be(O)&&O(P,N)}),je(I,"handleOuterEvent",function(N){var P=pB(N),O=Dr(I.props,"".concat(P));if(P&&Be(O)){var M,F;/.*touch.*/i.test(P)?F=I.getMouseInfo(N.changedTouches[0]):F=I.getMouseInfo(N),O((M=F)!==null&&M!==void 0?M:{},N)}}),je(I,"handleClick",function(N){var P=I.getMouseInfo(N);if(P){var O=oe(oe({},P),{},{isTooltipActive:!0});I.setState(O),I.triggerSyncEvent(O);var M=I.props.onClick;Be(M)&&M(O,N)}}),je(I,"handleMouseDown",function(N){var P=I.props.onMouseDown;if(Be(P)){var O=I.getMouseInfo(N);P(O,N)}}),je(I,"handleMouseUp",function(N){var P=I.props.onMouseUp;if(Be(P)){var O=I.getMouseInfo(N);P(O,N)}}),je(I,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),je(I,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseDown(N.changedTouches[0])}),je(I,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&I.handleMouseUp(N.changedTouches[0])}),je(I,"handleDoubleClick",function(N){var P=I.props.onDoubleClick;if(Be(P)){var O=I.getMouseInfo(N);P(O,N)}}),je(I,"handleContextMenu",function(N){var P=I.props.onContextMenu;if(Be(P)){var O=I.getMouseInfo(N);P(O,N)}}),je(I,"triggerSyncEvent",function(N){I.props.syncId!==void 0&&AE.emit(PE,I.props.syncId,N,I.eventEmitterSymbol)}),je(I,"applySyncEvent",function(N){var P=I.props,O=P.layout,M=P.syncMethod,F=I.state.updateId,D=N.dataStartIndex,V=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)I.setState(oe({dataStartIndex:D,dataEndIndex:V},_({props:I.props,dataStartIndex:D,dataEndIndex:V,updateId:F},I.state)));else if(N.activeTooltipIndex!==void 0){var j=N.chartX,K=N.chartY,J=N.activeTooltipIndex,ie=I.state,re=ie.offset,Q=ie.tooltipTicks;if(!re)return;if(typeof M=="function")J=M(Q,N);else if(M==="value"){J=-1;for(var ee=0;ee<Q.length;ee++)if(Q[ee].value===N.activeLabel){J=ee;break}}var ae=oe(oe({},re),{},{x:re.left,y:re.top}),B=Math.min(j,ae.x+ae.width),G=Math.min(K,ae.y+ae.height),ue=Q[J]&&Q[J].value,be=cx(I.state,I.props.data,J),Ae=Q[J]?{x:O==="horizontal"?Q[J].coordinate:B,y:O==="horizontal"?G:Q[J].coordinate}:nV;I.setState(oe(oe({},N),{},{activeLabel:ue,activeCoordinate:Ae,activePayload:be,activeTooltipIndex:J}))}else I.setState(N)}),je(I,"renderCursor",function(N){var P,O=I.state,M=O.isTooltipActive,F=O.activeCoordinate,D=O.activePayload,V=O.offset,j=O.activeTooltipIndex,K=O.tooltipAxisBandSize,J=I.getTooltipEventType(),ie=(P=N.props.active)!==null&&P!==void 0?P:M,re=I.props.layout,Q=N.key||"_recharts-cursor";return v.createElement(rte,{key:Q,activeCoordinate:F,activePayload:D,activeTooltipIndex:j,chartName:n,element:N,isActive:ie,layout:re,offset:V,tooltipAxisBandSize:K,tooltipEventType:J})}),je(I,"renderPolarAxis",function(N,P,O){var M=Dr(N,"type.axisType"),F=Dr(I.state,"".concat(M,"Map")),D=N.type.defaultProps,V=D!==void 0?oe(oe({},D),N.props):N.props,j=F&&F[V["".concat(M,"Id")]];return z.cloneElement(N,oe(oe({},j),{},{className:Ye(M,j.className),key:N.key||"".concat(P,"-").concat(O),ticks:Sa(j,!0)}))}),je(I,"renderPolarGrid",function(N){var P=N.props,O=P.radialLines,M=P.polarAngles,F=P.polarRadius,D=I.state,V=D.radiusAxisMap,j=D.angleAxisMap,K=To(V),J=To(j),ie=J.cx,re=J.cy,Q=J.innerRadius,ee=J.outerRadius;return z.cloneElement(N,{polarAngles:Array.isArray(M)?M:Sa(J,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(F)?F:Sa(K,!0).map(function(ae){return ae.coordinate}),cx:ie,cy:re,innerRadius:Q,outerRadius:ee,key:N.key||"polar-grid",radialLines:O})}),je(I,"renderLegend",function(){var N=I.state.formattedGraphicalItems,P=I.props,O=P.children,M=P.width,F=P.height,D=I.props.margin||{},V=M-(D.left||0)-(D.right||0),j=F$({children:O,formattedGraphicalItems:N,legendWidth:V,legendContent:f});if(!j)return null;var K=j.item,J=_M(j,ite);return z.cloneElement(K,oe(oe({},J),{},{chartWidth:M,chartHeight:F,margin:D,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),je(I,"renderTooltip",function(){var N,P=I.props,O=P.children,M=P.accessibilityLayer,F=kr(O,wi);if(!F)return null;var D=I.state,V=D.isTooltipActive,j=D.activeCoordinate,K=D.activePayload,J=D.activeLabel,ie=D.offset,re=(N=F.props.active)!==null&&N!==void 0?N:V;return z.cloneElement(F,{viewBox:oe(oe({},ie),{},{x:ie.left,y:ie.top}),active:re,label:J,payload:re?K:[],coordinate:j,accessibilityLayer:M})}),je(I,"renderBrush",function(N){var P=I.props,O=P.margin,M=P.data,F=I.state,D=F.offset,V=F.dataStartIndex,j=F.dataEndIndex,K=F.updateId;return z.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Vp(I.handleBrushChange,N.props.onChange),data:M,x:ge(N.props.x)?N.props.x:D.left,y:ge(N.props.y)?N.props.y:D.top+D.height+D.brushBottom-(O.bottom||0),width:ge(N.props.width)?N.props.width:D.width,startIndex:V,endIndex:j,updateId:"brush-".concat(K)})}),je(I,"renderReferenceElement",function(N,P,O){if(!N)return null;var M=I,F=M.clipPathId,D=I.state,V=D.xAxisMap,j=D.yAxisMap,K=D.offset,J=N.type.defaultProps||{},ie=N.props,re=ie.xAxisId,Q=re===void 0?J.xAxisId:re,ee=ie.yAxisId,ae=ee===void 0?J.yAxisId:ee;return z.cloneElement(N,{key:N.key||"".concat(P,"-").concat(O),xAxis:V[Q],yAxis:j[ae],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:F})}),je(I,"renderActivePoints",function(N){var P=N.item,O=N.activePoint,M=N.basePoint,F=N.childIndex,D=N.isRange,V=[],j=P.props.key,K=P.item.type.defaultProps!==void 0?oe(oe({},P.item.type.defaultProps),P.item.props):P.item.props,J=K.activeDot,ie=K.dataKey,re=oe(oe({index:F,dataKey:ie,cx:O.x,cy:O.y,r:4,fill:WT(P.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ue(J,!1)),mm(J));return V.push(C.renderActiveDot(J,re,"".concat(j,"-activePoint-").concat(F))),M?V.push(C.renderActiveDot(J,oe(oe({},re),{},{cx:M.x,cy:M.y}),"".concat(j,"-basePoint-").concat(F))):D&&V.push(null),V}),je(I,"renderGraphicChild",function(N,P,O){var M=I.filterFormatItem(N,P,O);if(!M)return null;var F=I.getTooltipEventType(),D=I.state,V=D.isTooltipActive,j=D.tooltipAxis,K=D.activeTooltipIndex,J=D.activeLabel,ie=I.props.children,re=kr(ie,wi),Q=M.props,ee=Q.points,ae=Q.isRange,B=Q.baseLine,G=M.item.type.defaultProps!==void 0?oe(oe({},M.item.type.defaultProps),M.item.props):M.item.props,ue=G.activeDot,be=G.hide,Ae=G.activeBar,Le=G.activeShape,Ge=!!(!be&&V&&re&&(ue||Ae||Le)),Fe={};F!=="axis"&&re&&re.props.trigger==="click"?Fe={onClick:Vp(I.handleItemMouseEnter,N.props.onClick)}:F!=="axis"&&(Fe={onMouseLeave:Vp(I.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Vp(I.handleItemMouseEnter,N.props.onMouseEnter)});var de=z.cloneElement(N,oe(oe({},M.props),Fe));function Pe(Gn){return typeof j.dataKey=="function"?j.dataKey(Gn.payload):null}if(Ge)if(K>=0){var De,ce;if(j.dataKey&&!j.allowDuplicatedCategory){var ye=typeof j.dataKey=="function"?Pe:"payload.".concat(j.dataKey.toString());De=HE(ee,ye,J),ce=ae&&B&&HE(B,ye,J)}else De=ee?.[K],ce=ae&&B&&B[K];if(Le||Ae){var ke=N.props.activeIndex!==void 0?N.props.activeIndex:K;return[z.cloneElement(N,oe(oe(oe({},M.props),Fe),{},{activeIndex:ke})),null,null]}if(!Je(De))return[de].concat(Qu(I.renderActivePoints({item:M,activePoint:De,basePoint:ce,childIndex:K,isRange:ae})))}else{var Ke,We=(Ke=I.getItemByXY(I.state.activeCoordinate))!==null&&Ke!==void 0?Ke:{graphicalItem:de},lt=We.graphicalItem,Ft=lt.item,xn=Ft===void 0?N:Ft,Tn=lt.childIndex,tn=oe(oe(oe({},M.props),Fe),{},{activeIndex:Tn});return[z.cloneElement(xn,tn),null,null]}return ae?[de,null,null]:[de,null]}),je(I,"renderCustomized",function(N,P,O){return z.cloneElement(N,oe(oe({key:"recharts-customized-".concat(O)},I.props),I.state))}),je(I,"renderMap",{CartesianGrid:{handler:zp,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:zp},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:zp},YAxis:{handler:zp},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((A=k.id)!==null&&A!==void 0?A:Wh("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=Vj(I.triggeredAfterMouseMove,(L=k.throttleDelay)!==null&&L!==void 0?L:1e3/60),I.state={},I}return gte(C,b),hte(C,[{key:"componentDidMount",value:function(){var A,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,L=A.children,I=A.data,N=A.height,P=A.layout,O=kr(L,wi);if(O){var M=O.props.defaultIndex;if(!(typeof M!="number"||M<0||M>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[M]&&this.state.tooltipTicks[M].value,D=cx(this.state,I,M,F),V=this.state.tooltipTicks[M].coordinate,j=(this.state.offset.top+N)/2,K=P==="horizontal",J=K?{x:V,y:j}:{y:V,x:j},ie=this.state.formattedGraphicalItems.find(function(Q){var ee=Q.item;return ee.type.name==="Scatter"});ie&&(J=oe(oe({},J),ie.props.points[M].tooltipPosition),D=ie.props.points[M].tooltipPayload);var re={activeTooltipIndex:M,isTooltipActive:!0,activeLabel:F,activePayload:D,activeCoordinate:J};this.setState(re),this.renderCursor(O),this.accessibilityManager.setIndex(M)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var I,N;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(A){GE([kr(A.children,wi)],[kr(this.props.children,wi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=kr(this.props.children,wi);if(A&&typeof A.props.shared=="boolean"){var L=A.props.shared?"axis":"item";return u.indexOf(L)>=0?L:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var L=this.container,I=L.getBoundingClientRect(),N=t8(I),P={chartX:Math.round(A.pageX-N.left),chartY:Math.round(A.pageY-N.top)},O=I.width/L.offsetWidth||1,M=this.inRange(P.chartX,P.chartY,O);if(!M)return null;var F=this.state,D=F.xAxisMap,V=F.yAxisMap,j=this.getTooltipEventType(),K=wM(this.state,this.props.data,this.props.layout,M);if(j!=="axis"&&D&&V){var J=To(D).scale,ie=To(V).scale,re=J&&J.invert?J.invert(P.chartX):null,Q=ie&&ie.invert?ie.invert(P.chartY):null;return oe(oe({},P),{},{xValue:re,yValue:Q},K)}return K?oe(oe({},P),K):null}},{key:"inRange",value:function(A,L){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,P=A/I,O=L/I;if(N==="horizontal"||N==="vertical"){var M=this.state.offset,F=P>=M.left&&P<=M.left+M.width&&O>=M.top&&O<=M.top+M.height;return F?{x:P,y:O}:null}var D=this.state,V=D.angleAxisMap,j=D.radiusAxisMap;if(V&&j){var K=To(V);return A2({x:P,y:O},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,L=this.getTooltipEventType(),I=kr(A,wi),N={};I&&L==="axis"&&(I.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=mm(this.props,this.handleOuterEvent);return oe(oe({},P),N)}},{key:"addListener",value:function(){AE.on(PE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){AE.removeListener(PE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,L,I){for(var N=this.state.formattedGraphicalItems,P=0,O=N.length;P<O;P++){var M=N[P];if(M.item===A||M.props.key===A.key||L===Ia(M.item.type)&&I===M.childIndex)return M}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,L=this.state.offset,I=L.left,N=L.top,P=L.height,O=L.width;return v.createElement("defs",null,v.createElement("clipPath",{id:A},v.createElement("rect",{x:I,y:N,height:P,width:O})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(L,I){var N=vM(I,2),P=N[0],O=N[1];return oe(oe({},L),{},je({},P,O.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(L,I){var N=vM(I,2),P=N[0],O=N[1];return oe(oe({},L),{},je({},P,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[A])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function(A){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[A])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function(A){var L=this.state,I=L.formattedGraphicalItems,N=L.activeItem;if(I&&I.length)for(var P=0,O=I.length;P<O;P++){var M=I[P],F=M.props,D=M.item,V=D.type.defaultProps!==void 0?oe(oe({},D.type.defaultProps),D.props):D.props,j=Ia(D.type);if(j==="Bar"){var K=(F.data||[]).find(function(Q){return vQ(A,Q)});if(K)return{graphicalItem:M,payload:K}}else if(j==="RadialBar"){var J=(F.data||[]).find(function(Q){return A2(A,Q)});if(J)return{graphicalItem:M,payload:J}}else if(fy(M,N)||hy(M,N)||xh(M,N)){var ie=UY({graphicalItem:M,activeTooltipItem:N,itemData:V.data}),re=V.activeIndex===void 0?ie:V.activeIndex;return{graphicalItem:oe(oe({},M),{},{childIndex:re}),payload:xh(M,N)?V.data[ie]:M.props.data[ie]}}}return null}},{key:"render",value:function(){var A=this;if(!jO(this))return null;var L=this.props,I=L.children,N=L.className,P=L.width,O=L.height,M=L.style,F=L.compact,D=L.title,V=L.desc,j=_M(L,ate),K=Ue(j,!1);if(F)return v.createElement(nM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},v.createElement(XE,gu({},K,{width:P,height:O,title:D,desc:V}),this.renderClipPath(),VO(I,this.renderMap)));if(this.props.accessibilityLayer){var J,ie;K.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,K.role=(ie=this.props.role)!==null&&ie!==void 0?ie:"application",K.onKeyDown=function(Q){A.accessibilityManager.keyboardEvent(Q)},K.onFocus=function(){A.accessibilityManager.focus()}}var re=this.parseEventsOfWrapper();return v.createElement(nM,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},v.createElement("div",gu({className:Ye("recharts-wrapper",N),style:oe({position:"relative",cursor:"default",width:P,height:O},M)},re,{ref:function(ee){A.container=ee}}),v.createElement(XE,gu({},K,{width:P,height:O,title:D,desc:V,style:Ete}),this.renderClipPath(),VO(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(z.Component);je(x,"displayName",n),je(x,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),je(x,"getDerivedStateFromProps",function(b,C){var k=b.dataKey,A=b.data,L=b.children,I=b.width,N=b.height,P=b.layout,O=b.stackOffset,M=b.margin,F=C.dataStartIndex,D=C.dataEndIndex;if(C.updateId===void 0){var V=EM(b);return oe(oe(oe({},V),{},{updateId:0},_(oe(oe({props:b},V),{},{updateId:0}),C)),{},{prevDataKey:k,prevData:A,prevWidth:I,prevHeight:N,prevLayout:P,prevStackOffset:O,prevMargin:M,prevChildren:L})}if(k!==C.prevDataKey||A!==C.prevData||I!==C.prevWidth||N!==C.prevHeight||P!==C.prevLayout||O!==C.prevStackOffset||!_u(M,C.prevMargin)){var j=EM(b),K={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},J=oe(oe({},wM(C,A,P)),{},{updateId:C.updateId+1}),ie=oe(oe(oe({},j),K),J);return oe(oe(oe({},ie),_(oe({props:b},ie),C)),{},{prevDataKey:k,prevData:A,prevWidth:I,prevHeight:N,prevLayout:P,prevStackOffset:O,prevMargin:M,prevChildren:L})}if(!GE(L,C.prevChildren)){var re,Q,ee,ae,B=kr(L,Uu),G=B&&(re=(Q=B.props)===null||Q===void 0?void 0:Q.startIndex)!==null&&re!==void 0?re:F,ue=B&&(ee=(ae=B.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&ee!==void 0?ee:D,be=G!==F||ue!==D,Ae=!Je(A),Le=Ae&&!be?C.updateId:C.updateId+1;return oe(oe({updateId:Le},_(oe(oe({props:b},C),{},{updateId:Le,dataStartIndex:G,dataEndIndex:ue}),C)),{},{prevChildren:L,dataStartIndex:G,dataEndIndex:ue})}return null}),je(x,"renderActiveDot",function(b,C,k){var A;return z.isValidElement(b)?A=z.cloneElement(b,C):Be(b)?A=b(C):A=v.createElement(KT,C),v.createElement(mt,{className:"recharts-active-dot",key:k},A)});var E=z.forwardRef(function(C,k){return v.createElement(x,gu({},C,{ref:k}))});return E.displayName=x.displayName,E},Rte=iV({chartName:"BarChart",GraphicalChild:ll,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vy},{axisType:"yAxis",AxisComp:_y}],formatAxisMap:zJ}),Nte=iV({chartName:"PieChart",GraphicalChild:Wa,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cy},{axisType:"radiusAxis",AxisComp:ly}],formatAxisMap:NG,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Mte=()=>{};var TM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dte=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],u=t[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},oV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,u=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,d=a>>2,p=(a&3)<<4|u>>4;let y=(u&15)<<2|f>>6,_=f&63;c||(_=64,o||(y=64)),r.push(n[d],n[p],n[y],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dte(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||u==null||f==null||p==null)throw new Lte;const y=a<<2|u>>4;if(r.push(y),f!==64){const _=u<<4&240|f>>2;if(r.push(_),p!==64){const x=f<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Lte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jte=function(t){const e=aV(t);return oV.encodeByteArray(e,!0)},cg=function(t){return jte(t).replace(/\./g,"")},sV=function(t){try{return oV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte=()=>$te().__FIREBASE_DEFAULTS__,Fte=()=>{if(typeof process>"u"||typeof TM>"u")return;const t=TM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ute=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sV(t[1]);return e&&JSON.parse(e)},wy=()=>{try{return Mte()||Vte()||Fte()||Ute()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lV=t=>{var e,n;return(n=(e=wy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iS=t=>{const e=lV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uV=()=>{var t;return(t=wy())===null||t===void 0?void 0:t.config},cV=t=>{var e;return(e=wy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){return t.endsWith(".cloudworkstations.dev")}async function Ey(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[cg(JSON.stringify(n)),cg(JSON.stringify(o)),""].join(".")}const Uf={};function Bte(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uf))Uf[e]?t.emulator.push(e):t.prod.push(e);return t}function zte(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let SM=!1;function xy(t,e){if(typeof window>"u"||typeof document>"u"||!Ga(window.location.host)||Uf[t]===e||Uf[t]||SM)return;Uf[t]=e;function n(y){return`__firebase__banner__${y}`}const r="__firebase__banner",a=Bte().prod.length>0;function o(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function c(y,_){y.setAttribute("width","24"),y.setAttribute("id",_),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{SM=!0,o()},y}function d(y,_){y.setAttribute("id",_),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function p(){const y=zte(r),_=n("text"),x=document.getElementById(_)||document.createElement("span"),E=n("learnmore"),b=document.getElementById(E)||document.createElement("a"),C=n("preprendIcon"),k=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const A=y.element;u(A),d(b,E);const L=f();c(k,C),A.append(k,x,b,L),document.body.appendChild(A)}a?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hte(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function Wte(){var t;const e=(t=wy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gte(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kte(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xte(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qte(){const t=Wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Yte(){return!Wte()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jte(){try{return typeof indexedDB=="object"}catch{return!1}}function Zte(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene="FirebaseError";class Ci extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ene,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jh.prototype.create)}}class Jh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?tne(a,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new Ci(i,u,r)}}function tne(t,e){return t.replace(nne,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nne=/\{\$([^}]+)}/g;function rne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(AM(a)&&AM(o)){if(!Qs(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function If(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ine(t,e){const n=new ane(t,e);return n.subscribe.bind(n)}class ane{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");one(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=OE),i.error===void 0&&(i.error=OE),i.complete===void 0&&(i.complete=OE);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function one(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function OE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t){return t&&t._delegate?t._delegate:t}class ja{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qte;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(une(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&e(o,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lne(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lne(t){return t===Cs?void 0:t}function une(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(et||(et={}));const fne={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},hne=et.INFO,dne={[et.DEBUG]:"log",[et.VERBOSE]:"log",[et.INFO]:"info",[et.WARN]:"warn",[et.ERROR]:"error"},pne=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dne[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class aS{constructor(e){this.name=e,this._logLevel=hne,this._logHandler=pne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fne[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,et.DEBUG,...e),this._logHandler(this,et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,et.VERBOSE,...e),this._logHandler(this,et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,et.INFO,...e),this._logHandler(this,et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,et.WARN,...e),this._logHandler(this,et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,et.ERROR,...e),this._logHandler(this,et.ERROR,...e)}}const mne=(t,e)=>e.some(n=>t instanceof n);let PM,IM;function gne(){return PM||(PM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yne(){return IM||(IM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hV=new WeakMap,fx=new WeakMap,dV=new WeakMap,kE=new WeakMap,oS=new WeakMap;function vne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Mo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hV.set(n,t)}).catch(()=>{}),oS.set(e,t),e}function _ne(t){if(fx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});fx.set(t,e)}let hx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bne(t){hx=t(hx)}function wne(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(CE(this),e,...n);return dV.set(r,e.sort?e.sort():[e]),Mo(r)}:yne().includes(t)?function(...e){return t.apply(CE(this),e),Mo(hV.get(this))}:function(...e){return Mo(t.apply(CE(this),e))}}function Ene(t){return typeof t=="function"?wne(t):(t instanceof IDBTransaction&&_ne(t),mne(t,gne())?new Proxy(t,hx):t)}function Mo(t){if(t instanceof IDBRequest)return vne(t);if(kE.has(t))return kE.get(t);const e=Ene(t);return e!==t&&(kE.set(t,e),oS.set(e,t)),e}const CE=t=>oS.get(t);function xne(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),u=Mo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Mo(o.result),c.oldVersion,c.newVersion,Mo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const Tne=["get","getKey","getAll","getAllKeys","count"],Sne=["put","add","delete","clear"],RE=new Map;function OM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(RE.get(e))return RE.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Sne.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Tne.includes(n)))return;const a=async function(o,...u){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),i&&c.done]))[0]};return RE.set(e,a),a}bne(t=>({...t,get:(e,n,r)=>OM(e,n)||t.get(e,n,r),has:(e,n)=>!!OM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pne(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pne(t){const e=t.getComponent();return e?.type==="VERSION"}const dx="@firebase/app",kM="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=new aS("@firebase/app"),Ine="@firebase/app-compat",One="@firebase/analytics-compat",kne="@firebase/analytics",Cne="@firebase/app-check-compat",Rne="@firebase/app-check",Nne="@firebase/auth",Mne="@firebase/auth-compat",Dne="@firebase/database",Lne="@firebase/data-connect",jne="@firebase/database-compat",$ne="@firebase/functions",Vne="@firebase/functions-compat",Fne="@firebase/installations",Une="@firebase/installations-compat",qne="@firebase/messaging",Bne="@firebase/messaging-compat",zne="@firebase/performance",Hne="@firebase/performance-compat",Wne="@firebase/remote-config",Gne="@firebase/remote-config-compat",Kne="@firebase/storage",Xne="@firebase/storage-compat",Qne="@firebase/firestore",Yne="@firebase/ai",Jne="@firebase/firestore-compat",Zne="firebase",ere="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="[DEFAULT]",tre={[dx]:"fire-core",[Ine]:"fire-core-compat",[kne]:"fire-analytics",[One]:"fire-analytics-compat",[Rne]:"fire-app-check",[Cne]:"fire-app-check-compat",[Nne]:"fire-auth",[Mne]:"fire-auth-compat",[Dne]:"fire-rtdb",[Lne]:"fire-data-connect",[jne]:"fire-rtdb-compat",[$ne]:"fire-fn",[Vne]:"fire-fn-compat",[Fne]:"fire-iid",[Une]:"fire-iid-compat",[qne]:"fire-fcm",[Bne]:"fire-fcm-compat",[zne]:"fire-perf",[Hne]:"fire-perf-compat",[Wne]:"fire-rc",[Gne]:"fire-rc-compat",[Kne]:"fire-gcs",[Xne]:"fire-gcs-compat",[Qne]:"fire-fst",[Jne]:"fire-fst-compat",[Yne]:"fire-vertex","fire-js":"fire-js",[Zne]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=new Map,mx=new Map,gx=new Map;function CM(t,e){try{t.container.addComponent(e)}catch(n){$a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(gx.has(e))return $a.debug(`There were multiple attempts to register component ${e}.`),!1;gx.set(e,t);for(const n of Yu.values())CM(n,t);for(const n of mx.values())CM(n,t);return!0}function ed(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new Jh("app","Firebase",nre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rre{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=ere;function sS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:px,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Do.create("bad-app-name",{appName:String(i)});if(n||(n=uV()),!n)throw Do.create("no-options");const a=Yu.get(i);if(a){if(Qs(n,a.options)&&Qs(r,a.config))return a;throw Do.create("duplicate-app",{appName:i})}const o=new cne(i);for(const c of gx.values())o.addComponent(c);const u=new rre(n,r,o);return Yu.set(i,u),u}function Ty(t=px){const e=Yu.get(t);if(!e&&t===px&&uV())return sS();if(!e)throw Do.create("no-app",{appName:t});return e}async function ire(t){let e=!1;const n=t.name;Yu.has(n)?(e=!0,Yu.delete(n)):mx.has(n)&&t.decRefCount()<=0&&(mx.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function ei(t,e,n){var r;let i=(r=tre[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$a.warn(u.join(" "));return}$o(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const are="firebase-heartbeat-database",ore=1,kh="firebase-heartbeat-store";let NE=null;function pV(){return NE||(NE=xne(are,ore,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),NE}async function sre(t){try{const n=(await pV()).transaction(kh),r=await n.objectStore(kh).get(mV(t));return await n.done,r}catch(e){if(e instanceof Ci)$a.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e?.message});$a.warn(n.message)}}}async function RM(t,e){try{const r=(await pV()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,mV(t)),await r.done}catch(n){if(n instanceof Ci)$a.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n?.message});$a.warn(r.message)}}}function mV(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=1024,ure=30;class cre{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hre(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=NM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ure){const o=dre(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NM(),{heartbeatsToSend:r,unsentEntries:i}=fre(this._heartbeatsCache.heartbeats),a=cg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return $a.warn(n),""}}}function NM(){return new Date().toISOString().substring(0,10)}function fre(t,e=lre){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),MM(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),MM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class hre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jte()?Zte().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sre(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function MM(t){return cg(JSON.stringify({version:2,heartbeats:t})).length}function dre(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pre(t){$o(new ja("platform-logger",e=>new Ane(e),"PRIVATE")),$o(new ja("heartbeat",e=>new cre(e),"PRIVATE")),ei(dx,kM,t),ei(dx,kM,"esm2017"),ei("fire-js","")}pre("");var mre="firebase",gre="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(mre,gre,"app");function lS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yre=gV,yV=new Jh("auth","Firebase",gV());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=new aS("@firebase/auth");function vre(t,...e){fg.logLevel<=et.WARN&&fg.warn(`Auth (${ul}): ${t}`,...e)}function tm(t,...e){fg.logLevel<=et.ERROR&&fg.error(`Auth (${ul}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,...e){throw uS(t,...e)}function Qi(t,...e){return uS(t,...e)}function vV(t,e,n){const r=Object.assign(Object.assign({},yre()),{[e]:n});return new Jh("auth","Firebase",r).create(e,{appName:t.name})}function ka(t){return vV(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yV.create(t,...e)}function $e(t,e,...n){if(!t)throw uS(e,...n)}function Aa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw tm(e),new Error(e)}function Va(t,e){t||Aa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _re(){return DM()==="http:"||DM()==="https:"}function DM(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bre(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_re()||Kte()||"connection"in navigator)?navigator.onLine:!0}function wre(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n){this.shortDelay=e,this.longDelay=n,Va(n>e,"Short delay should be less than long delay!"),this.isMobile=Hte()||Xte()}get(){return bre()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t,e){Va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Aa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Aa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Aa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tre=new td(3e4,6e4);function Xo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qo(t,e,n,r,i={}){return bV(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const u=Zh(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:c},a);return Gte()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(f.credentials="include"),_V.fetch()(await wV(t,t.config.apiHost,n,u),f)})}async function bV(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ere),e);try{const i=new Are(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Hp(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const u=a.ok?o.errorMessage:o.error.message,[c,f]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hp(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hp(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hp(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw vV(t,d,f);Pi(t,d)}}catch(i){if(i instanceof Ci)throw i;Pi(t,"network-request-failed",{message:String(i)})}}async function nd(t,e,n,r,i={}){const a=await Qo(t,e,n,r,i);return"mfaPendingCredential"in a&&Pi(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function wV(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?cS(t.config,i):`${t.config.apiScheme}://${i}`;return xre.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Sre(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Are{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),Tre.get())})}}function Hp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qi(t,e,r);return i.customData._tokenResponse=n,i}function LM(t){return t!==void 0&&t.enterprise!==void 0}class Pre{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sre(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Ire(t,e){return Qo(t,"GET","/v2/recaptchaConfig",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ore(t,e){return Qo(t,"POST","/v1/accounts:delete",e)}async function hg(t,e){return Qo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kre(t,e=!1){const n=Et(t),r=await n.getIdToken(e),i=fS(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:qf(ME(i.auth_time)),issuedAtTime:qf(ME(i.iat)),expirationTime:qf(ME(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ME(t){return Number(t)*1e3}function fS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return tm("JWT malformed, contained fewer than 3 sections"),null;try{const i=sV(n);return i?JSON.parse(i):(tm("Failed to decode base64 JWT payload"),null)}catch(i){return tm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jM(t){const e=fS(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ci&&Cre(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cre({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qf(this.lastLoginAt),this.creationTime=qf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ch(t,hg(n,{idToken:r}));$e(i?.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?EV(a.providerUserInfo):[],u=Mre(t.providerData,o),c=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,d=c?f:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new vx(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function Nre(t){const e=Et(t);await dg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mre(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EV(t){return t.map(e=>{var{providerId:n}=e,r=lS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dre(t,e){const n=await bV(t,{},async()=>{const r=Zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await wV(t,i,"/v1/token",`key=${a}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ga(t.emulatorConfig.host)&&(c.credentials="include"),_V.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lre(t,e){return Qo(t,"POST","/v2/accounts:revokeToken",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=jM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await Dre(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new Eu;return r&&($e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&($e(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eu,this.toJSON())}_performRefresh(){return Aa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=lS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rre(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new vx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ch(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kre(this,e)}reload(){return Nre(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await Ch(this,Ore(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,o,u,c,f,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,_=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(f=n.createdAt)!==null&&f!==void 0?f:void 0,k=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:A,emailVerified:L,isAnonymous:I,providerData:N,stsTokenManager:P}=n;$e(A&&P,e,"internal-error");const O=Eu.fromJSON(this.name,P);$e(typeof A=="string",e,"internal-error"),wo(p,e.name),wo(y,e.name),$e(typeof L=="boolean",e,"internal-error"),$e(typeof I=="boolean",e,"internal-error"),wo(_,e.name),wo(x,e.name),wo(E,e.name),wo(b,e.name),wo(C,e.name),wo(k,e.name);const M=new Ti({uid:A,auth:e,email:y,emailVerified:L,displayName:p,isAnonymous:I,photoURL:x,phoneNumber:_,tenantId:E,stsTokenManager:O,createdAt:C,lastLoginAt:k});return N&&Array.isArray(N)&&(M.providerData=N.map(F=>Object.assign({},F))),b&&(M._redirectEventId=b),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Eu;i.updateFromServerResponse(n);const a=new Ti({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dg(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$e(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?EV(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,u=new Eu;u.updateFromIdToken(r);const c=new Ti({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new vx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new Map;function Pa(t){Va(t instanceof Function,"Expected a class definition");let e=$M.get(t);return e?(Va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$M.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xV.type="NONE";const VM=xV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(t,e,n){return`firebase:${t}:${e}:${n}`}class xu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=nm(this.userKey,i.apiKey,a),this.fullPersistenceKey=nm("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await hg(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xu(Pa(VM),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let a=i[0]||Pa(VM);const o=nm(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const d=await f._get(o);if(d){let p;if(typeof d=="string"){const y=await hg(e,{idToken:d}).catch(()=>{});if(!y)break;p=await Ti._fromGetAccountInfoResponse(e,y,d)}else p=Ti._fromJSON(e,d);f!==a&&(u=p),a=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new xu(a,e,r):(a=c[0],u&&await a._set(o,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==a)try{await f._remove(o)}catch{}})),new xu(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OV(e))return"Blackberry";if(kV(e))return"Webos";if(SV(e))return"Safari";if((e.includes("chrome/")||AV(e))&&!e.includes("edge/"))return"Chrome";if(IV(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function TV(t=Wn()){return/firefox\//i.test(t)}function SV(t=Wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AV(t=Wn()){return/crios\//i.test(t)}function PV(t=Wn()){return/iemobile/i.test(t)}function IV(t=Wn()){return/android/i.test(t)}function OV(t=Wn()){return/blackberry/i.test(t)}function kV(t=Wn()){return/webos/i.test(t)}function hS(t=Wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jre(t=Wn()){var e;return hS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $re(){return Qte()&&document.documentMode===10}function CV(t=Wn()){return hS(t)||IV(t)||kV(t)||OV(t)||/windows phone/i.test(t)||PV(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t,e=[]){let n;switch(t){case"Browser":n=FM(Wn());break;case"Worker":n=`${FM(Wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ul}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,u)=>{try{const c=e(a);o(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fre(t,e={}){return Qo(t,"GET","/v2/passwordPolicy",Xo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ure=6;class qre{constructor(e){var n,r,i,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ure,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UM(this),this.idTokenSubscription=new UM(this),this.beforeStateQueue=new Vre(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pa(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await xu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await hg(this,{idToken:e}),r=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===u)&&c?.user&&(i=c.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wre()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(ka(this));const n=e?Et(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Fre(this),n=new qre(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Lre(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pa(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await xu.create(this,[Pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(u,this,"internal-error"),u.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&vre(`Error while retrieving App Check token: ${n.error}`),n?.token}}function cl(t){return Et(t)}class UM{constructor(e){this.auth=e,this.observer=null,this.addObserver=ine(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zre(t){Sy=t}function NV(t){return Sy.loadJS(t)}function Hre(){return Sy.recaptchaEnterpriseScript}function Wre(){return Sy.gapiScript}function Gre(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Kre{constructor(){this.enterprise=new Xre}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Xre{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Qre="recaptcha-enterprise",MV="NO_RECAPTCHA";class Yre{constructor(e){this.type=Qre,this.auth=cl(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,u)=>{Ire(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new Pre(c);return a.tenantId==null?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,o(f.siteKey)}}).catch(c=>{u(c)})})}function i(a,o,u){const c=window.grecaptcha;LM(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(f=>{o(f)}).catch(()=>{o(MV)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kre().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(u=>{if(!n&&LM(window.grecaptcha))i(u,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Hre();c.length!==0&&(c+=u),NV(c).then(()=>{i(u,a,o)}).catch(f=>{o(f)})}}).catch(u=>{o(u)})})}}async function qM(t,e,n,r=!1,i=!1){const a=new Yre(t);let o;if(i)o=MV;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const u=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function _x(t,e,n,r,i){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qM(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await qM(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jre(t,e){const n=ed(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Qs(a,e??{}))return i;Pi(i,"already-initialized")}return n.initialize({options:e})}function Zre(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Pa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function eie(t,e,n){const r=cl(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=DV(e),{host:o,port:u}=tie(e),c=u===null?"":`:${u}`,f={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(Qs(f,r.config.emulator)&&Qs(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ga(o)?(Ey(`${a}//${o}${c}`),xy("Auth",!0)):nie()}function DV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tie(t){const e=DV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:BM(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:BM(o)}}}function BM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Aa("not implemented")}_getIdTokenResponse(e){return Aa("not implemented")}_linkToIdToken(e,n){return Aa("not implemented")}_getReauthenticationResolver(e){return Aa("not implemented")}}async function rie(t,e){return Qo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iie(t,e){return nd(t,"POST","/v1/accounts:signInWithPassword",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aie(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}async function oie(t,e){return nd(t,"POST","/v1/accounts:signInWithEmailLink",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends dS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _x(e,n,"signInWithPassword",iie);case"emailLink":return aie(e,{email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _x(e,r,"signUpPassword",rie);case"emailLink":return oie(e,{idToken:n,email:this._email,oobCode:this._password});default:Pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e){return nd(t,"POST","/v1/accounts:signInWithIdp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sie="http://localhost";class Ys extends dS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=lS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ys(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tu(e,n)}buildRequest(){const e={requestUri:sie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uie(t){const e=Pf(If(t)).link,n=e?Pf(If(e)).deep_link_id:null,r=Pf(If(t)).deep_link_id;return(r?Pf(If(r)).link:null)||r||n||e||t}class pS{constructor(e){var n,r,i,a,o,u;const c=Pf(If(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=lie((i=c.mode)!==null&&i!==void 0?i:null);$e(f&&d&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=d,this.continueUrl=(a=c.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(u=c.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const n=uie(e);try{return new pS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(){this.providerId=mc.PROVIDER_ID}static credential(e,n){return Rh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pS.parseLink(n);return $e(r,"argument-error"),Rh._fromEmailAndCode(e,r.code,r.tenantId)}}mc.PROVIDER_ID="password";mc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd extends LV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends rd{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.FACEBOOK_SIGN_IN_METHOD="facebook.com";So.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends rd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ao.credential(n,r)}catch{return null}}}Ao.GOOGLE_SIGN_IN_METHOD="google.com";Ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends rd{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com";Po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends rd{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Io.credential(n,r)}catch{return null}}}Io.TWITTER_SIGN_IN_METHOD="twitter.com";Io.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cie(t,e){return nd(t,"POST","/v1/accounts:signUp",Xo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ti._fromIdTokenResponse(e,r,i),o=zM(r);return new Js({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=zM(r);return new Js({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function zM(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg extends Ci{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pg.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pg(e,n,r,i)}}function jV(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?pg._fromErrorAndOperation(t,a,e,r):a})}async function fie(t,e,n=!1){const r=await Ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hie(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(ka(r));const i="reauthenticate";try{const a=await Ch(t,jV(r,i,e,t),n);$e(a.idToken,r,"internal-error");const o=fS(a.idToken);$e(o,r,"internal-error");const{sub:u}=o;return $e(t.uid===u,r,"user-mismatch"),Js._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Pi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e,n=!1){if(gr(t.app))return Promise.reject(ka(t));const r="signIn",i=await jV(t,r,e),a=await Js._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function die(t,e){return $V(cl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VV(t){const e=cl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pie(t,e,n){if(gr(t.app))return Promise.reject(ka(t));const r=cl(t),o=await _x(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cie).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&VV(t),c}),u=await Js._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(u.user),u}function mie(t,e,n){return gr(t.app)?Promise.reject(ka(t)):die(Et(t),mc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VV(t),r})}function gie(t,e,n,r){return Et(t).onIdTokenChanged(e,n,r)}function yie(t,e,n){return Et(t).beforeAuthStateChanged(e,n)}function vie(t,e,n,r){return Et(t).onAuthStateChanged(e,n,r)}function DE(t){return Et(t).signOut()}const mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mg,"1"),this.storage.removeItem(mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ie=1e3,bie=10;class UV extends FV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);$re()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,bie):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_ie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UV.type="LOCAL";const wie=UV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV extends FV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qV.type="SESSION";const BV=qV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eie(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ay(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async f=>f(n.origin,a)),c=await Eie(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ay.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((u,c)=>{const f=mS("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const y=p;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(y.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return window}function Tie(t){Yi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function Sie(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Aie(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Pie(){return zV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="firebaseLocalStorageDb",Iie=1,gg="firebaseLocalStorage",WV="fbase_key";class id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Py(t,e){return t.transaction([gg],e?"readwrite":"readonly").objectStore(gg)}function Oie(){const t=indexedDB.deleteDatabase(HV);return new id(t).toPromise()}function bx(){const t=indexedDB.open(HV,Iie);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gg,{keyPath:WV})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gg)?e(r):(r.close(),await Oie(),e(await bx()))})})}async function HM(t,e,n){const r=Py(t,!0).put({[WV]:e,value:n});return new id(r).toPromise()}async function kie(t,e){const n=Py(t,!1).get(e),r=await new id(n).toPromise();return r===void 0?null:r.value}function WM(t,e){const n=Py(t,!0).delete(e);return new id(n).toPromise()}const Cie=800,Rie=3;class GV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Rie)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ay._getInstance(Pie()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Sie(),!this.activeServiceWorker)return;this.sender=new xie(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Aie()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bx();return await HM(e,mg,"1"),await WM(e,mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kie(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Py(i,!1).getAll();return new id(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cie)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GV.type="LOCAL";const Nie=GV;new td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mie(t,e){return e?Pa(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends dS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Die(t){return $V(t.auth,new gS(t),t.bypassAuthState)}function Lie(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),hie(n,new gS(t),t.bypassAuthState)}async function jie(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),fie(n,new gS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:u}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Die;case"linkViaPopup":case"linkViaRedirect":return jie;case"reauthViaPopup":case"reauthViaRedirect":return Lie;default:Pi(this.auth,"internal-error")}}resolve(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ie=new td(2e3,1e4);class yu extends KV{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,yu.currentPopupAction&&yu.currentPopupAction.cancel(),yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){Va(this.filter.length===1,"Popup operations only handle one event");const e=mS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$ie.get())};e()}}yu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vie="pendingRedirect",rm=new Map;class Fie extends KV{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=rm.get(this.auth._key());if(!e){try{const r=await Uie(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rm.set(this.auth._key(),e)}return this.bypassAuthState||rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uie(t,e){const n=zie(e),r=Bie(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qie(t,e){rm.set(t._key(),e)}function Bie(t){return Pa(t._redirectPersistence)}function zie(t){return nm(Vie,t.config.apiKey,t.name)}async function Hie(t,e,n=!1){if(gr(t.app))return Promise.reject(ka(t));const r=cl(t),i=Mie(r,e),o=await new Fie(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie=10*60*1e3;class Gie{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kie(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XV(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wie&&this.cachedEventUids.clear(),this.cachedEventUids.has(GM(e))}saveEventToCache(e){this.cachedEventUids.add(GM(e)),this.lastProcessedEventTime=Date.now()}}function GM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XV({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Kie(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xie(t,e={}){return Qo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qie=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yie=/^https?/;async function Jie(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Xie(t);for(const n of e)try{if(Zie(n))return}catch{}Pi(t,"unauthorized-domain")}function Zie(t){const e=yx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Yie.test(n))return!1;if(Qie.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eae=new td(3e4,6e4);function KM(){const t=Yi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tae(t){return new Promise((e,n)=>{var r,i,a;function o(){KM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KM(),n(Qi(t,"network-request-failed"))},timeout:eae.get()})}if(!((i=(r=Yi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Yi().gapi)===null||a===void 0)&&a.load)o();else{const u=Gre("iframefcb");return Yi()[u]=()=>{gapi.load?o():n(Qi(t,"network-request-failed"))},NV(`${Wre()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw im=null,e})}let im=null;function nae(t){return im=im||tae(t),im}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae=new td(5e3,15e3),iae="__/auth/iframe",aae="emulator/auth/iframe",oae={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sae=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lae(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cS(e,aae):`https://${t.config.authDomain}/${iae}`,r={apiKey:e.apiKey,appName:t.name,v:ul},i=sae.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Zh(r).slice(1)}`}async function uae(t){const e=await nae(t),n=Yi().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:lae(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oae,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Qi(t,"network-request-failed"),u=Yi().setTimeout(()=>{a(o)},rae.get());function c(){Yi().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cae={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fae=500,hae=600,dae="_blank",pae="http://localhost";class XM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mae(t,e,n,r=fae,i=hae){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},cae),{width:r.toString(),height:i.toString(),top:a,left:o}),f=Wn().toLowerCase();n&&(u=AV(f)?dae:n),TV(f)&&(e=e||pae,c.scrollbars="yes");const d=Object.entries(c).reduce((y,[_,x])=>`${y}${_}=${x},`,"");if(jre(f)&&u!=="_self")return gae(e||"",u),new XM(null);const p=window.open(e||"",u,d);$e(p,t,"popup-blocked");try{p.focus()}catch{}return new XM(p)}function gae(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae="__/auth/handler",vae="emulator/auth/handler",_ae=encodeURIComponent("fac");async function QM(t,e,n,r,i,a){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ul,eventId:i};if(e instanceof LV){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rne(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof rd){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const d of Object.keys(u))u[d]===void 0&&delete u[d];const c=await t._getAppCheckToken(),f=c?`#${_ae}=${encodeURIComponent(c)}`:"";return`${bae(t)}?${Zh(u).slice(1)}${f}`}function bae({config:t}){return t.emulator?cS(t,vae):`https://${t.authDomain}/${yae}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="webStorageSupport";class wae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BV,this._completeRedirectFn=Hie,this._overrideRedirectResult=qie}async _openPopup(e,n,r,i){var a;Va((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await QM(e,n,r,yx(),i);return mae(e,o,mS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await QM(e,n,r,yx(),i);return Tie(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Va(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uae(e),r=new Gie(e);return n.register("authEvent",i=>($e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(LE,{type:LE},i=>{var a;const o=(a=i?.[0])===null||a===void 0?void 0:a[LE];o!==void 0&&n(!!o),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Jie(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CV()||SV()||hS()}}const Eae=wae;var YM="@firebase/auth",JM="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sae(t){$o(new ja("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;$e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RV(t)},f=new Bre(r,i,a,c);return Zre(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new ja("auth-internal",e=>{const n=cl(e.getProvider("auth").getImmediate());return(r=>new xae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ei(YM,JM,Tae(t)),ei(YM,JM,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aae=5*60,Pae=cV("authIdTokenMaxAge")||Aae;let ZM=null;const Iae=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Pae)return;const i=n?.token;ZM!==i&&(ZM=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QV(t=Ty()){const e=ed(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jre(t,{popupRedirectResolver:Eae,persistence:[Nie,wie,BV]}),r=cV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=Iae(a.toString());yie(n,o,()=>o(n.currentUser)),gie(n,u=>o(u))}}const i=lV("auth");return i&&eie(n,`http://${i}`),n}function Oae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zre({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Qi("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",Oae().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sae("Browser");var eD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lo,YV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function M(){}M.prototype=O.prototype,P.D=O.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(F,D,V){for(var j=Array(arguments.length-2),K=2;K<arguments.length;K++)j[K-2]=arguments[K];return O.prototype[D].apply(F,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,O,M){M||(M=0);var F=Array(16);if(typeof O=="string")for(var D=0;16>D;++D)F[D]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(D=0;16>D;++D)F[D]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=P.g[0],M=P.g[1],D=P.g[2];var V=P.g[3],j=O+(V^M&(D^V))+F[0]+3614090360&4294967295;O=M+(j<<7&4294967295|j>>>25),j=V+(D^O&(M^D))+F[1]+3905402710&4294967295,V=O+(j<<12&4294967295|j>>>20),j=D+(M^V&(O^M))+F[2]+606105819&4294967295,D=V+(j<<17&4294967295|j>>>15),j=M+(O^D&(V^O))+F[3]+3250441966&4294967295,M=D+(j<<22&4294967295|j>>>10),j=O+(V^M&(D^V))+F[4]+4118548399&4294967295,O=M+(j<<7&4294967295|j>>>25),j=V+(D^O&(M^D))+F[5]+1200080426&4294967295,V=O+(j<<12&4294967295|j>>>20),j=D+(M^V&(O^M))+F[6]+2821735955&4294967295,D=V+(j<<17&4294967295|j>>>15),j=M+(O^D&(V^O))+F[7]+4249261313&4294967295,M=D+(j<<22&4294967295|j>>>10),j=O+(V^M&(D^V))+F[8]+1770035416&4294967295,O=M+(j<<7&4294967295|j>>>25),j=V+(D^O&(M^D))+F[9]+2336552879&4294967295,V=O+(j<<12&4294967295|j>>>20),j=D+(M^V&(O^M))+F[10]+4294925233&4294967295,D=V+(j<<17&4294967295|j>>>15),j=M+(O^D&(V^O))+F[11]+2304563134&4294967295,M=D+(j<<22&4294967295|j>>>10),j=O+(V^M&(D^V))+F[12]+1804603682&4294967295,O=M+(j<<7&4294967295|j>>>25),j=V+(D^O&(M^D))+F[13]+4254626195&4294967295,V=O+(j<<12&4294967295|j>>>20),j=D+(M^V&(O^M))+F[14]+2792965006&4294967295,D=V+(j<<17&4294967295|j>>>15),j=M+(O^D&(V^O))+F[15]+1236535329&4294967295,M=D+(j<<22&4294967295|j>>>10),j=O+(D^V&(M^D))+F[1]+4129170786&4294967295,O=M+(j<<5&4294967295|j>>>27),j=V+(M^D&(O^M))+F[6]+3225465664&4294967295,V=O+(j<<9&4294967295|j>>>23),j=D+(O^M&(V^O))+F[11]+643717713&4294967295,D=V+(j<<14&4294967295|j>>>18),j=M+(V^O&(D^V))+F[0]+3921069994&4294967295,M=D+(j<<20&4294967295|j>>>12),j=O+(D^V&(M^D))+F[5]+3593408605&4294967295,O=M+(j<<5&4294967295|j>>>27),j=V+(M^D&(O^M))+F[10]+38016083&4294967295,V=O+(j<<9&4294967295|j>>>23),j=D+(O^M&(V^O))+F[15]+3634488961&4294967295,D=V+(j<<14&4294967295|j>>>18),j=M+(V^O&(D^V))+F[4]+3889429448&4294967295,M=D+(j<<20&4294967295|j>>>12),j=O+(D^V&(M^D))+F[9]+568446438&4294967295,O=M+(j<<5&4294967295|j>>>27),j=V+(M^D&(O^M))+F[14]+3275163606&4294967295,V=O+(j<<9&4294967295|j>>>23),j=D+(O^M&(V^O))+F[3]+4107603335&4294967295,D=V+(j<<14&4294967295|j>>>18),j=M+(V^O&(D^V))+F[8]+1163531501&4294967295,M=D+(j<<20&4294967295|j>>>12),j=O+(D^V&(M^D))+F[13]+2850285829&4294967295,O=M+(j<<5&4294967295|j>>>27),j=V+(M^D&(O^M))+F[2]+4243563512&4294967295,V=O+(j<<9&4294967295|j>>>23),j=D+(O^M&(V^O))+F[7]+1735328473&4294967295,D=V+(j<<14&4294967295|j>>>18),j=M+(V^O&(D^V))+F[12]+2368359562&4294967295,M=D+(j<<20&4294967295|j>>>12),j=O+(M^D^V)+F[5]+4294588738&4294967295,O=M+(j<<4&4294967295|j>>>28),j=V+(O^M^D)+F[8]+2272392833&4294967295,V=O+(j<<11&4294967295|j>>>21),j=D+(V^O^M)+F[11]+1839030562&4294967295,D=V+(j<<16&4294967295|j>>>16),j=M+(D^V^O)+F[14]+4259657740&4294967295,M=D+(j<<23&4294967295|j>>>9),j=O+(M^D^V)+F[1]+2763975236&4294967295,O=M+(j<<4&4294967295|j>>>28),j=V+(O^M^D)+F[4]+1272893353&4294967295,V=O+(j<<11&4294967295|j>>>21),j=D+(V^O^M)+F[7]+4139469664&4294967295,D=V+(j<<16&4294967295|j>>>16),j=M+(D^V^O)+F[10]+3200236656&4294967295,M=D+(j<<23&4294967295|j>>>9),j=O+(M^D^V)+F[13]+681279174&4294967295,O=M+(j<<4&4294967295|j>>>28),j=V+(O^M^D)+F[0]+3936430074&4294967295,V=O+(j<<11&4294967295|j>>>21),j=D+(V^O^M)+F[3]+3572445317&4294967295,D=V+(j<<16&4294967295|j>>>16),j=M+(D^V^O)+F[6]+76029189&4294967295,M=D+(j<<23&4294967295|j>>>9),j=O+(M^D^V)+F[9]+3654602809&4294967295,O=M+(j<<4&4294967295|j>>>28),j=V+(O^M^D)+F[12]+3873151461&4294967295,V=O+(j<<11&4294967295|j>>>21),j=D+(V^O^M)+F[15]+530742520&4294967295,D=V+(j<<16&4294967295|j>>>16),j=M+(D^V^O)+F[2]+3299628645&4294967295,M=D+(j<<23&4294967295|j>>>9),j=O+(D^(M|~V))+F[0]+4096336452&4294967295,O=M+(j<<6&4294967295|j>>>26),j=V+(M^(O|~D))+F[7]+1126891415&4294967295,V=O+(j<<10&4294967295|j>>>22),j=D+(O^(V|~M))+F[14]+2878612391&4294967295,D=V+(j<<15&4294967295|j>>>17),j=M+(V^(D|~O))+F[5]+4237533241&4294967295,M=D+(j<<21&4294967295|j>>>11),j=O+(D^(M|~V))+F[12]+1700485571&4294967295,O=M+(j<<6&4294967295|j>>>26),j=V+(M^(O|~D))+F[3]+2399980690&4294967295,V=O+(j<<10&4294967295|j>>>22),j=D+(O^(V|~M))+F[10]+4293915773&4294967295,D=V+(j<<15&4294967295|j>>>17),j=M+(V^(D|~O))+F[1]+2240044497&4294967295,M=D+(j<<21&4294967295|j>>>11),j=O+(D^(M|~V))+F[8]+1873313359&4294967295,O=M+(j<<6&4294967295|j>>>26),j=V+(M^(O|~D))+F[15]+4264355552&4294967295,V=O+(j<<10&4294967295|j>>>22),j=D+(O^(V|~M))+F[6]+2734768916&4294967295,D=V+(j<<15&4294967295|j>>>17),j=M+(V^(D|~O))+F[13]+1309151649&4294967295,M=D+(j<<21&4294967295|j>>>11),j=O+(D^(M|~V))+F[4]+4149444226&4294967295,O=M+(j<<6&4294967295|j>>>26),j=V+(M^(O|~D))+F[11]+3174756917&4294967295,V=O+(j<<10&4294967295|j>>>22),j=D+(O^(V|~M))+F[2]+718787259&4294967295,D=V+(j<<15&4294967295|j>>>17),j=M+(V^(D|~O))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(D+(j<<21&4294967295|j>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+V&4294967295}r.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var M=O-this.blockSize,F=this.B,D=this.h,V=0;V<O;){if(D==0)for(;V<=M;)i(this,P,V),V+=this.blockSize;if(typeof P=="string"){for(;V<O;)if(F[D++]=P.charCodeAt(V++),D==this.blockSize){i(this,F),D=0;break}}else for(;V<O;)if(F[D++]=P[V++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=O},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var M=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=M&255,M/=256;for(this.u(P),P=Array(16),O=M=0;4>O;++O)for(var F=0;32>F;F+=8)P[M++]=this.g[O]>>>F&255;return P};function a(P,O){var M=u;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=O(P)}function o(P,O){this.h=O;for(var M=[],F=!0,D=P.length-1;0<=D;D--){var V=P[D]|0;F&&V==O||(M[D]=V,F=!1)}this.g=M}var u={};function c(P){return-128<=P&&128>P?a(P,function(O){return new o([O|0],0>O?-1:0)}):new o([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return p;if(0>P)return b(f(-P));for(var O=[],M=1,F=0;P>=M;F++)O[F]=P/M|0,M*=4294967296;return new o(O,0)}function d(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return b(d(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=f(Math.pow(O,8)),F=p,D=0;D<P.length;D+=8){var V=Math.min(8,P.length-D),j=parseInt(P.substring(D,D+V),O);8>V?(V=f(Math.pow(O,V)),F=F.j(V).add(f(j))):(F=F.j(M),F=F.add(f(j)))}return F}var p=c(0),y=c(1),_=c(16777216);t=o.prototype,t.m=function(){if(E(this))return-b(this).m();for(var P=0,O=1,M=0;M<this.g.length;M++){var F=this.i(M);P+=(0<=F?F:4294967296+F)*O,O*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(x(this))return"0";if(E(this))return"-"+b(this).toString(P);for(var O=f(Math.pow(P,6)),M=this,F="";;){var D=L(M,O).g;M=C(M,D.j(O));var V=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=D,x(M))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function x(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function E(P){return P.h==-1}t.l=function(P){return P=C(this,P),E(P)?-1:x(P)?0:1};function b(P){for(var O=P.g.length,M=[],F=0;F<O;F++)M[F]=~P.g[F];return new o(M,~P.h).add(y)}t.abs=function(){return E(this)?b(this):this},t.add=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],F=0,D=0;D<=O;D++){var V=F+(this.i(D)&65535)+(P.i(D)&65535),j=(V>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);F=j>>>16,V&=65535,j&=65535,M[D]=j<<16|V}return new o(M,M[M.length-1]&-2147483648?-1:0)};function C(P,O){return P.add(b(O))}t.j=function(P){if(x(this)||x(P))return p;if(E(this))return E(P)?b(this).j(b(P)):b(b(this).j(P));if(E(P))return b(this.j(b(P)));if(0>this.l(_)&&0>P.l(_))return f(this.m()*P.m());for(var O=this.g.length+P.g.length,M=[],F=0;F<2*O;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(var D=0;D<P.g.length;D++){var V=this.i(F)>>>16,j=this.i(F)&65535,K=P.i(D)>>>16,J=P.i(D)&65535;M[2*F+2*D]+=j*J,k(M,2*F+2*D),M[2*F+2*D+1]+=V*J,k(M,2*F+2*D+1),M[2*F+2*D+1]+=j*K,k(M,2*F+2*D+1),M[2*F+2*D+2]+=V*K,k(M,2*F+2*D+2)}for(F=0;F<O;F++)M[F]=M[2*F+1]<<16|M[2*F];for(F=O;F<2*O;F++)M[F]=0;return new o(M,0)};function k(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function A(P,O){this.g=P,this.h=O}function L(P,O){if(x(O))throw Error("division by zero");if(x(P))return new A(p,p);if(E(P))return O=L(b(P),O),new A(b(O.g),b(O.h));if(E(O))return O=L(P,b(O)),new A(b(O.g),O.h);if(30<P.g.length){if(E(P)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var M=y,F=O;0>=F.l(P);)M=I(M),F=I(F);var D=N(M,1),V=N(F,1);for(F=N(F,2),M=N(M,2);!x(F);){var j=V.add(F);0>=j.l(P)&&(D=D.add(M),V=j),F=N(F,1),M=N(M,1)}return O=C(P,D.j(O)),new A(D,O)}for(D=p;0<=P.l(O);){for(M=Math.max(1,Math.floor(P.m()/O.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(M),j=V.j(O);E(j)||0<j.l(P);)M-=F,V=f(M),j=V.j(O);x(V)&&(V=y),D=D.add(V),P=C(P,j)}return new A(D,P)}t.A=function(P){return L(this,P).h},t.and=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],F=0;F<O;F++)M[F]=this.i(F)&P.i(F);return new o(M,this.h&P.h)},t.or=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],F=0;F<O;F++)M[F]=this.i(F)|P.i(F);return new o(M,this.h|P.h)},t.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],F=0;F<O;F++)M[F]=this.i(F)^P.i(F);return new o(M,this.h^P.h)};function I(P){for(var O=P.g.length+1,M=[],F=0;F<O;F++)M[F]=P.i(F)<<1|P.i(F-1)>>>31;return new o(M,P.h)}function N(P,O){var M=O>>5;O%=32;for(var F=P.g.length-M,D=[],V=0;V<F;V++)D[V]=0<O?P.i(V+M)>>>O|P.i(V+M+1)<<32-O:P.i(V+M);return new o(D,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YV=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=f,o.fromString=d,Lo=o}).apply(typeof eD<"u"?eD:typeof self<"u"?self:typeof window<"u"?window:{});var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JV,Of,ZV,am,wx,eF,tF,nF;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,R){return m==Array.prototype||m==Object.prototype||(m[T]=R.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wp=="object"&&Wp];for(var T=0;T<m.length;++T){var R=m[T];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(m,T){if(T)e:{var R=r;m=m.split(".");for(var U=0;U<m.length-1;U++){var X=m[U];if(!(X in R))break e;R=R[X]}m=m[m.length-1],U=R[m],T=T(U),T!=U&&T!=null&&e(R,m,{configurable:!0,writable:!0,value:T})}}function a(m,T){m instanceof String&&(m+="");var R=0,U=!1,X={next:function(){if(!U&&R<m.length){var ne=R++;return{value:T(ne,m[ne]),done:!1}}return U=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}i("Array.prototype.values",function(m){return m||function(){return a(this,function(T,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function f(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function d(m,T,R){return m.call.apply(m.bind,arguments)}function p(m,T,R){if(!m)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,U),m.apply(T,X)}}return function(){return m.apply(T,arguments)}}function y(m,T,R){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,y.apply(null,arguments)}function _(m,T){var R=Array.prototype.slice.call(arguments,1);return function(){var U=R.slice();return U.push.apply(U,arguments),m.apply(this,U)}}function x(m,T){function R(){}R.prototype=T.prototype,m.aa=T.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(U,X,ne){for(var ve=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)ve[dt-2]=arguments[dt];return T.prototype[X].apply(U,ve)}}function E(m){const T=m.length;if(0<T){const R=Array(T);for(let U=0;U<T;U++)R[U]=m[U];return R}return[]}function b(m,T){for(let R=1;R<arguments.length;R++){const U=arguments[R];if(c(U)){const X=m.length||0,ne=U.length||0;m.length=X+ne;for(let ve=0;ve<ne;ve++)m[X+ve]=U[ve]}else m.push(U)}}class C{constructor(T,R){this.i=T,this.j=R,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function k(m){return/^[\s\xa0]*$/.test(m)}function A(){var m=u.navigator;return m&&(m=m.userAgent)?m:""}function L(m){return L[" "](m),m}L[" "]=function(){};var I=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function N(m,T,R){for(const U in m)T.call(R,m[U],U,m)}function P(m,T){for(const R in m)T.call(void 0,m[R],R,m)}function O(m){const T={};for(const R in m)T[R]=m[R];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(m,T){let R,U;for(let X=1;X<arguments.length;X++){U=arguments[X];for(R in U)m[R]=U[R];for(let ne=0;ne<M.length;ne++)R=M[ne],Object.prototype.hasOwnProperty.call(U,R)&&(m[R]=U[R])}}function D(m){var T=1;m=m.split(":");const R=[];for(;0<T&&m.length;)R.push(m.shift()),T--;return m.length&&R.push(m.join(":")),R}function V(m){u.setTimeout(()=>{throw m},0)}function j(){var m=ee;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class K{constructor(){this.h=this.g=null}add(T,R){const U=J.get();U.set(T,R),this.h?this.h.next=U:this.g=U,this.h=U}}var J=new C(()=>new ie,m=>m.reset());class ie{constructor(){this.next=this.g=this.h=null}set(T,R){this.h=T,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let re,Q=!1,ee=new K,ae=()=>{const m=u.Promise.resolve(void 0);re=()=>{m.then(B)}};var B=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(R){V(R)}var T=J;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}Q=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};u.addEventListener("test",R,T),u.removeEventListener("test",R,T)}catch{}return m}();function Ae(m,T){if(ue.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,U=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(I){e:{try{L(T.nodeName);var X=!0;break e}catch{}X=!1}X||(T=null)}}else R=="mouseover"?T=m.fromElement:R=="mouseout"&&(T=m.toElement);this.relatedTarget=T,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Ae.aa.h.call(this)}}x(Ae,ue);var Le={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ge="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function de(m,T,R,U,X){this.listener=m,this.proxy=null,this.src=T,this.type=R,this.capture=!!U,this.ha=X,this.key=++Fe,this.da=this.fa=!1}function Pe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function De(m){this.src=m,this.g={},this.h=0}De.prototype.add=function(m,T,R,U,X){var ne=m.toString();m=this.g[ne],m||(m=this.g[ne]=[],this.h++);var ve=ye(m,T,U,X);return-1<ve?(T=m[ve],R||(T.fa=!1)):(T=new de(T,this.src,ne,!!U,X),T.fa=R,m.push(T)),T};function ce(m,T){var R=T.type;if(R in m.g){var U=m.g[R],X=Array.prototype.indexOf.call(U,T,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(U,X,1),ne&&(Pe(T),m.g[R].length==0&&(delete m.g[R],m.h--))}}function ye(m,T,R,U){for(var X=0;X<m.length;++X){var ne=m[X];if(!ne.da&&ne.listener==T&&ne.capture==!!R&&ne.ha==U)return X}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),Ke={};function We(m,T,R,U,X){if(Array.isArray(T)){for(var ne=0;ne<T.length;ne++)We(m,T[ne],R,U,X);return null}return R=Xa(R),m&&m[Ge]?m.K(T,R,f(U)?!!U.capture:!1,X):lt(m,T,R,!1,U,X)}function lt(m,T,R,U,X,ne){if(!T)throw Error("Invalid event type");var ve=f(X)?!!X.capture:!!X,dt=Lr(m);if(dt||(m[ke]=dt=new De(m)),R=dt.add(T,R,U,ve,ne),R.proxy)return R;if(U=Ft(),R.proxy=U,U.src=m,U.listener=R,m.addEventListener)be||(X=ve),X===void 0&&(X=!1),m.addEventListener(T.toString(),U,X);else if(m.attachEvent)m.attachEvent(tn(T.toString()),U);else if(m.addListener&&m.removeListener)m.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ft(){function m(R){return T.call(m.src,m.listener,R)}const T=Gn;return m}function xn(m,T,R,U,X){if(Array.isArray(T))for(var ne=0;ne<T.length;ne++)xn(m,T[ne],R,U,X);else U=f(U)?!!U.capture:!!U,R=Xa(R),m&&m[Ge]?(m=m.i,T=String(T).toString(),T in m.g&&(ne=m.g[T],R=ye(ne,R,U,X),-1<R&&(Pe(ne[R]),Array.prototype.splice.call(ne,R,1),ne.length==0&&(delete m.g[T],m.h--)))):m&&(m=Lr(m))&&(T=m.g[T.toString()],m=-1,T&&(m=ye(T,R,U,X)),(R=-1<m?T[m]:null)&&Tn(R))}function Tn(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Ge])ce(T.i,m);else{var R=m.type,U=m.proxy;T.removeEventListener?T.removeEventListener(R,U,m.capture):T.detachEvent?T.detachEvent(tn(R),U):T.addListener&&T.removeListener&&T.removeListener(U),(R=Lr(T))?(ce(R,m),R.h==0&&(R.src=null,T[ke]=null)):Pe(m)}}}function tn(m){return m in Ke?Ke[m]:Ke[m]="on"+m}function Gn(m,T){if(m.da)m=!0;else{T=new Ae(T,this);var R=m.listener,U=m.ha||m.src;m.fa&&Tn(m),m=R.call(U,T)}return m}function Lr(m){return m=m[ke],m instanceof De?m:null}var aa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xa(m){return typeof m=="function"?m:(m[aa]||(m[aa]=function(T){return m.handleEvent(T)}),m[aa])}function nn(){G.call(this),this.i=new De(this),this.M=this,this.F=null}x(nn,G),nn.prototype[Ge]=!0,nn.prototype.removeEventListener=function(m,T,R,U){xn(this,m,T,R,U)};function rn(m,T){var R,U=m.F;if(U)for(R=[];U;U=U.F)R.push(U);if(m=m.M,U=T.type||T,typeof T=="string")T=new ue(T,m);else if(T instanceof ue)T.target=T.target||m;else{var X=T;T=new ue(U,m),F(T,X)}if(X=!0,R)for(var ne=R.length-1;0<=ne;ne--){var ve=T.g=R[ne];X=oa(ve,U,!0,T)&&X}if(ve=T.g=m,X=oa(ve,U,!0,T)&&X,X=oa(ve,U,!1,T)&&X,R)for(ne=0;ne<R.length;ne++)ve=T.g=R[ne],X=oa(ve,U,!1,T)&&X}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var R=m.g[T],U=0;U<R.length;U++)Pe(R[U]);delete m.g[T],m.h--}}this.F=null},nn.prototype.K=function(m,T,R,U){return this.i.add(String(m),T,!1,R,U)},nn.prototype.L=function(m,T,R,U){return this.i.add(String(m),T,!0,R,U)};function oa(m,T,R,U){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var X=!0,ne=0;ne<T.length;++ne){var ve=T[ne];if(ve&&!ve.da&&ve.capture==R){var dt=ve.listener,an=ve.ha||ve.src;ve.fa&&ce(m.i,ve),X=dt.call(an,U)!==!1&&X}}return X&&!U.defaultPrevented}function Ec(m,T,R){if(typeof m=="function")R&&(m=y(m,R));else if(m&&typeof m.handleEvent=="function")m=y(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:u.setTimeout(m,T||0)}function Qa(m){m.g=Ec(()=>{m.g=null,m.i&&(m.i=!1,Qa(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Zo extends G{constructor(T,R){super(),this.m=T,this.l=R,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Qa(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function es(m){G.call(this),this.h=m,this.g={}}x(es,G);var xc=[];function Tc(m){N(m.g,function(T,R){this.g.hasOwnProperty(R)&&Tn(T)},m),m.g={}}es.prototype.N=function(){es.aa.N.call(this),Tc(this)},es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sc=u.JSON.stringify,Ac=u.JSON.parse,Pc=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function ts(){}ts.prototype.h=null;function yl(m){return m.h||(m.h=m.i())}function vl(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){ue.call(this,"d")}x(Ri,ue);function _l(){ue.call(this,"c")}x(_l,ue);var Ni={},Ic=null;function ns(){return Ic=Ic||new nn}Ni.La="serverreachability";function Oc(m){ue.call(this,Ni.La,m)}x(Oc,ue);function sa(m){const T=ns();rn(T,new Oc(T))}Ni.STAT_EVENT="statevent";function kc(m,T){ue.call(this,Ni.STAT_EVENT,m),this.stat=T}x(kc,ue);function Wt(m){const T=ns();rn(T,new kc(T,m))}Ni.Ma="timingevent";function bl(m,T){ue.call(this,Ni.Ma,m),this.size=T}x(bl,ue);function ai(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},T)}function rs(){this.g=!0}rs.prototype.xa=function(){this.g=!1};function is(m,T,R,U,X,ne){m.info(function(){if(m.g)if(ne)for(var ve="",dt=ne.split("&"),an=0;an<dt.length;an++){var rt=dt[an].split("=");if(1<rt.length){var pn=rt[0];rt=rt[1];var Xt=pn.split("_");ve=2<=Xt.length&&Xt[1]=="type"?ve+(pn+"="+rt+"&"):ve+(pn+"=redacted&")}}else ve=null;else ve=ne;return"XMLHTTP REQ ("+U+") [attempt "+X+"]: "+T+`
`+R+`
`+ve})}function wl(m,T,R,U,X,ne,ve){m.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+X+"]: "+T+`
`+R+`
`+ne+" "+ve})}function oi(m,T,R,U){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Yy(m,R)+(U?" "+U:"")})}function Cc(m,T){m.info(function(){return"TIMEOUT: "+T})}rs.prototype.info=function(){};function Yy(m,T){if(!m.g)return T;if(!T)return null;try{var R=JSON.parse(T);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var U=R[m];if(!(2>U.length)){var X=U[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var ve=1;ve<X.length;ve++)X[ve]=""}}}}return Sc(R)}catch{return T}}var El={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pd={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function as(){}x(as,ts),as.prototype.g=function(){return new XMLHttpRequest},as.prototype.i=function(){return{}},si=new as;function li(m,T,R,U){this.j=m,this.i=T,this.l=R,this.R=U||1,this.U=new es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new md}function md(){this.i=null,this.g="",this.h=!1}var Rc={},xl={};function Tl(m,T,R){m.L=1,m.v=to(xr(T)),m.m=R,m.P=!0,Nc(m,null)}function Nc(m,T){m.F=Date.now(),xt(m),m.A=xr(m.v);var R=m.A,U=m.R;Array.isArray(U)||(U=[String(U)]),ro(R.i,"t",U),m.C=0,R=m.j.J,m.h=new md,m.g=Nd(m.j,R?T:null,!m.m),0<m.O&&(m.M=new Zo(y(m.Y,m,m.g),m.O)),T=m.U,R=m.g,U=m.ca;var X="readystatechange";Array.isArray(X)||(X&&(xc[0]=X.toString()),X=xc);for(var ne=0;ne<X.length;ne++){var ve=We(R,X[ne],U||T.handleEvent,!1,T.h||T);if(!ve)break;T.g[ve.key]=ve}T=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),sa(),is(m.i,m.u,m.A,m.l,m.R,m.m)}li.prototype.ca=function(m){m=m.target;const T=this.M;T&&sr(m)==3?T.j():this.Y(m)},li.prototype.Y=function(m){try{if(m==this.g)e:{const Xt=sr(this.g);var T=this.g.Ba();const Fr=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Vc(this.g)))){this.J||Xt!=4||T==7||(T==8||0>=Fr?sa(3):sa(2)),os(this);var R=this.g.Z();this.X=R;t:if(gd(this)){var U=Vc(this.g);m="";var X=U.length,ne=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),Ya(this);var ve="";break t}this.h.i=new u.TextDecoder}for(T=0;T<X;T++)this.h.h=!0,m+=this.h.i.decode(U[T],{stream:!(ne&&T==X-1)});U.length=0,this.h.g+=m,this.C=0,ve=this.h.g}else ve=this.g.oa();if(this.o=R==200,wl(this.i,this.u,this.A,this.l,this.R,Xt,R),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,an=this.g;if((dt=an.g?an.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(dt)){var rt=dt;break t}}rt=null}if(R=rt)oi(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mc(this,R);else{this.o=!1,this.s=3,Wt(12),$r(this),Ya(this);break e}}if(this.P){R=!0;let Sr;for(;!this.J&&this.C<ve.length;)if(Sr=Jy(this,ve),Sr==xl){Xt==4&&(this.s=4,Wt(14),R=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==Rc){this.s=4,Wt(15),oi(this.i,this.l,ve,"[Invalid Chunk]"),R=!1;break}else oi(this.i,this.l,Sr,null),Mc(this,Sr);if(gd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||ve.length!=0||this.h.h||(this.s=1,Wt(16),R=!1),this.o=this.o&&R,!R)oi(this.i,this.l,ve,"[Invalid Chunked Response]"),$r(this),Ya(this);else if(0<ve.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+ve.length),Uc(pn),pn.M=!0,Wt(11))}}else oi(this.i,this.l,ve,null),Mc(this,ve);Xt==4&&$r(this),this.o&&!this.J&&(Xt==4?Dl(this.j,this):(this.o=!1,xt(this)))}else kl(this.g),R==400&&0<ve.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),$r(this),Ya(this)}}}catch{}finally{}};function gd(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Jy(m,T){var R=m.C,U=T.indexOf(`
`,R);return U==-1?xl:(R=Number(T.substring(R,U)),isNaN(R)?Rc:(U+=1,U+R>T.length?xl:(T=T.slice(U,U+R),m.C=U+R,T)))}li.prototype.cancel=function(){this.J=!0,$r(this)};function xt(m){m.S=Date.now()+m.I,yd(m,m.I)}function yd(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=ai(y(m.ba,m),T)}function os(m){m.B&&(u.clearTimeout(m.B),m.B=null)}li.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Cc(this.i,this.A),this.L!=2&&(sa(),Wt(17)),$r(this),this.s=2,Ya(this)):yd(this,this.S-m)};function Ya(m){m.j.G==0||m.J||Dl(m.j,m)}function $r(m){os(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,Tc(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function Mc(m,T){try{var R=m.j;if(R.G!=0&&(R.g==m||Kn(R.h,m))){if(!m.K&&Kn(R.h,m)&&R.G==3){try{var U=R.Da.g.parse(T)}catch{U=null}if(Array.isArray(U)&&U.length==3){var X=U;if(X[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)Ml(R),di(R);else break e;Nl(R),Wt(18)}}else R.za=X[1],0<R.za-R.T&&37500>X[2]&&R.F&&R.v==0&&!R.C&&(R.C=ai(y(R.Za,R),6e3));if(1>=_d(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ha(R,11)}else if((m.K||R.g==m)&&Ml(R),!k(T))for(X=R.Da.g.parse(T),T=0;T<X.length;T++){let rt=X[T];if(R.T=rt[0],rt=rt[1],R.G==2)if(rt[0]=="c"){R.K=rt[1],R.ia=rt[2];const pn=rt[3];pn!=null&&(R.la=pn,R.j.info("VER="+R.la));const Xt=rt[4];Xt!=null&&(R.Aa=Xt,R.j.info("SVER="+R.Aa));const Fr=rt[5];Fr!=null&&typeof Fr=="number"&&0<Fr&&(U=1.5*Fr,R.L=U,R.j.info("backChannelRequestTimeoutMs_="+U)),U=R;const Sr=m.g;if(Sr){const ds=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var ne=U.h;ne.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Dc(ne,ne.h),ne.h=null))}if(U.D){const jl=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(U.ya=jl,_t(U.I,U.D,jl))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),U=R;var ve=m;if(U.qa=Rd(U,U.J?U.ia:null,U.W),ve.K){bd(U.h,ve);var dt=ve,an=U.L;an&&(dt.I=an),dt.B&&(os(dt),xt(dt)),U.g=ve}else hs(U);0<R.i.length&&ji(R)}else rt[0]!="stop"&&rt[0]!="close"||ha(R,7);else R.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?ha(R,7):An(R):rt[0]!="noop"&&R.l&&R.l.ta(rt),R.v=0)}}sa(4)}catch{}}var vd=class{constructor(m,T){this.g=m,this.map=T}};function ss(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Er(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function _d(m){return m.h?1:m.g?m.g.size:0}function Kn(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function Dc(m,T){m.g?m.g.add(T):m.h=T}function bd(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}ss.prototype.cancel=function(){if(this.i=wd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function wd(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const R of m.g.values())T=T.concat(R.D);return T}return E(m.i)}function Sl(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var T=[],R=m.length,U=0;U<R;U++)T.push(m[U]);return T}T=[],R=0;for(U in m)T[R++]=m[U];return T}function Al(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var T=[];m=m.length;for(var R=0;R<m;R++)T.push(R);return T}T=[],R=0;for(const U in m)T[R++]=U;return T}}}function Ja(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var R=Al(m),U=Sl(m),X=U.length,ne=0;ne<X;ne++)T.call(void 0,U[ne],R&&R[ne],m)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zy(m,T){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var U=m[R].indexOf("="),X=null;if(0<=U){var ne=m[R].substring(0,U);X=m[R].substring(U+1)}else ne=m[R];T(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function la(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof la){this.h=m.h,us(this,m.j),this.o=m.o,this.g=m.g,Za(this,m.s),this.l=m.l;var T=m.i,R=new Mi;R.i=T.i,T.g&&(R.g=new Map(T.g),R.h=T.h),eo(this,R),this.m=m.m}else m&&(T=String(m).match(ls))?(this.h=!1,us(this,T[1]||"",!0),this.o=nt(T[2]||""),this.g=nt(T[3]||"",!0),Za(this,T[4]),this.l=nt(T[5]||"",!0),eo(this,T[6]||"",!0),this.m=nt(T[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}la.prototype.toString=function(){var m=[],T=this.j;T&&m.push(no(T,Pl,!0),":");var R=this.g;return(R||T=="file")&&(m.push("//"),(T=this.o)&&m.push(no(T,Pl,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(no(R,R.charAt(0)=="/"?Td:xd,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",no(R,Lc)),m.join("")};function xr(m){return new la(m)}function us(m,T,R){m.j=R?nt(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Za(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function eo(m,T,R){T instanceof Mi?(m.i=T,Di(m.i,m.h)):(R||(T=no(T,Sd)),m.i=new Mi(T,m.h))}function _t(m,T,R){m.i.set(T,R)}function to(m){return _t(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function nt(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function no(m,T,R){return typeof m=="string"?(m=encodeURI(m).replace(T,Ed),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ed(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Pl=/[#\/\?@]/g,xd=/[#\?:]/g,Td=/[#\?]/g,Sd=/[#\?@]/g,Lc=/#/g;function Mi(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function Sn(m){m.g||(m.g=new Map,m.h=0,m.i&&Zy(m.i,function(T,R){m.add(decodeURIComponent(T.replace(/\+/g," ")),R)}))}t=Mi.prototype,t.add=function(m,T){Sn(this),this.i=null,m=Vr(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(T),this.h+=1,this};function ui(m,T){Sn(m),T=Vr(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ci(m,T){return Sn(m),T=Vr(m,T),m.g.has(T)}t.forEach=function(m,T){Sn(this),this.g.forEach(function(R,U){R.forEach(function(X){m.call(T,X,U,this)},this)},this)},t.na=function(){Sn(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),R=[];for(let U=0;U<T.length;U++){const X=m[U];for(let ne=0;ne<X.length;ne++)R.push(T[U])}return R},t.V=function(m){Sn(this);let T=[];if(typeof m=="string")ci(this,m)&&(T=T.concat(this.g.get(Vr(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)T=T.concat(m[R])}return T},t.set=function(m,T){return Sn(this),this.i=null,m=Vr(this,m),ci(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},t.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function ro(m,T,R){ui(m,T),0<R.length&&(m.i=null,m.g.set(Vr(m,T),E(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var R=0;R<T.length;R++){var U=T[R];const ne=encodeURIComponent(String(U)),ve=this.V(U);for(U=0;U<ve.length;U++){var X=ne;ve[U]!==""&&(X+="="+encodeURIComponent(String(ve[U]))),m.push(X)}}return this.i=m.join("&")};function Vr(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Di(m,T){T&&!m.j&&(Sn(m),m.i=null,m.g.forEach(function(R,U){var X=U.toLowerCase();U!=X&&(ui(this,U),ro(this,X,R))},m)),m.j=T}function ev(m,T){const R=new rs;if(u.Image){const U=new Image;U.onload=_(or,R,"TestLoadImage: loaded",!0,T,U),U.onerror=_(or,R,"TestLoadImage: error",!1,T,U),U.onabort=_(or,R,"TestLoadImage: abort",!1,T,U),U.ontimeout=_(or,R,"TestLoadImage: timeout",!1,T,U),u.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=m}else T(!1)}function Ad(m,T){const R=new rs,U=new AbortController,X=setTimeout(()=>{U.abort(),or(R,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:U.signal}).then(ne=>{clearTimeout(X),ne.ok?or(R,"TestPingServer: ok",!0,T):or(R,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(X),or(R,"TestPingServer: error",!1,T)})}function or(m,T,R,U,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),U(R)}catch{}}function tv(){this.g=new Pc}function Pd(m,T,R){const U=R||"";try{Ja(m,function(X,ne){let ve=X;f(X)&&(ve=Sc(X)),T.push(U+ne+"="+encodeURIComponent(ve))})}catch(X){throw T.push(U+"type="+encodeURIComponent("_badmap")),X}}function ua(m){this.l=m.Ub||null,this.j=m.eb||!1}x(ua,ts),ua.prototype.g=function(){return new cs(this.l,this.j)},ua.prototype.i=function(m){return function(){return m}}({});function cs(m,T){nn.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(cs,nn),t=cs.prototype,t.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,hi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||u).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Id(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Id(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?fi(this):hi(this),this.readyState==3&&Id(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,fi(this))},t.Qa=function(m){this.g&&(this.response=m,fi(this))},t.ga=function(){this.g&&fi(this)};function fi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,hi(m)}t.setRequestHeader=function(m,T){this.u.append(m,T)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var R=T.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=T.next();return m.join(`\r
`)};function hi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ca(m){let T="";return N(m,function(R,U){T+=U,T+=":",T+=R,T+=`\r
`}),T}function io(m,T,R){e:{for(U in R){var U=!1;break e}U=!0}U||(R=ca(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):_t(m,T,R))}function Nt(m){nn.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Nt,nn);var nv=/^https?$/i,jc=["POST","PUT"];t=Nt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,T,R,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?yl(this.o):yl(si),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(ne){fs(this,ne);return}if(m=R||"",R=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var X in U)R.set(X,U[X]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ne of U.keys())R.set(ne,U.get(ne));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(R.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=u.FormData&&m instanceof u.FormData,!(0<=Array.prototype.indexOf.call(jc,T,void 0))||U||X||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ve]of R)this.g.setRequestHeader(ne,ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ol(this),this.u=!0,this.g.send(m),this.u=!1}catch(ne){fs(this,ne)}};function fs(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Il(m),Tr(m)}function Il(m){m.A||(m.A=!0,rn(m,"complete"),rn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,rn(this,"complete"),rn(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$c(this):this.bb())},t.bb=function(){$c(this)};function $c(m){if(m.h&&typeof o<"u"&&(!m.v[1]||sr(m)!=4||m.Z()!=2)){if(m.u&&sr(m)==4)Ec(m.Ea,0,m);else if(rn(m,"readystatechange"),sr(m)==4){m.h=!1;try{const ve=m.Z();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var R;if(!(R=T)){var U;if(U=ve===0){var X=String(m.D).match(ls)[1]||null;!X&&u.self&&u.self.location&&(X=u.self.location.protocol.slice(0,-1)),U=!nv.test(X?X.toLowerCase():"")}R=U}if(R)rn(m,"complete"),rn(m,"success");else{m.m=6;try{var ne=2<sr(m)?m.g.statusText:""}catch{ne=""}m.l=ne+" ["+m.Z()+"]",Il(m)}}finally{Tr(m)}}}}function Tr(m,T){if(m.g){Ol(m);const R=m.g,U=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||rn(m,"ready");try{R.onreadystatechange=U}catch{}}}function Ol(m){m.I&&(u.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function sr(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),Ac(T)}};function Vc(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function kl(m){const T={};m=(m.g&&2<=sr(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<m.length;U++){if(k(m[U]))continue;var R=D(m[U]);const X=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const ne=T[X]||[];T[X]=ne,ne.push(R)}P(T,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(m,T,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||T}function Fc(m){this.Aa=0,this.i=[],this.j=new rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Li("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Li("baseRetryDelayMs",5e3,m),this.cb=Li("retryDelaySeedMs",1e4,m),this.Wa=Li("forwardChannelMaxRetries",2,m),this.wa=Li("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(m&&m.concurrentRequestLimit),this.Da=new tv,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Fc.prototype,t.la=8,t.G=1,t.connect=function(m,T,R,U){Wt(0),this.W=m,this.H=T||{},R&&U!==void 0&&(this.H.OSID=R,this.H.OAID=U),this.F=this.X,this.I=Rd(this,null,this.W),ji(this)};function An(m){if(Cl(m),m.G==3){var T=m.U++,R=xr(m.I);if(_t(R,"SID",m.K),_t(R,"RID",T),_t(R,"TYPE","terminate"),fa(m,R),T=new li(m,m.j,T),T.L=2,T.v=to(xr(R)),R=!1,u.navigator&&u.navigator.sendBeacon)try{R=u.navigator.sendBeacon(T.v.toString(),"")}catch{}!R&&u.Image&&(new Image().src=T.v,R=!0),R||(T.g=Nd(T.j,null),T.g.ea(T.v)),T.F=Date.now(),xt(T)}Cd(m)}function di(m){m.g&&(Uc(m),m.g.cancel(),m.g=null)}function Cl(m){di(m),m.u&&(u.clearTimeout(m.u),m.u=null),Ml(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&u.clearTimeout(m.s),m.s=null)}function ji(m){if(!Er(m.h)&&!m.s){m.s=!0;var T=m.Ga;re||ae(),Q||(re(),Q=!0),ee.add(T,m),m.B=0}}function rv(m,T){return _d(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=ai(y(m.Ga,m,T),kd(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const X=new li(this,this.j,m);let ne=this.o;if(this.S&&(ne?(ne=O(ne),F(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var T=0,R=0;R<this.i.length;R++){t:{var U=this.i[R];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(T+=U,4096<T){T=R;break e}if(T===4096||R===this.i.length-1){T=R+1;break e}}T=1e3}else T=1e3;T=ao(this,X,T),R=xr(this.I),_t(R,"RID",m),_t(R,"CVER",22),this.D&&_t(R,"X-HTTP-Session-Id",this.D),fa(this,R),ne&&(this.O?T="headers="+encodeURIComponent(String(ca(ne)))+"&"+T:this.m&&io(R,this.m,ne)),Dc(this.h,X),this.Ua&&_t(R,"TYPE","init"),this.P?(_t(R,"$req",T),_t(R,"SID","null"),X.T=!0,Tl(X,R,null)):Tl(X,R,T),this.G=2}}else this.G==3&&(m?Rl(this,m):this.i.length==0||Er(this.h)||Rl(this))};function Rl(m,T){var R;T?R=T.l:R=m.U++;const U=xr(m.I);_t(U,"SID",m.K),_t(U,"RID",R),_t(U,"AID",m.T),fa(m,U),m.m&&m.o&&io(U,m.m,m.o),R=new li(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),T&&(m.i=T.D.concat(m.i)),T=ao(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Dc(m.h,R),Tl(R,U,T)}function fa(m,T){m.H&&N(m.H,function(R,U){_t(T,U,R)}),m.l&&Ja({},function(R,U){_t(T,U,R)})}function ao(m,T,R){R=Math.min(m.i.length,R);var U=m.l?y(m.l.Na,m.l,m):null;e:{var X=m.i;let ne=-1;for(;;){const ve=["count="+R];ne==-1?0<R?(ne=X[0].g,ve.push("ofs="+ne)):ne=0:ve.push("ofs="+ne);let dt=!0;for(let an=0;an<R;an++){let rt=X[an].g;const pn=X[an].map;if(rt-=ne,0>rt)ne=Math.max(0,X[an].g-100),dt=!1;else try{Pd(pn,ve,"req"+rt+"_")}catch{U&&U(pn)}}if(dt){U=ve.join("&");break e}}}return m=m.i.splice(0,R),T.D=m,U}function hs(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;re||ae(),Q||(re(),Q=!0),ee.add(T,m),m.v=0}}function Nl(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=ai(y(m.Fa,m),kd(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Od(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ai(y(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),di(this),Od(this))};function Uc(m){m.A!=null&&(u.clearTimeout(m.A),m.A=null)}function Od(m){m.g=new li(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=xr(m.qa);_t(T,"RID","rpc"),_t(T,"SID",m.K),_t(T,"AID",m.T),_t(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&_t(T,"TO",m.ja),_t(T,"TYPE","xmlhttp"),fa(m,T),m.m&&m.o&&io(T,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=to(xr(T)),R.m=null,R.P=!0,Nc(R,m)}t.Za=function(){this.C!=null&&(this.C=null,di(this),Nl(this),Wt(19))};function Ml(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function Dl(m,T){var R=null;if(m.g==T){Ml(m),Uc(m),m.g=null;var U=2}else if(Kn(m.h,T))R=T.D,bd(m.h,T),U=1;else return;if(m.G!=0){if(T.o)if(U==1){R=T.m?T.m.length:0,T=Date.now()-T.F;var X=m.B;U=ns(),rn(U,new bl(U,R)),ji(m)}else hs(m);else if(X=T.s,X==3||X==0&&0<T.X||!(U==1&&rv(m,T)||U==2&&Nl(m)))switch(R&&0<R.length&&(T=m.h,T.i=T.i.concat(R)),X){case 1:ha(m,5);break;case 4:ha(m,10);break;case 3:ha(m,6);break;default:ha(m,2)}}}function kd(m,T){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*T}function ha(m,T){if(m.j.info("Error code "+T),T==2){var R=y(m.fb,m),U=m.Xa;const X=!U;U=new la(U||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||us(U,"https"),to(U),X?ev(U.toString(),R):Ad(U.toString(),R)}else Wt(2);m.G=0,m.l&&m.l.sa(T),Cd(m),Cl(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function Cd(m){if(m.G=0,m.ka=[],m.l){const T=wd(m.h);(T.length!=0||m.i.length!=0)&&(b(m.ka,T),b(m.ka,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.ra()}}function Rd(m,T,R){var U=R instanceof la?xr(R):new la(R);if(U.g!="")T&&(U.g=T+"."+U.g),Za(U,U.s);else{var X=u.location;U=X.protocol,T=T?T+"."+X.hostname:X.hostname,X=+X.port;var ne=new la(null);U&&us(ne,U),T&&(ne.g=T),X&&Za(ne,X),R&&(ne.l=R),U=ne}return R=m.D,T=m.ya,R&&T&&_t(U,R,T),_t(U,"VER",m.la),fa(m,U),U}function Nd(m,T,R){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new Nt(new ua({eb:R})):new Nt(m.pa),T.Ha(m.J),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}t=qc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ll(){}Ll.prototype.g=function(m,T){return new Xn(m,T)};function Xn(m,T){nn.call(this),this.g=new Fc(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!k(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!k(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new $i(this)}x(Xn,nn),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){An(this.g)},Xn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Sc(m),m=R);T.i.push(new vd(T.Ya++,m)),T.G==3&&ji(T)},Xn.prototype.N=function(){this.g.l=null,delete this.j,An(this.g),delete this.g,Xn.aa.N.call(this)};function Md(m){Ri.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const R in T){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}x(Md,Ri);function Dd(){_l.call(this),this.status=1}x(Dd,_l);function $i(m){this.g=m}x($i,qc),$i.prototype.ua=function(){rn(this.g,"a")},$i.prototype.ta=function(m){rn(this.g,new Md(m))},$i.prototype.sa=function(m){rn(this.g,new Dd)},$i.prototype.ra=function(){rn(this.g,"b")},Ll.prototype.createWebChannel=Ll.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,nF=function(){return new Ll},tF=function(){return ns()},eF=Ni,wx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,am=El,pd.COMPLETE="complete",ZV=pd,vl.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",nn.prototype.listen=nn.prototype.K,Of=vl,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,JV=Nt}).apply(typeof Wp<"u"?Wp:typeof self<"u"?self:typeof window<"u"?window:{});const tD="@firebase/firestore",nD="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new aS("@firebase/firestore");function lu(){return Zs.logLevel}function Ee(t,...e){if(Zs.logLevel<=et.DEBUG){const n=e.map(yS);Zs.debug(`Firestore (${gc}): ${t}`,...n)}}function Fa(t,...e){if(Zs.logLevel<=et.ERROR){const n=e.map(yS);Zs.error(`Firestore (${gc}): ${t}`,...n)}}function Ju(t,...e){if(Zs.logLevel<=et.WARN){const n=e.map(yS);Zs.warn(`Firestore (${gc}): ${t}`,...n)}}function yS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,rF(t,r,n)}function rF(t,e,n){let r=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Fa(r),new Error(r)}function ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||rF(e,i,r)}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ci{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kae{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class Cae{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Rae{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let a=new Ca;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ca,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},u=c=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ca)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string",31837,{l:r}),new iF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class Nae{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Mae{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nae(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dae{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0,3512);const r=a=>{a.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rD(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lae(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Lae(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Xe(t,e){return t<e?-1:t>e?1:0}function Ex(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Xe(r,i);{const a=aF(),o=jae(a.encode(iD(t,n)),a.encode(iD(e,n)));return o!==0?o:Xe(r,i)}}n+=r>65535?2:1}return Xe(t.length,e.length)}function iD(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function jae(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Xe(t[n],e[n]);return Xe(t.length,e.length)}function Zu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=-62135596800,oD=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*oD);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<aD)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oD}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-aD;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new fn(0,0))}static max(){return new ze(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="__name__";class Bi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Bi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Bi.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Xe(e.length,n.length)}static compareSegments(e,n){const r=Bi.isNumericId(e),i=Bi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Bi.extractNumericId(e).compare(Bi.extractNumericId(n)):Ex(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lo.fromString(e.substring(4,e.length-2))}}class Pt extends Bi{construct(e,n,r){return new Pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Pt(n)}static emptyPath(){return new Pt([])}}const $ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Bi{construct(e,n,r){return new Cn(e,n,r)}static isValidIdentifier(e){return $ae.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sD}static keyField(){return new Cn([sD])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new we(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new we(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new we(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new we(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Pt.fromString(e))}static fromName(e){return new Re(Pt.fromString(e).popFirst(5))}static empty(){return new Re(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=-1;function Vae(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new Vo(i,Re.empty(),e)}function Fae(t){return new Vo(t.readTime,t.key,Nh)}class Vo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vo(ze.min(),Re.empty(),Nh)}static max(){return new Vo(ze.max(),Re.empty(),Nh)}}function Uae(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:Xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bae{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==qae)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):le.reject(n)}static resolve(e){return new le((n,r)=>{n(e)})}static reject(e){return new le((n,r)=>{r(e)})}static waitFor(e){return new le((n,r)=>{let i=0,a=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++a,o&&a===i&&n()},c=>r(c))}),o=!0,a===i&&n()})}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next(i=>i?le.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new le((r,i)=>{const a=e.length,o=new Array(a);let u=0;for(let c=0;c<a;c++){const f=c;n(e[f]).next(d=>{o[f]=d,++u,u===a&&r(o)},d=>i(d))}})}static doWhile(e,n){return new le((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function zae(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Iy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=-1;function Oy(t){return t==null}function yg(t){return t===0&&1/t==-1/0}function Hae(t){return typeof t=="number"&&Number.isInteger(t)&&!yg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF="";function Wae(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=lD(e)),e=Gae(t.get(n),e);return lD(e)}function Gae(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case sF:n+="";break;default:n+=a}}return n}function lD(t){return t+sF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new $t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new $t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gp(this.root,e,this.comparator,!0)}}class Gp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=a??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cD(this.data.getIterator())}getIteratorFrom(e){return new cD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hn(this.comparator);return n.data=e,n}}class cD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new Nr([])}unionWith(e){let n=new hn(Cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new uF("Invalid base64 string: "+a):a}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const Kae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(ft(!!t,39018),typeof t=="string"){let e=0;const n=Kae.exec(t);if(ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Kt(t.seconds),nanos:Kt(t.nanos)}}function Kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Uo(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="server_timestamp",fF="__type__",hF="__previous_value__",dF="__local_write_time__";function _S(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fF])===null||n===void 0?void 0:n.stringValue)===cF}function ky(t){const e=t.mapValue.fields[hF];return _S(e)?ky(e):e}function Mh(t){const e=Fo(t.mapValue.fields[dF].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xae{constructor(e,n,r,i,a,o,u,c,f,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=d}}const vg="(default)";class Dh{constructor(e,n){this.projectId=e,this.database=n||vg}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===vg}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="__type__",Qae="__max__",Kp={mapValue:{}},mF="__vector__",_g="value";function qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_S(t)?4:Jae(t)?9007199254740991:Yae(t)?10:11:Ve(28295,{value:t})}function ta(t,e){if(t===e)return!0;const n=qo(t);if(n!==qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Mh(t).isEqual(Mh(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Fo(i.timestampValue),u=Fo(a.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Uo(i.bytesValue).isEqual(Uo(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Kt(i.geoPointValue.latitude)===Kt(a.geoPointValue.latitude)&&Kt(i.geoPointValue.longitude)===Kt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Kt(i.integerValue)===Kt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Kt(i.doubleValue),u=Kt(a.doubleValue);return o===u?yg(o)===yg(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return Zu(t.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},u=a.mapValue.fields||{};if(uD(o)!==uD(u))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(u[c]===void 0||!ta(o[c],u[c])))return!1;return!0}(t,e);default:return Ve(52216,{left:t})}}function Lh(t,e){return(t.values||[]).find(n=>ta(n,e))!==void 0}function ec(t,e){if(t===e)return 0;const n=qo(t),r=qo(e);if(n!==r)return Xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xe(t.booleanValue,e.booleanValue);case 2:return function(a,o){const u=Kt(a.integerValue||a.doubleValue),c=Kt(o.integerValue||o.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1}(t,e);case 3:return fD(t.timestampValue,e.timestampValue);case 4:return fD(Mh(t),Mh(e));case 5:return Ex(t.stringValue,e.stringValue);case 6:return function(a,o){const u=Uo(a),c=Uo(o);return u.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const u=a.split("/"),c=o.split("/");for(let f=0;f<u.length&&f<c.length;f++){const d=Xe(u[f],c[f]);if(d!==0)return d}return Xe(u.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const u=Xe(Kt(a.latitude),Kt(o.latitude));return u!==0?u:Xe(Kt(a.longitude),Kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hD(t.arrayValue,e.arrayValue);case 10:return function(a,o){var u,c,f,d;const p=a.fields||{},y=o.fields||{},_=(u=p[_g])===null||u===void 0?void 0:u.arrayValue,x=(c=y[_g])===null||c===void 0?void 0:c.arrayValue,E=Xe(((f=_?.values)===null||f===void 0?void 0:f.length)||0,((d=x?.values)===null||d===void 0?void 0:d.length)||0);return E!==0?E:hD(_,x)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Kp.mapValue&&o===Kp.mapValue)return 0;if(a===Kp.mapValue)return 1;if(o===Kp.mapValue)return-1;const u=a.fields||{},c=Object.keys(u),f=o.fields||{},d=Object.keys(f);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const y=Ex(c[p],d[p]);if(y!==0)return y;const _=ec(u[c[p]],f[d[p]]);if(_!==0)return _}return Xe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ve(23264,{Pe:n})}}function fD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Xe(t,e);const n=Fo(t),r=Fo(e),i=Xe(n.seconds,r.seconds);return i!==0?i:Xe(n.nanos,r.nanos)}function hD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ec(n[i],r[i]);if(a)return a}return Xe(n.length,r.length)}function tc(t){return xx(t)}function xx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Fo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=xx(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${xx(n.fields[o])}`;return i+"}"}(t.mapValue):Ve(61005,{value:t})}function om(t){switch(qo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ky(t);return e?16+om(e):16;case 5:return 2*t.stringValue.length;case 6:return Uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+om(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Yo(r.fields,(a,o)=>{i+=a.length+om(o)}),i}(t.mapValue);default:throw Ve(13486,{value:t})}}function dD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tx(t){return!!t&&"integerValue"in t}function bS(t){return!!t&&"arrayValue"in t}function pD(t){return!!t&&"nullValue"in t}function mD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sm(t){return!!t&&"mapValue"in t}function Yae(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[pF])===null||n===void 0?void 0:n.stringValue)===mF}function Bf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Jae(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Qae}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bf(n)}setAll(e){let n=Cn.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Bf(o):i.push(u.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Yo(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new yr(Bf(this.value))}}function gF(t){const e=[];return Yo(t.fields,(n,r)=>{const i=new Cn([n]);if(sm(r)){const a=gF(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n,r,i,a,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Bn(e,0,ze.min(),ze.min(),ze.min(),yr.empty(),0)}static newFoundDocument(e,n,r,i){return new Bn(e,1,n,ze.min(),r,i,0)}static newNoDocument(e,n){return new Bn(e,2,n,ze.min(),ze.min(),yr.empty(),0)}static newUnknownDocument(e,n){return new Bn(e,3,n,ze.min(),ze.min(),yr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.position=e,this.inclusive=n}}function gD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=Re.comparator(Re.fromName(o.referenceValue),n.key):r=ec(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function yD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ta(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zae(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{}class Zt extends yF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new toe(e,n,r):n==="array-contains"?new ioe(e,r):n==="in"?new aoe(e,r):n==="not-in"?new ooe(e,r):n==="array-contains-any"?new soe(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new noe(e,r):new roe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ec(n,this.value)):n!==null&&qo(this.value)===qo(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends yF{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ii(e,n)}matches(e){return vF(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function vF(t){return t.op==="and"}function _F(t){return eoe(t)&&vF(t)}function eoe(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function Sx(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+tc(t.value);if(_F(t))return t.filters.map(e=>Sx(e)).join(",");{const e=t.filters.map(n=>Sx(n)).join(",");return`${t.op}(${e})`}}function bF(t,e){return t instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&ta(r.value,i.value)}(t,e):t instanceof Ii?function(r,i){return i instanceof Ii&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,o,u)=>a&&bF(o,i.filters[u]),!0):!1}(t,e):void Ve(19439)}function wF(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${tc(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(wF).join(" ,")+"}"}(t):"Filter"}class toe extends Zt{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class noe extends Zt{constructor(e,n){super(e,"in",n),this.keys=EF("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class roe extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=EF("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EF(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Re.fromName(r.referenceValue))}class ioe extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bS(n)&&Lh(n.arrayValue,this.value)}}class aoe extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class ooe extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class soe extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bS(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Lh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class loe{constructor(e,n=null,r=[],i=[],a=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.Ie=null}}function vD(t,e=null,n=[],r=[],i=null,a=null,o=null){return new loe(t,e,n,r,i,a,o)}function wS(t){const e=He(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Oy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>tc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>tc(r)).join(",")),e.Ie=n}return e.Ie}function ES(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zae(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yD(t.startAt,e.startAt)&&yD(t.endAt,e.endAt)}function Ax(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n=null,r=[],i=[],a=null,o="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function uoe(t,e,n,r,i,a,o,u){return new fl(t,e,n,r,i,a,o,u)}function Cy(t){return new fl(t)}function _D(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xF(t){return t.collectionGroup!==null}function zf(t){const e=He(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new hn(Cn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new jh(a,r))}),n.has(Cn.keyField().canonicalString())||e.Ee.push(new jh(Cn.keyField(),r))}return e.Ee}function Ji(t){const e=He(t);return e.de||(e.de=coe(e,zf(t))),e.de}function coe(t,e){if(t.limitType==="F")return vD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new jh(i.field,a)});const n=t.endAt?new bg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bg(t.startAt.position,t.startAt.inclusive):null;return vD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Px(t,e){const n=t.filters.concat([e]);return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ix(t,e,n){return new fl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ry(t,e){return ES(Ji(t),Ji(e))&&t.limitType===e.limitType}function TF(t){return`${wS(Ji(t))}|lt:${t.limitType}`}function uu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wF(i)).join(", ")}]`),Oy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>tc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>tc(i)).join(",")),`Target(${r})`}(Ji(t))}; limitType=${t.limitType})`}function Ny(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of zf(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,c){const f=gD(o,u,c);return o.inclusive?f<=0:f<0}(r.startAt,zf(r),i)||r.endAt&&!function(o,u,c){const f=gD(o,u,c);return o.inclusive?f>=0:f>0}(r.endAt,zf(r),i))}(t,e)}function foe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SF(t){return(e,n)=>{let r=!1;for(const i of zf(t)){const a=hoe(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function hoe(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):function(a,o,u){const c=o.data.field(a),f=u.data.field(a);return c!==null&&f!==null?ec(c,f):Ve(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Yo(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return lF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const doe=new $t(Re.comparator);function Ua(){return doe}const AF=new $t(Re.comparator);function kf(...t){let e=AF;for(const n of t)e=e.insert(n.key,n);return e}function PF(t){let e=AF;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $s(){return Hf()}function IF(){return Hf()}function Hf(){return new hl(t=>t.toString(),(t,e)=>t.isEqual(e))}const poe=new $t(Re.comparator),moe=new hn(Re.comparator);function tt(...t){let e=moe;for(const n of t)e=e.add(n);return e}const goe=new hn(Xe);function yoe(){return goe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yg(e)?"-0":e}}function OF(t){return{integerValue:""+t}}function voe(t,e){return Hae(e)?OF(e):xS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this._=void 0}}function _oe(t,e,n){return t instanceof wg?function(i,a){const o={fields:{[fF]:{stringValue:cF},[dF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&_S(a)&&(a=ky(a)),a&&(o.fields[hF]=a),{mapValue:o}}(n,e):t instanceof $h?CF(t,e):t instanceof Vh?RF(t,e):function(i,a){const o=kF(i,a),u=bD(o)+bD(i.Re);return Tx(o)&&Tx(i.Re)?OF(u):xS(i.serializer,u)}(t,e)}function boe(t,e,n){return t instanceof $h?CF(t,e):t instanceof Vh?RF(t,e):n}function kF(t,e){return t instanceof Eg?function(r){return Tx(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class wg extends My{}class $h extends My{constructor(e){super(),this.elements=e}}function CF(t,e){const n=NF(e);for(const r of t.elements)n.some(i=>ta(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vh extends My{constructor(e){super(),this.elements=e}}function RF(t,e){let n=NF(e);for(const r of t.elements)n=n.filter(i=>!ta(i,r));return{arrayValue:{values:n}}}class Eg extends My{constructor(e,n){super(),this.serializer=e,this.Re=n}}function bD(t){return Kt(t.integerValue||t.doubleValue)}function NF(t){return bS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function woe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $h&&i instanceof $h||r instanceof Vh&&i instanceof Vh?Zu(r.elements,i.elements,ta):r instanceof Eg&&i instanceof Eg?ta(r.Re,i.Re):r instanceof wg&&i instanceof wg}(t.transform,e.transform)}class Eoe{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dy{}function MF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TS(t.key,ti.none()):new ad(t.key,t.data,ti.none());{const n=t.data,r=yr.empty();let i=new hn(Cn.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Jo(t.key,r,new Nr(i.toArray()),ti.none())}}function xoe(t,e,n){t instanceof ad?function(i,a,o){const u=i.value.clone(),c=ED(i.fieldTransforms,a,o.transformResults);u.setAll(c),a.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(i,a,o){if(!lm(i.precondition,a))return void a.convertToUnknownDocument(o.version);const u=ED(i.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(DF(i)),c.setAll(u),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wf(t,e,n,r){return t instanceof ad?function(a,o,u,c){if(!lm(a.precondition,o))return u;const f=a.value.clone(),d=xD(a.fieldTransforms,c,o);return f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof Jo?function(a,o,u,c){if(!lm(a.precondition,o))return u;const f=xD(a.fieldTransforms,c,o),d=o.data;return d.setAll(DF(a)),d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(a,o,u){return lm(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function Toe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=kF(r.transform,i||null);a!=null&&(n===null&&(n=yr.empty()),n.set(r.field,a))}return n||null}function wD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Zu(r,i,(a,o)=>woe(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ad extends Dy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Jo extends Dy{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function DF(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ED(t,e,n){const r=new Map;ft(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,u=e.data.field(a.field);r.set(a.field,boe(o,u,n[i]))}return r}function xD(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,_oe(a,o,e))}return r}class TS extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Soe extends Dy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xoe(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IF();return this.mutations.forEach(i=>{const a=e.get(i.key),o=a.overlayedDocument;let u=this.applyToLocalView(o,a.mutatedFields);u=n.has(i.key)?null:u;const c=MF(o,u);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),tt())}isEqual(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(n,r)=>wD(n,r))&&Zu(this.baseMutations,e.baseMutations,(n,r)=>wD(n,r))}}class SS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ft(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return poe}();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new SS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,it;function Ooe(t){switch(t){case se.OK:return Ve(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ve(15467,{code:t})}}function LF(t){if(t===void 0)return Fa("GRPC error has no .code"),se.UNKNOWN;switch(t){case Yt.OK:return se.OK;case Yt.CANCELLED:return se.CANCELLED;case Yt.UNKNOWN:return se.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return se.INTERNAL;case Yt.UNAVAILABLE:return se.UNAVAILABLE;case Yt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Yt.NOT_FOUND:return se.NOT_FOUND;case Yt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Yt.ABORTED:return se.ABORTED;case Yt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Yt.DATA_LOSS:return se.DATA_LOSS;default:return Ve(39323,{code:t})}}(it=Yt||(Yt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const koe=new Lo([4294967295,4294967295],0);function TD(t){const e=aF().encode(t),n=new YV;return n.update(e),new Uint8Array(n.digest())}function SD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Lo([n,r],0),new Lo([i,a],0)]}class AS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cf(`Invalid padding: ${n}`);if(r<0)throw new Cf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cf(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Lo.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Lo.fromNumber(r)));return i.compare(koe)===1&&(i=new Lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=TD(e),[r,i]=SD(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new AS(a,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.pe===0)return;const n=TD(e),[r,i]=SD(n);for(let a=0;a<this.hashCount;a++){const o=this.we(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ly(ze.min(),i,new $t(Xe),Ua(),tt())}}class od{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new od(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class jF{constructor(e,n){this.targetId=e,this.Ce=n}}class $F{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class AD{constructor(){this.Fe=0,this.Me=PD(),this.xe=Mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tt(),n=tt(),r=tt();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve(38017,{changeType:a})}}),new od(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=PD()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ft(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Coe{constructor(e){this.ze=e,this.je=new Map,this.He=Ua(),this.Je=Xp(),this.Ye=Xp(),this.Ze=new $t(Xe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(Ax(a))if(r===0){const o=new Re(a.path);this.tt(n,o,Bn.newNoDocument(o,ze.min()))}else ft(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const u=this.ct(e),c=u?this.lt(u,e,o):1;if(c!==0){this.st(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,u;try{o=Uo(r).toUint8Array()}catch(c){if(c instanceof uF)return Ju("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new AS(o,i,a)}catch(c){return Ju(c instanceof Cf?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.pe===0?null:u}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const o=this.ze.Pt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,o)=>{const u=this._t(o);if(u){if(a.current&&Ax(u.target)){const c=new Re(u.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Bn.newNoDocument(c,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let r=tt();this.Ye.forEach((a,o)=>{let u=!0;o.forEachWhile(c=>{const f=this._t(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const i=new Ly(e,n,this.Ze,this.He,r);return this.He=Ua(),this.Je=Xp(),this.Ye=Xp(),this.Ze=new $t(Xe),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new AD,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hn(Xe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hn(Xe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new AD),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Xp(){return new $t(Re.comparator)}function PD(){return new $t(Re.comparator)}const Roe={asc:"ASCENDING",desc:"DESCENDING"},Noe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Moe={and:"AND",or:"OR"};class Doe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ox(t,e){return t.useProto3Json||Oy(e)?e:{value:e}}function xg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Loe(t,e){return xg(t,e.toTimestamp())}function Zi(t){return ft(!!t,49232),ze.fromTimestamp(function(n){const r=Fo(n);return new fn(r.seconds,r.nanos)}(t))}function PS(t,e){return kx(t,e).canonicalString()}function kx(t,e){const n=function(i){return new Pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FF(t){const e=Pt.fromString(t);return ft(HF(e),10190,{key:e.toString()}),e}function Cx(t,e){return PS(t.databaseId,e.path)}function jE(t,e){const n=FF(e);if(n.get(1)!==t.databaseId.projectId)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(qF(n))}function UF(t,e){return PS(t.databaseId,e)}function joe(t){const e=FF(t);return e.length===4?Pt.emptyPath():qF(e)}function Rx(t){return new Pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qF(t){return ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ID(t,e,n){return{name:Cx(t,e),fields:n.value.mapValue.fields}}function $oe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ve(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,d){return f.useProto3Json?(ft(d===void 0||typeof d=="string",58123),Mn.fromBase64String(d||"")):(ft(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Mn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(f){const d=f.code===void 0?se.UNKNOWN:LF(f.code);return new we(d,f.message||"")}(o);n=new $F(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jE(t,r.document.name),a=Zi(r.document.updateTime),o=r.document.createTime?Zi(r.document.createTime):ze.min(),u=new yr({mapValue:{fields:r.document.fields}}),c=Bn.newFoundDocument(i,a,o,u),f=r.targetIds||[],d=r.removedTargetIds||[];n=new um(f,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jE(t,r.document),a=r.readTime?Zi(r.readTime):ze.min(),o=Bn.newNoDocument(i,a),u=r.removedTargetIds||[];n=new um([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jE(t,r.document),a=r.removedTargetIds||[];n=new um([],a,i,null)}else{if(!("filter"in e))return Ve(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new Ioe(i,a),u=r.targetId;n=new jF(u,o)}}return n}function Voe(t,e){let n;if(e instanceof ad)n={update:ID(t,e.key,e.value)};else if(e instanceof TS)n={delete:Cx(t,e.key)};else if(e instanceof Jo)n={update:ID(t,e.key,e.data),updateMask:Koe(e.fieldMask)};else{if(!(e instanceof Soe))return Ve(16599,{ft:e.type});n={verify:Cx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,o){const u=o.transform;if(u instanceof wg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $h)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Vh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Eg)return{fieldPath:o.field.canonicalString(),increment:u.Re};throw Ve(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:Loe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ve(27497)}(t,e.precondition)),n}function Foe(t,e){return t&&t.length>0?(ft(e!==void 0,14353),t.map(n=>function(i,a){let o=i.updateTime?Zi(i.updateTime):Zi(a);return o.isEqual(ze.min())&&(o=Zi(a)),new Eoe(o,i.transformResults||[])}(n,e))):[]}function Uoe(t,e){return{documents:[UF(t,e.path)]}}function qoe(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UF(t,i);const a=function(f){if(f.length!==0)return zF(Ii.create(f,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(f){if(f.length!==0)return f.map(d=>function(y){return{field:cu(y.field),direction:Hoe(y.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const u=Ox(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:n,parent:i}}function Boe(t){let e=joe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ft(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(p){const y=BF(p);return y instanceof Ii&&_F(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(x){return new jh(fu(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(y))}(n.orderBy));let u=null;n.limit&&(u=function(p){let y;return y=typeof p=="object"?p.value:p,Oy(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(p){const y=!!p.before,_=p.values||[];return new bg(_,y)}(n.startAt));let f=null;return n.endAt&&(f=function(p){const y=!p.before,_=p.values||[];return new bg(_,y)}(n.endAt)),uoe(e,i,o,a,u,"F",c,f)}function zoe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BF(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fu(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fu(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=fu(n.unaryFilter.field);return Zt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fu(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(fu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(r=>BF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}}(n.compositeFilter.op))}(t):Ve(30097,{filter:t})}function Hoe(t){return Roe[t]}function Woe(t){return Noe[t]}function Goe(t){return Moe[t]}function cu(t){return{fieldPath:t.canonicalString()}}function fu(t){return Cn.fromServerFormat(t.fieldPath)}function zF(t){return t instanceof Zt?function(n){if(n.op==="=="){if(mD(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NAN"}};if(pD(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mD(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NAN"}};if(pD(n.value))return{unaryFilter:{field:cu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cu(n.field),op:Woe(n.op),value:n.value}}}(t):t instanceof Ii?function(n){const r=n.getFilters().map(i=>zF(i));return r.length===1?r[0]:{compositeFilter:{op:Goe(n.op),filters:r}}}(t):Ve(54877,{filter:t})}function Koe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r,i,a=ze.min(),o=ze.min(),u=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new Co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xoe{constructor(e){this.wt=e}}function Qoe(t){const e=Boe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ix(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yoe{constructor(){this.Cn=new Joe}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Vo.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class Joe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hn(Pt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hn(Pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WF=41943040;class pr{static withCacheSize(e){return new pr(e,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr.DEFAULT_COLLECTION_PERCENTILE=10,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pr.DEFAULT=new pr(WF,pr.DEFAULT_COLLECTION_PERCENTILE,pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pr.DISABLED=new pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new nc(0)}static lr(){return new nc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD="LruGarbageCollector",Zoe=1048576;function CD([t,e],[n,r]){const i=Xe(t,n);return i===0?Xe(e,r):i}class ese{constructor(e){this.Er=e,this.buffer=new hn(CD),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();CD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tse{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ee(kD,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vc(n)?Ee(kD,"Ignoring IndexedDB error during garbage collection: ",n):await yc(n)}await this.mr(3e5)})}}class nse{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return le.resolve(Iy.le);const r=new ese(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(OD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OD):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,a,o,u,c,f;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,u=Date.now(),this.removeTargets(e,r,n))).next(p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(f=Date.now(),lu()<=et.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(u-o)+`ms
	Removed ${a} targets in `+(c-u)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-d}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p})))}}function rse(t,e){return new nse(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(){this.changes=new hl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wf(r.mutation,i,Nr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,tt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=tt()){const i=$s();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let o=kf();return a.forEach((u,c)=>{o=o.insert(u,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=$s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,tt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let a=Ua();const o=Hf(),u=function(){return Hf()}();return n.forEach((c,f)=>{const d=r.get(f.key);i.has(f.key)&&(d===void 0||d.mutation instanceof Jo)?a=a.insert(f.key,f):d!==void 0?(o.set(f.key,d.mutation.getFieldMask()),Wf(d.mutation,f,d.mutation.getFieldMask(),fn.now())):o.set(f.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((f,d)=>o.set(f,d)),n.forEach((f,d)=>{var p;return u.set(f,new ase(d,(p=o.get(f))!==null&&p!==void 0?p:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Hf();let i=new $t((o,u)=>o-u),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(c=>{const f=n.get(c);if(f===null)return;let d=r.get(c)||Nr.empty();d=u.applyToLocalView(f,d),r.set(c,d);const p=(i.get(u.batchId)||tt()).add(c);i=i.insert(u.batchId,p)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),f=c.key,d=c.value,p=IF();d.forEach(y=>{if(!a.has(y)){const _=MF(n.get(y),r.get(y));_!==null&&p.set(y,_),a=a.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,f,p))}return le.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):le.resolve($s());let u=Nh,c=a;return o.next(f=>le.forEach(f,(d,p)=>(u<p.largestBatchId&&(u=p.largestBatchId),a.get(d)?le.resolve():this.remoteDocumentCache.getEntry(e,d).next(y=>{c=c.insert(d,y)}))).next(()=>this.populateOverlays(e,f,a)).next(()=>this.computeViews(e,c,f,tt())).next(d=>({batchId:u,changes:PF(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next(r=>{let i=kf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=kf();return this.indexManager.getCollectionParents(e,a).next(u=>le.forEach(u,c=>{const f=function(p,y){return new fl(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(d=>{d.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(o=>{a.forEach((c,f)=>{const d=f.getKey();o.get(d)===null&&(o=o.insert(d,Bn.newInvalidDocument(d)))});let u=kf();return o.forEach((c,f)=>{const d=a.get(c);d!==void 0&&Wf(d.mutation,f,Nr.empty(),fn.now()),Ny(n,f)&&(u=u.insert(c,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sse{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return le.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zi(i.createTime)}}(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:Qoe(i.bundledQuery),readTime:Zi(i.readTime)}}(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(){this.overlays=new $t(Re.comparator),this.Qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$s();return le.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=$s(),a=n.length+1,o=new Re(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const c=u.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===a&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new $t((f,d)=>f-d);const o=this.overlays.getIterator();for(;o.hasNext();){const f=o.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let d=a.get(f.largestBatchId);d===null&&(d=$s(),a=a.insert(f.largestBatchId,d)),d.set(f.getKey(),f)}}const u=$s(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((f,d)=>u.set(f,d)),!(u.size()>=i)););return le.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Poe(n,r));let a=this.Qr.get(n);a===void 0&&(a=tt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class use{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.$r=new hn(_n.Ur),this.Kr=new hn(_n.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new _n(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new _n(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Re(new Pt([])),r=new _n(n,e),i=new _n(n,e+1),a=[];return this.Kr.forEachInRange([r,i],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Re(new Pt([])),r=new _n(n,e),i=new _n(n,e+1);let a=tt();return this.Kr.forEachInRange([r,i],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new _n(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _n{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Re.comparator(e.key,n.key)||Xe(e.Zr,n.Zr)}static Wr(e,n){return Xe(e.Zr,n.Zr)||Re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new hn(_n.Ur)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Aoe(a,n,r,i);this.mutationQueue.push(o);for(const u of i)this.Xr=this.Xr.add(new _n(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,n){return le.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),a=i<0?0:i;return le.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?vS:this.nr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _n(n,0),i=new _n(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,i],o=>{const u=this.ei(o.Zr);a.push(u)}),le.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hn(Xe);return n.forEach(i=>{const a=new _n(i,0),o=new _n(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],u=>{r=r.add(u.Zr)})}),le.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Re.isDocumentKey(a)||(a=a.child(""));const o=new _n(new Re(a),0);let u=new hn(Xe);return this.Xr.forEachWhile(c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(c.Zr)),!0)},o),le.resolve(this.ni(u))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ft(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return le.forEach(n.mutations,i=>{const a=new _n(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new _n(n,0),i=this.Xr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fse{constructor(e){this.ii=e,this.docs=function(){return new $t(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(n))}getEntries(e,n){let r=Ua();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Bn.newInvalidDocument(i))}),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Ua();const o=n.path,u=new Re(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:f,value:{document:d}}=c.getNext();if(!o.isPrefixOf(f.path))break;f.path.length>o.length+1||Uae(Fae(d),r)<=0||(i.has(d.key)||Ny(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return le.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ve(9500)}si(e,n){return le.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hse(this)}getSize(e){return le.resolve(this.size)}}class hse extends ise{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),le.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dse{constructor(e){this.persistence=e,this.oi=new hl(n=>wS(n),ES),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new IS,this.targetCount=0,this.ui=nc.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),le.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new nc(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Tr(n),le.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.oi.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),le.waitFor(a).next(()=>i)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(o=>{a.push(i.markPotentiallyOrphaned(e,o))}),le.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n){this.ci={},this.overlays={},this.li=new Iy(0),this.hi=!1,this.hi=!0,this.Pi=new use,this.referenceDelegate=e(this),this.Ti=new dse(this),this.indexManager=new Yoe,this.remoteDocumentCache=function(i){return new fse(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Xoe(n),this.Ei=new sse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lse,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new cse(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new pse(this.li.next());return this.referenceDelegate.di(),r(i).next(a=>this.referenceDelegate.Ai(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ri(e,n){return le.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class pse extends Bae{constructor(e){super(),this.currentSequenceNumber=e}}class OS{constructor(e){this.persistence=e,this.Vi=new IS,this.mi=null}static fi(e){return new OS(e)}get gi(){if(this.mi)return this.mi;throw Ve(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.gi,r=>{const i=Re.fromPath(r);return this.pi(e,i).next(a=>{a||n.removeEntry(i,ze.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return le.or([()=>le.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Tg{constructor(e,n){this.persistence=e,this.yi=new hl(r=>Wae(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=rse(this,n)}static fi(e,n){return new Tg(e,n)}di(){}Ai(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return le.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(a=>a?le.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.si(e,o=>this.Dr(e,o,n).next(u=>{u||(r++,a.removeEntry(o,ze.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),le.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=om(e.data.value)),n}Dr(e,n,r){return le.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=tt(),i=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new kS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mse{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Yte()?8:zae(Wn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ws(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,n,i,r).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new mse;return this.Ss(e,n,o).next(u=>{if(a.result=u,this.fs)return this.Ds(e,n,o,u.size)})}).next(()=>a.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(lu()<=et.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",uu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),le.resolve()):(lu()<=et.DEBUG&&Ee("QueryEngine","Query:",uu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(lu()<=et.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",uu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ji(n))):le.resolve())}ws(e,n){if(_D(n))return le.resolve(null);let r=Ji(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ix(n,null,"F"),r=Ji(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const o=tt(...a);return this.ys.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(c=>{const f=this.vs(n,u);return this.Cs(n,f,o,c.readTime)?this.ws(e,Ix(n,null,"F")):this.Fs(e,f,n,c)}))})))}bs(e,n,r,i){return _D(n)||i.isEqual(ze.min())?le.resolve(null):this.ys.getDocuments(e,r).next(a=>{const o=this.vs(n,a);return this.Cs(n,o,r,i)?le.resolve(null):(lu()<=et.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uu(n)),this.Fs(e,o,n,Vae(i,Nh)).next(u=>u))})}vs(e,n){let r=new hn(SF(e));return n.forEach((i,a)=>{Ny(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return lu()<=et.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",uu(n)),this.ys.getDocumentsMatchingQuery(e,n,Vo.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="LocalStore",yse=3e8;class vse{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new $t(Xe),this.Os=new hl(a=>wS(a),ES),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ose(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function _se(t,e,n,r){return new vse(t,e,n,r)}async function KF(t,e){const n=He(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const o=[],u=[];let c=tt();for(const f of i){o.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}for(const f of a){u.push(f.batchId);for(const d of f.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(f=>({ks:f,removedBatchIds:o,addedBatchIds:u}))})})}function bse(t,e){const n=He(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(u,c,f,d){const p=f.batch,y=p.keys();let _=le.resolve();return y.forEach(x=>{_=_.next(()=>d.getEntry(c,x)).next(E=>{const b=f.docVersions.get(x);ft(b!==null,48541),E.version.compareTo(b)<0&&(p.applyToRemoteDocument(E,f),E.isValidDocument()&&(E.setReadTime(f.commitVersion),d.addEntry(E)))})}),_.next(()=>u.mutationQueue.removeMutationBatch(c,p))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let c=tt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(c=c.add(u.batch.mutations[f].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XF(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function wse(t,e){const n=He(t),r=e.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const u=[];e.targetChanges.forEach((d,p)=>{const y=i.get(p);if(!y)return;u.push(n.Ti.removeMatchingKeys(a,d.removedDocuments,p).next(()=>n.Ti.addMatchingKeys(a,d.addedDocuments,p)));let _=y.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(Mn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(p,_),function(E,b,C){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=yse?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(y,_,d)&&u.push(n.Ti.updateTargetData(a,_))});let c=Ua(),f=tt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),u.push(Ese(a,o,e.documentUpdates).next(d=>{c=d.qs,f=d.Qs})),!r.isEqual(ze.min())){const d=n.Ti.getLastRemoteSnapshotVersion(a).next(p=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(d)}return le.waitFor(u).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,f)).next(()=>c)}).then(a=>(n.xs=i,a))}function Ese(t,e,n){let r=tt(),i=tt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let o=Ua();return n.forEach((u,c)=>{const f=a.get(u);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(u,c.readTime),o=o.insert(u,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),o=o.insert(u,c)):Ee(CS,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",c.version)}),{qs:o,Qs:i}})}function xse(t,e){const n=He(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tse(t,e){const n=He(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ti.getTargetData(r,e).next(a=>a?(i=a,le.resolve(i)):n.Ti.allocateTargetId(r).next(o=>(i=new Co(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Nx(t,e,n){const r=He(t),i=r.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vc(o))throw o;Ee(CS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)}function RD(t,e,n){const r=He(t);let i=ze.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,f,d){const p=He(c),y=p.Os.get(d);return y!==void 0?le.resolve(p.xs.get(y)):p.Ti.getTargetData(f,d)}(r,o,Ji(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,u.targetId).next(c=>{a=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?i:ze.min(),n?a:tt())).next(u=>(Sse(r,foe(e),u),{documents:u,$s:a})))}function Sse(t,e,n){let r=t.Ns.get(e)||ze.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ns.set(e,r)}class ND{constructor(){this.activeTargetIds=yoe()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ase{constructor(){this.xo=new ND,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new ND,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pse{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="ConnectivityMonitor";class DD{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ee(MD,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ee(MD,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp=null;function Mx(){return Qp===null?Qp=function(){return 268435456+Math.round(2147483648*Math.random())}():Qp++,"0x"+Qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="RestConnection",Ise={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ose{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===vg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,a){const o=Mx(),u=this.jo(e,n.toUriEncodedString());Ee($E,`Sending RPC '${e}' ${o}:`,u,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,i,a);const{host:f}=new URL(u),d=Ga(f);return this.Jo(e,u,c,r,d).then(p=>(Ee($E,`Received RPC '${e}' ${o}: `,p),p),p=>{throw Ju($E,`RPC '${e}' ${o} failed with error: `,p,"url: ",u,"request:",r),p})}Yo(e,n,r,i,a,o){return this.zo(e,n,r,i,a)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}jo(e,n){const r=Ise[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kse{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class Cse extends Ose{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=Mx();return new Promise((u,c)=>{const f=new JV;f.setWithCredentials(!0),f.listenOnce(ZV.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case am.NO_ERROR:const p=f.getResponseJson();Ee(Vn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),u(p);break;case am.TIMEOUT:Ee(Vn,`RPC '${e}' ${o} timed out`),c(new we(se.DEADLINE_EXCEEDED,"Request time out"));break;case am.HTTP_ERROR:const y=f.getStatus();if(Ee(Vn,`RPC '${e}' ${o} failed with status:`,y,"response text:",f.getResponseText()),y>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const x=_?.error;if(x&&x.status&&x.message){const E=function(C){const k=C.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(k)>=0?k:se.UNKNOWN}(x.status);c(new we(E,x.message))}else c(new we(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new we(se.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{h_:e,streamId:o,P_:f.getLastErrorCode(),T_:f.getLastError()})}}finally{Ee(Vn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Ee(Vn,`RPC '${e}' ${o} sending request:`,i),f.send(n,"POST",d,r,15)})}I_(e,n,r){const i=Mx(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=nF(),u=tF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=a.join("");Ee(Vn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const p=o.createWebChannel(d,c);this.E_(p);let y=!1,_=!1;const x=new kse({Zo:b=>{_?Ee(Vn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(Ee(Vn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),Ee(Vn,`RPC '${e}' stream ${i} sending:`,b),p.send(b))},Xo:()=>p.close()}),E=(b,C,k)=>{b.listen(C,A=>{try{k(A)}catch(L){setTimeout(()=>{throw L},0)}})};return E(p,Of.EventType.OPEN,()=>{_||(Ee(Vn,`RPC '${e}' stream ${i} transport opened.`),x.__())}),E(p,Of.EventType.CLOSE,()=>{_||(_=!0,Ee(Vn,`RPC '${e}' stream ${i} transport closed`),x.u_(),this.d_(p))}),E(p,Of.EventType.ERROR,b=>{_||(_=!0,Ju(Vn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),x.u_(new we(se.UNAVAILABLE,"The operation could not be completed")))}),E(p,Of.EventType.MESSAGE,b=>{var C;if(!_){const k=b.data[0];ft(!!k,16349);const A=k,L=A?.error||((C=A[0])===null||C===void 0?void 0:C.error);if(L){Ee(Vn,`RPC '${e}' stream ${i} received error:`,L);const I=L.status;let N=function(M){const F=Yt[M];if(F!==void 0)return LF(F)}(I),P=L.message;N===void 0&&(N=se.INTERNAL,P="Unknown error status: "+I+" with message "+L.message),_=!0,x.u_(new we(N,P)),p.close()}else Ee(Vn,`RPC '${e}' stream ${i} received:`,k),x.c_(k)}}),E(u,eF.STAT_EVENT,b=>{b.stat===wx.PROXY?Ee(Vn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===wx.NOPROXY&&Ee(Vn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.a_()},0),x}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function VE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return new Doe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r=1e3,i=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=i,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,n-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="PersistentStream";class YF{constructor(e,n,r,i,a,o,u,c){this.xi=e,this.S_=r,this.D_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new QF(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(Fa(n.toString()),Fa("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===n&&this.z_(r,i)},r=>{e(()=>{const i=new we(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Ee(LD,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Ee(LD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rse extends YF{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=$oe(this.serializer,e),r=function(a){if(!("targetChange"in a))return ze.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?Zi(o.readTime):ze.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Rx(this.serializer),n.addTarget=function(a,o){let u;const c=o.target;if(u=Ax(c)?{documents:Uoe(a,c)}:{query:qoe(a,c).gt},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=VF(a,o.resumeToken);const f=Ox(a,o.expectedCount);f!==null&&(u.expectedCount=f)}else if(o.snapshotVersion.compareTo(ze.min())>0){u.readTime=xg(a,o.snapshotVersion.toTimestamp());const f=Ox(a,o.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=zoe(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Rx(this.serializer),n.removeTarget=e,this.Q_(n)}}class Nse extends YF{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=Foe(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Rx(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Voe(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mse{}class Dse extends Mse{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,kx(n,r),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(se.UNKNOWN,a.toString())})}Yo(e,n,r,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Yo(e,kx(n,r),i,o,u,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new we(se.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Lse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Fa(n),this.ua=!1):Ee("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="RemoteStore";class jse{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{r.enqueueAndForget(async()=>{dl(this)&&(Ee(el,"Restarting streams for network reachability change."),await async function(c){const f=He(c);f.da.add(4),await sd(f),f.Va.set("Unknown"),f.da.delete(4),await $y(f)}(this))})}),this.Va=new Lse(r,i)}}async function $y(t){if(dl(t))for(const e of t.Aa)await e(!0)}async function sd(t){for(const e of t.Aa)await e(!1)}function JF(t,e){const n=He(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),DS(n)?MS(n):_c(n).N_()&&NS(n,e))}function RS(t,e){const n=He(t),r=_c(n);n.Ea.delete(e),r.N_()&&ZF(n,e),n.Ea.size===0&&(r.N_()?r.k_():dl(n)&&n.Va.set("Unknown"))}function NS(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_c(t).Z_(e)}function ZF(t,e){t.ma.Ke(e),_c(t).X_(e)}function MS(t){t.ma=new Coe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),_c(t).start(),t.Va.ca()}function DS(t){return dl(t)&&!_c(t).O_()&&t.Ea.size>0}function dl(t){return He(t).da.size===0}function e3(t){t.ma=void 0}async function $se(t){t.Va.set("Online")}async function Vse(t){t.Ea.forEach((e,n)=>{NS(t,e)})}async function Fse(t,e){e3(t),DS(t)?(t.Va.Pa(e),MS(t)):t.Va.set("Unknown")}async function Use(t,e,n){if(t.Va.set("Online"),e instanceof $F&&e.state===2&&e.cause)try{await async function(i,a){const o=a.cause;for(const u of a.targetIds)i.Ea.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.Ea.delete(u),i.ma.removeTarget(u))}(t,e)}catch(r){Ee(el,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sg(t,r)}else if(e instanceof um?t.ma.Xe(e):e instanceof jF?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ze.min()))try{const r=await XF(t.localStore);n.compareTo(r)>=0&&await function(a,o){const u=a.ma.It(o);return u.targetChanges.forEach((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ea.get(f);d&&a.Ea.set(f,d.withResumeToken(c.resumeToken,o))}}),u.targetMismatches.forEach((c,f)=>{const d=a.Ea.get(c);if(!d)return;a.Ea.set(c,d.withResumeToken(Mn.EMPTY_BYTE_STRING,d.snapshotVersion)),ZF(a,c);const p=new Co(d.target,c,f,d.sequenceNumber);NS(a,p)}),a.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){Ee(el,"Failed to raise snapshot:",r),await Sg(t,r)}}async function Sg(t,e,n){if(!vc(e))throw e;t.da.add(1),await sd(t),t.Va.set("Offline"),n||(n=()=>XF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee(el,"Retrying IndexedDB access"),await n(),t.da.delete(1),await $y(t)})}function t3(t,e){return e().catch(n=>Sg(t,n,e))}async function Vy(t){const e=He(t),n=Bo(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:vS;for(;qse(e);)try{const i=await xse(e.localStore,r);if(i===null){e.Ia.length===0&&n.k_();break}r=i.batchId,Bse(e,i)}catch(i){await Sg(e,i)}n3(e)&&r3(e)}function qse(t){return dl(t)&&t.Ia.length<10}function Bse(t,e){t.Ia.push(e);const n=Bo(t);n.N_()&&n.ea&&n.ta(e.mutations)}function n3(t){return dl(t)&&!Bo(t).O_()&&t.Ia.length>0}function r3(t){Bo(t).start()}async function zse(t){Bo(t).ia()}async function Hse(t){const e=Bo(t);for(const n of t.Ia)e.ta(n.mutations)}async function Wse(t,e,n){const r=t.Ia.shift(),i=SS.from(r,e,n);await t3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vy(t)}async function Gse(t,e){e&&Bo(t).ea&&await async function(r,i){if(function(o){return Ooe(o)&&o!==se.ABORTED}(i.code)){const a=r.Ia.shift();Bo(r).L_(),await t3(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Vy(r)}}(t,e),n3(t)&&r3(t)}async function jD(t,e){const n=He(t);n.asyncQueue.verifyOperationInProgress(),Ee(el,"RemoteStore received new credentials");const r=dl(n);n.da.add(3),await sd(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await $y(n)}async function Kse(t,e){const n=He(t);e?(n.da.delete(2),await $y(n)):e||(n.da.add(2),await sd(n),n.Va.set("Unknown"))}function _c(t){return t.fa||(t.fa=function(n,r,i){const a=He(n);return a.oa(),new Rse(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:$se.bind(null,t),n_:Vse.bind(null,t),i_:Fse.bind(null,t),Y_:Use.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),DS(t)?MS(t):t.Va.set("Unknown")):(await t.fa.stop(),e3(t))})),t.fa}function Bo(t){return t.ga||(t.ga=function(n,r,i){const a=He(n);return a.oa(),new Nse(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:zse.bind(null,t),i_:Gse.bind(null,t),na:Hse.bind(null,t),ra:Wse.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Vy(t)):(await t.ga.stop(),t.Ia.length>0&&(Ee(el,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ca,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,u=new LS(e,n,o,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jS(t,e){if(Fa("AsyncQueue",`${e}: ${t}`),vc(t))return new we(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{static emptySet(e){return new Su(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=kf(),this.sortedSet=new $t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Su;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.pa=new $t(Re.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ve(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class rc{constructor(e,n,r,i,a,o,u,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new rc(e,n,Su.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ry(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Qse{constructor(){this.queries=VD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=He(n),a=i.queries;i.queries=VD(),a.forEach((o,u)=>{for(const c of u.Sa)c.onError(r)})})(this,new we(se.ABORTED,"Firestore shutting down"))}}function VD(){return new hl(t=>TF(t),Ry)}async function $S(t,e){const n=He(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Da()&&e.va()&&(r=2):(a=new Xse,r=e.va()?0:1);try{switch(r){case 0:a.ba=await n.onListen(i,!0);break;case 1:a.ba=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const u=jS(o,`Initialization of query '${uu(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&FS(n)}async function VS(t,e){const n=He(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.va()?0:1:!a.Da()&&e.va()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yse(t,e){const n=He(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const u of o.Sa)u.Ma(i)&&(r=!0);o.ba=i}}r&&FS(n)}function Jse(t,e,n){const r=He(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function FS(t){t.Ca.forEach(e=>{e.next()})}var Dx,FD;(FD=Dx||(Dx={})).xa="default",FD.Cache="cache";class US{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=rc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Dx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.key=e}}class a3{constructor(e){this.key=e}}class Zse{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=tt(),this.mutatedKeys=tt(),this.Za=SF(e),this.Xa=new Su(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new $D,i=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const y=i.get(d),_=Ny(this.query,p)?p:null,x=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let b=!1;y&&_?y.data.isEqual(_.data)?x!==E&&(r.track({type:3,doc:_}),b=!0):this.ru(y,_)||(r.track({type:2,doc:_}),b=!0,(c&&this.Za(_,c)>0||f&&this.Za(_,f)<0)&&(u=!0)):!y&&_?(r.track({type:0,doc:_}),b=!0):y&&!_&&(r.track({type:1,doc:y}),b=!0,(c||f)&&(u=!0)),b&&(_?(o=o.add(_),a=E?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:u,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,p)=>function(_,x){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Vt:b})}};return E(_)-E(x)}(d.type,p.type)||this.Za(d.doc,p.doc)),this.iu(r),i=i!=null&&i;const u=n&&!i?this.su():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Ja;return this.Ja=c,o.length!==0||f?{snapshot:new rc(this.query,e.Xa,a,o,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:u}:{ou:u}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $D,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=tt(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new a3(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new i3(r))}),n}au(e){this.Ha=e.$s,this.Ya=tt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return rc.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const qS="SyncEngine";class ele{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class tle{constructor(e){this.key=e,this.cu=!1}}class nle{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new hl(u=>TF(u),Ry),this.Pu=new Map,this.Tu=new Set,this.Iu=new $t(Re.comparator),this.Eu=new Map,this.du=new IS,this.Au={},this.Ru=new Map,this.Vu=nc.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function rle(t,e,n=!0){const r=f3(t);let i;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.uu()):i=await o3(r,e,n,!0),i}async function ile(t,e){const n=f3(t);await o3(n,e,!0,!1)}async function o3(t,e,n,r){const i=await Tse(t.localStore,Ji(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let u;return r&&(u=await ale(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JF(t.remoteStore,i),u}async function ale(t,e,n,r,i){t.fu=(p,y,_)=>async function(E,b,C,k){let A=b.view.tu(C);A.Cs&&(A=await RD(E.localStore,b.query,!1).then(({documents:P})=>b.view.tu(P,A)));const L=k&&k.targetChanges.get(b.targetId),I=k&&k.targetMismatches.get(b.targetId)!=null,N=b.view.applyChanges(A,E.isPrimaryClient,L,I);return qD(E,b.targetId,N.ou),N.snapshot}(t,p,y,_);const a=await RD(t.localStore,e,!0),o=new Zse(e,a.$s),u=o.tu(a.documents),c=od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=o.applyChanges(u,t.isPrimaryClient,c);qD(t,n,f.ou);const d=new ele(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),f.snapshot}async function ole(t,e,n){const r=He(t),i=r.hu.get(e),a=r.Pu.get(i.targetId);if(a.length>1)return r.Pu.set(i.targetId,a.filter(o=>!Ry(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RS(r.remoteStore,i.targetId),Lx(r,i.targetId)}).catch(yc)):(Lx(r,i.targetId),await Nx(r.localStore,i.targetId,!0))}async function sle(t,e){const n=He(t),r=n.hu.get(e),i=n.Pu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RS(n.remoteStore,r.targetId))}async function lle(t,e,n){const r=mle(t);try{const i=await function(o,u){const c=He(o),f=fn.now(),d=u.reduce((_,x)=>_.add(x.key),tt());let p,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let x=Ua(),E=tt();return c.Bs.getEntries(_,d).next(b=>{x=b,x.forEach((C,k)=>{k.isValidDocument()||(E=E.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,x)).next(b=>{p=b;const C=[];for(const k of u){const A=Toe(k,p.get(k.key).overlayedDocument);A!=null&&C.push(new Jo(k.key,A,gF(A.value.mapValue),ti.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,C,u)}).next(b=>{y=b;const C=b.applyToLocalDocumentSet(p,E);return c.documentOverlayCache.saveOverlays(_,b.batchId,C)})}).then(()=>({batchId:y.batchId,changes:PF(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,c){let f=o.Au[o.currentUser.toKey()];f||(f=new $t(Xe)),f=f.insert(u,c),o.Au[o.currentUser.toKey()]=f}(r,i.batchId,n),await ld(r,i.changes),await Vy(r.remoteStore)}catch(i){const a=jS(i,"Failed to persist write");n.reject(a)}}async function s3(t,e){const n=He(t);try{const r=await wse(n.localStore,e);e.targetChanges.forEach((i,a)=>{const o=n.Eu.get(a);o&&(ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.cu=!0:i.modifiedDocuments.size>0?ft(o.cu,14607):i.removedDocuments.size>0&&(ft(o.cu,42227),o.cu=!1))}),await ld(n,r,e)}catch(r){await yc(r)}}function UD(t,e,n){const r=He(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.hu.forEach((a,o)=>{const u=o.view.Fa(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const c=He(o);c.onlineState=u;let f=!1;c.queries.forEach((d,p)=>{for(const y of p.Sa)y.Fa(u)&&(f=!0)}),f&&FS(c)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ule(t,e,n){const r=He(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),a=i&&i.key;if(a){let o=new $t(Re.comparator);o=o.insert(a,Bn.newNoDocument(a,ze.min()));const u=tt().add(a),c=new Ly(ze.min(),new Map,new $t(Xe),o,u);await s3(r,c),r.Iu=r.Iu.remove(a),r.Eu.delete(e),BS(r)}else await Nx(r.localStore,e,!1).then(()=>Lx(r,e,n)).catch(yc)}async function cle(t,e){const n=He(t),r=e.batch.batchId;try{const i=await bse(n.localStore,e);u3(n,r,null),l3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ld(n,i)}catch(i){await yc(i)}}async function fle(t,e,n){const r=He(t);try{const i=await function(o,u){const c=He(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let d;return c.mutationQueue.lookupMutationBatch(f,u).next(p=>(ft(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(f,p))).next(()=>c.mutationQueue.performConsistencyCheck(f)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(f,d,u)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,d)).next(()=>c.localDocuments.getDocuments(f,d))})}(r.localStore,e);u3(r,e,n),l3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ld(r,i)}catch(i){await yc(i)}}function l3(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function u3(t,e,n){const r=He(t);let i=r.Au[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function Lx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||c3(t,r)})}function c3(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(RS(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),BS(t))}function qD(t,e,n){for(const r of n)r instanceof i3?(t.du.addReference(r.key,e),hle(t,r)):r instanceof a3?(Ee(qS,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||c3(t,r.key)):Ve(19791,{pu:r})}function hle(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(Ee(qS,"New document in limbo: "+n),t.Tu.add(r),BS(t))}function BS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Re(Pt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new tle(n)),t.Iu=t.Iu.insert(n,r),JF(t.remoteStore,new Co(Ji(Cy(n.path)),r,"TargetPurposeLimboResolution",Iy.le))}}async function ld(t,e,n){const r=He(t),i=[],a=[],o=[];r.hu.isEmpty()||(r.hu.forEach((u,c)=>{o.push(r.fu(c,e,n).then(f=>{var d;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(d=n?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=kS.Rs(c.targetId,f);a.push(p)}}))}),await Promise.all(o),r.lu.Y_(i),await async function(c,f){const d=He(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>le.forEach(f,y=>le.forEach(y.ds,_=>d.persistence.referenceDelegate.addReference(p,y.targetId,_)).next(()=>le.forEach(y.As,_=>d.persistence.referenceDelegate.removeReference(p,y.targetId,_)))))}catch(p){if(!vc(p))throw p;Ee(CS,"Failed to update sequence numbers: "+p)}for(const p of f){const y=p.targetId;if(!p.fromCache){const _=d.xs.get(y),x=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(x);d.xs=d.xs.insert(y,E)}}}(r.localStore,a))}async function dle(t,e){const n=He(t);if(!n.currentUser.isEqual(e)){Ee(qS,"User change. New user:",e.toKey());const r=await KF(n.localStore,e);n.currentUser=e,function(a,o){a.Ru.forEach(u=>{u.forEach(c=>{c.reject(new we(se.CANCELLED,o))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ld(n,r.ks)}}function ple(t,e){const n=He(t),r=n.Eu.get(e);if(r&&r.cu)return tt().add(r.key);{let i=tt();const a=n.Pu.get(e);if(!a)return i;for(const o of a){const u=n.hu.get(o);i=i.unionWith(u.view.eu)}return i}}function f3(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ple.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ule.bind(null,e),e.lu.Y_=Yse.bind(null,e.eventManager),e.lu.gu=Jse.bind(null,e.eventManager),e}function mle(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fle.bind(null,e),e}class Ag{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return _se(this.persistence,new gse,e.initialUser,this.serializer)}Su(e){return new GF(OS.fi,this.serializer)}bu(e){return new Ase}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ag.provider={build:()=>new Ag};class gle extends Ag{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){ft(this.persistence.referenceDelegate instanceof Tg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new tse(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?pr.withCacheSize(this.cacheSizeBytes):pr.DEFAULT;return new GF(r=>Tg.fi(r,n),this.serializer)}}class jx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>UD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dle.bind(null,this.syncEngine),await Kse(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Qse}()}createDatastore(e){const n=jy(e.databaseInfo.databaseId),r=function(a){return new Cse(a)}(e.databaseInfo);return function(a,o,u,c){return new Dse(a,o,u,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,o,u){return new jse(r,i,a,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>UD(this.syncEngine,n,0),function(){return DD.C()?new DD:new Pse}())}createSyncEngine(e,n){return function(i,a,o,u,c,f,d){const p=new nle(i,a,o,u,c,f);return d&&(p.mu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=He(i);Ee(el,"RemoteStore shutting down."),a.da.add(5),await sd(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jx.provider={build:()=>new jx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Fa("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="FirestoreClient";class yle{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=oF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async o=>{Ee(zo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ee(zo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ca;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=jS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function FE(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(zo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function BD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vle(t);Ee(zo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jD(e.remoteStore,i)),t._onlineComponents=e}async function vle(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(zo,"Using user provided OfflineComponentProvider");try{await FE(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ju("Error using user provided cache. Falling back to memory cache: "+n),await FE(t,new Ag)}}else Ee(zo,"Using default OfflineComponentProvider"),await FE(t,new gle(void 0));return t._offlineComponents}async function h3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(zo,"Using user provided OnlineComponentProvider"),await BD(t,t._uninitializedComponentsProvider._online)):(Ee(zo,"Using default OnlineComponentProvider"),await BD(t,new jx))),t._onlineComponents}function _le(t){return h3(t).then(e=>e.syncEngine)}async function Pg(t){const e=await h3(t),n=e.eventManager;return n.onListen=rle.bind(null,e.syncEngine),n.onUnlisten=ole.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ile.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sle.bind(null,e.syncEngine),n}function ble(t,e,n={}){const r=new Ca;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,u,c,f){const d=new zS({next:y=>{d.xu(),o.enqueueAndForget(()=>VS(a,p));const _=y.docs.has(u);!_&&y.fromCache?f.reject(new we(se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?f.reject(new we(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new US(Cy(u.path),d,{includeMetadataChanges:!0,Qa:!0});return $S(a,p)}(await Pg(t),t.asyncQueue,e,n,r)),r.promise}function wle(t,e,n={}){const r=new Ca;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,u,c,f){const d=new zS({next:y=>{d.xu(),o.enqueueAndForget(()=>VS(a,p)),y.fromCache&&c.source==="server"?f.reject(new we(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),p=new US(u,d,{includeMetadataChanges:!0,Qa:!0});return $S(a,p)}(await Pg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e,n){if(!n)throw new we(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ele(t,e,n,r){if(e===!0&&r===!0)throw new we(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HD(t){if(!Re.isDocumentKey(t))throw new we(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WD(t){if(Re.isDocumentKey(t))throw new we(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve(12329,{type:typeof t})}function ir(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fy(t);throw new we(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="firestore.googleapis.com",GD=!0;class KD{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p3,this.ssl=GD}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:GD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zoe)throw new we(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ele("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new we(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kae;switch(r.type){case"firstParty":return new Mae(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zD.get(n);r&&(Ee("ComponentProvider","Removing Datastore"),zD.delete(n),r.terminate())}(this),Promise.resolve()}}function xle(t,e,n,r={}){var i;t=ir(t,ud);const a=Ga(e),o=t._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(Ey(`https://${c}`),xy("Firestore",!0)),o.host!==p3&&o.host!==c&&Ju("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:r});if(!Qs(f,u)&&(t._setSettings(f),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Un.MOCK_USER;else{d=fV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new we(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Un(y)}t._authCredentials=new Cae(new iF(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class Hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class jo extends Ka{constructor(e,n,r){super(e,n,Cy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Re(e))}withConverter(e){return new jo(this.firestore,e,this._path)}}function er(t,e,...n){if(t=Et(t),HS("collection","path",e),t instanceof ud){const r=Pt.fromString(e,...n);return WD(r),new jo(t,null,r)}{if(!(t instanceof Hn||t instanceof jo))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return WD(r),new jo(t.firestore,null,r)}}function Tle(t,e){if(t=ir(t,ud),HS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ka(t,null,function(r){return new fl(Pt.emptyPath(),r)}(e))}function cn(t,e,...n){if(t=Et(t),arguments.length===1&&(e=oF.newId()),HS("doc","path",e),t instanceof ud){const r=Pt.fromString(e,...n);return HD(r),new Hn(t,null,new Re(r))}{if(!(t instanceof Hn||t instanceof jo))throw new we(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Pt.fromString(e,...n));return HD(r),new Hn(t.firestore,t instanceof jo?t.converter:null,new Re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="AsyncQueue";class QD{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new QF(this,"async_queue_retry"),this.rc=()=>{const r=VE();r&&Ee(XD,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=VE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=VE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Ca;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vc(e))throw e;Ee(XD,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Fa("INTERNAL UNHANDLED ERROR: ",YD(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const i=LS.createAndSchedule(this,e,n,r,a=>this.uc(a));return this.Zu.push(i),i}oc(){this.Xu&&Ve(47125,{cc:YD(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function YD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class qa extends ud{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new QD,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new QD(e),this._firestoreClient=void 0,await e}}}function Sle(t,e){const n=typeof t=="object"?t:Ty(),r=typeof t=="string"?t:vg,i=ed(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=iS("firestore");a&&xle(i,...a)}return i}function Uy(t){if(t._terminated)throw new we(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ale(t),t._firestoreClient}function Ale(t){var e,n,r;const i=t._freezeSettings(),a=function(u,c,f,d){return new Xae(u,c,f,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new yle(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(u){const c=u?._online.build();return{_offline:u?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ic(Mn.fromBase64String(e))}catch(n){throw new we(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ic(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ple=/^__.*__$/;class Ile{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ad(e,this.data,n,this.fieldTransforms)}}class m3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ic:t})}}class XS{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new XS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Ig(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(g3(this.Ic)&&Ple.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Ole{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jy(e)}bc(e,n,r,i=!1){return new XS({Ic:e,methodName:n,wc:r,path:Cn.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function By(t){const e=t._freezeSettings(),n=jy(t._databaseId);return new Ole(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y3(t,e,n,r,i,a={}){const o=t.bc(a.merge||a.mergeFields?2:0,e,n,i);QS("Data must be an object, but it was:",o,r);const u=v3(r,o);let c,f;if(a.merge)c=new Nr(o.fieldMask),f=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const p of a.mergeFields){const y=$x(e,p,n);if(!o.contains(y))throw new we(se.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);b3(d,y)||d.push(y)}c=new Nr(d),f=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,f=o.fieldTransforms;return new Ile(new yr(u),c,f)}class zy extends WS{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zy}}function kle(t,e,n,r){const i=t.bc(1,e,n);QS("Data must be an object, but it was:",i,r);const a=[],o=yr.empty();Yo(r,(c,f)=>{const d=YS(e,c,n);f=Et(f);const p=i.mc(d);if(f instanceof zy)a.push(d);else{const y=cd(f,p);y!=null&&(a.push(d),o.set(d,y))}});const u=new Nr(a);return new m3(o,u,i.fieldTransforms)}function Cle(t,e,n,r,i,a){const o=t.bc(1,e,n),u=[$x(e,r,n)],c=[i];if(a.length%2!=0)throw new we(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<a.length;y+=2)u.push($x(e,a[y])),c.push(a[y+1]);const f=[],d=yr.empty();for(let y=u.length-1;y>=0;--y)if(!b3(f,u[y])){const _=u[y];let x=c[y];x=Et(x);const E=o.mc(_);if(x instanceof zy)f.push(_);else{const b=cd(x,E);b!=null&&(f.push(_),d.set(_,b))}}const p=new Nr(f);return new m3(d,p,o.fieldTransforms)}function Rle(t,e,n,r=!1){return cd(n,t.bc(r?4:3,e))}function cd(t,e){if(_3(t=Et(t)))return QS("Unsupported field value:",e,t),v3(t,e);if(t instanceof WS)return function(r,i){if(!g3(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){const a=[];let o=0;for(const u of r){let c=cd(u,i.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return voe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=fn.fromDate(r);return{timestampValue:xg(i.serializer,a)}}if(r instanceof fn){const a=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xg(i.serializer,a)}}if(r instanceof GS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ic)return{bytesValue:VF(i.serializer,r._byteString)};if(r instanceof Hn){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:PS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof KS)return function(o,u){return{mapValue:{fields:{[pF]:{stringValue:mF},[_g]:{arrayValue:{values:o.toArray().map(f=>{if(typeof f!="number")throw u.gc("VectorValues must only contain numeric values.");return xS(u.serializer,f)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${Fy(r)}`)}(t,e)}function v3(t,e){const n={};return lF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yo(t,(r,i)=>{const a=cd(i,e.Ac(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function _3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof GS||t instanceof ic||t instanceof Hn||t instanceof WS||t instanceof KS)}function QS(t,e,n){if(!_3(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Fy(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function $x(t,e,n){if((e=Et(e))instanceof qy)return e._internalPath;if(typeof e=="string")return YS(t,e);throw Ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const Nle=new RegExp("[~\\*/\\[\\]]");function YS(t,e,n){if(e.search(Nle)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qy(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ig(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new we(se.INVALID_ARGUMENT,u+t+c)}function b3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Mle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Mle extends w3{data(){return super.data()}}function Hy(t,e){return typeof e=="string"?YS(t,e):e instanceof qy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JS{}class x3 extends JS{}function Si(t,e,...n){let r=[];e instanceof JS&&r.push(e),r=r.concat(n),function(a){const o=a.filter(c=>c instanceof ZS).length,u=a.filter(c=>c instanceof Wy).length;if(o>1||o>0&&u>0)throw new we(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wy extends x3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wy(e,n,r)}_apply(e){const n=this._parse(e);return T3(e._query,n),new Ka(e.firestore,e.converter,Px(e._query,n))}_parse(e){const n=By(e.firestore);return function(a,o,u,c,f,d,p){let y;if(f.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new we(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){eL(p,d);const x=[];for(const E of p)x.push(ZD(c,a,E));y={arrayValue:{values:x}}}else y=ZD(c,a,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||eL(p,d),y=Rle(u,o,p,d==="in"||d==="not-in");return Zt.create(f,d,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function vu(t,e,n){const r=e,i=Hy("where",t);return Wy._create(i,r,n)}class ZS extends JS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ZS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let o=i;const u=a.getFlattenedFilters();for(const c of u)T3(o,c),o=Px(o,c)}(e._query,n),new Ka(e.firestore,e.converter,Px(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class eA extends x3{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new eA(e,n)}_apply(e){const n=function(i,a,o){if(i.startAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jh(a,o)}(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new fl(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Au(t,e="asc"){const n=e,r=Hy("orderBy",t);return eA._create(r,n)}function ZD(t,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new we(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xF(e)&&n.indexOf("/")!==-1)throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Pt.fromString(n));if(!Re.isDocumentKey(r))throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dD(t,new Re(r))}if(n instanceof Hn)return dD(t,n._key);throw new we(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fy(n)}.`)}function eL(t,e){if(!Array.isArray(t)||t.length===0)throw new we(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function T3(t,e){const n=function(i,a){for(const o of i)for(const u of o.getFlattenedFilters())if(a.indexOf(u.op)>=0)return u.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new we(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Dle{convertValue(e,n="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Yo(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[_g].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Kt(o.doubleValue));return new KS(a)}convertGeoPoint(e){return new GS(Kt(e.latitude),Kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mh(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Pt.fromString(e);ft(HF(r),9688,{name:e});const i=new Dh(r.get(1),r.get(3)),a=new Re(r.popFirst(5));return i.isEqual(n)||Fa(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A3 extends w3{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class cm extends A3{data(e={}){return super.data(e)}}class P3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new cm(this._firestore,this._userDataWriter,r.key,r,new Rf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>{const c=new cm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Rf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const c=new cm(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Rf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,d=-1;return u.type!==0&&(f=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),u.type!==1&&(o=o.add(u.doc),d=o.indexOf(u.doc.key)),{type:Lle(u.type),doc:c,oldIndex:f,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Lle(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){t=ir(t,Hn);const e=ir(t.firestore,qa);return ble(Uy(e),t._key).then(n=>O3(e,t,n))}class tA extends Dle{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,n)}}function jle(t){t=ir(t,Ka);const e=ir(t.firestore,qa),n=Uy(e),r=new tA(e);return E3(t._query),wle(n,t._query).then(i=>new P3(e,r,t,i))}function $le(t,e,n){t=ir(t,Hn);const r=ir(t.firestore,qa),i=S3(t.converter,e);return Gy(r,[y3(By(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ti.none())])}function Fh(t,e,n,...r){t=ir(t,Hn);const i=ir(t.firestore,qa),a=By(i);let o;return o=typeof(e=Et(e))=="string"||e instanceof qy?Cle(a,"updateDoc",t._key,e,n,r):kle(a,"updateDoc",t._key,e),Gy(i,[o.toMutation(t._key,ti.exists(!0))])}function Uh(t){return Gy(ir(t.firestore,qa),[new TS(t._key,ti.none())])}function bc(t,e){const n=ir(t.firestore,qa),r=cn(t),i=S3(t.converter,e);return Gy(n,[y3(By(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ti.exists(!1))]).then(()=>r)}function Qr(t,...e){var n,r,i;t=Et(t);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||JD(e[o])||(a=e[o],o++);const u={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(JD(e[o])){const p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,f,d;if(t instanceof Hn)f=ir(t.firestore,qa),d=Cy(t._key.path),c={next:p=>{e[o]&&e[o](O3(f,t,p))},error:e[o+1],complete:e[o+2]};else{const p=ir(t,Ka);f=ir(p.firestore,qa),d=p._query;const y=new tA(f);c={next:_=>{e[o]&&e[o](new P3(f,y,p,_))},error:e[o+1],complete:e[o+2]},E3(t._query)}return function(y,_,x,E){const b=new zS(E),C=new US(_,b,x);return y.asyncQueue.enqueueAndForget(async()=>$S(await Pg(y),C)),()=>{b.xu(),y.asyncQueue.enqueueAndForget(async()=>VS(await Pg(y),C))}}(Uy(f),d,u,c)}function Gy(t,e){return function(r,i){const a=new Ca;return r.asyncQueue.enqueueAndForget(async()=>lle(await _le(r),i,a)),a.promise}(Uy(t),e)}function O3(t,e,n){const r=n.docs.get(e._key),i=new tA(t);return new A3(t,i,e._key,r,new Rf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gc=i})(ul),$o(new ja("firestore",(r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),u=new qa(new Rae(r.getProvider("auth-internal")),new Dae(o,r.getProvider("app-check-internal")),function(f,d){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(f.options.projectId,d)}(o,i),o);return a=Object.assign({useFetchStreams:n},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),ei(tD,nD,e),ei(tD,nD,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="firebasestorage.googleapis.com",C3="storageBucket",Vle=2*60*1e3,Fle=10*60*1e3,Ule=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt extends Ci{constructor(e,n,r=0){super(UE(e),`Firebase Storage: ${n} (${UE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rt||(Rt={}));function UE(t){return"storage/"+t}function nA(){const t="An unknown error occurred, please check the error payload for server response.";return new Vt(Rt.UNKNOWN,t)}function qle(t){return new Vt(Rt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Ble(t){return new Vt(Rt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zle(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Vt(Rt.UNAUTHENTICATED,t)}function Hle(){return new Vt(Rt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Wle(t){return new Vt(Rt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function R3(){return new Vt(Rt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function N3(){return new Vt(Rt.CANCELED,"User canceled the upload/download.")}function Gle(t){return new Vt(Rt.INVALID_URL,"Invalid URL '"+t+"'.")}function Kle(t){return new Vt(Rt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Xle(){return new Vt(Rt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+C3+"' property when initializing the app?")}function M3(){return new Vt(Rt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Qle(){return new Vt(Rt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Yle(){return new Vt(Rt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Jle(t){return new Vt(Rt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vx(t){return new Vt(Rt.INVALID_ARGUMENT,t)}function D3(){return new Vt(Rt.APP_DELETED,"The Firebase app was deleted.")}function Zle(t){return new Vt(Rt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gf(t,e){return new Vt(Rt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xf(t){throw new Vt(Rt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Mr.makeFromUrl(e,n)}catch{return new Mr(e,"")}if(r.path==="")return r;throw Kle(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const o="(/(.*))?$",u=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function f(L){L.path_=decodeURIComponent(L.path)}const d="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${d}/b/${i}/o${y}`,"i"),x={bucket:1,path:3},E=n===k3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",C=new RegExp(`^https?://${E}/${i}/${b}`,"i"),A=[{regex:u,indices:c,postModify:a},{regex:_,indices:x,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let L=0;L<A.length;L++){const I=A[L],N=I.regex.exec(e);if(N){const P=N[I.indices.bucket];let O=N[I.indices.path];O||(O=""),r=new Mr(P,O),I.postModify(r);break}}if(r==null)throw Gle(e);return r}}class eue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tue(t,e,n){let r=1,i=null,a=null,o=!1,u=0;function c(){return u===2}let f=!1;function d(...b){f||(f=!0,e.apply(null,b))}function p(b){i=setTimeout(()=>{i=null,t(_,c())},b)}function y(){a&&clearTimeout(a)}function _(b,...C){if(f){y();return}if(b){y(),d.call(null,b,...C);return}if(c()||o){y(),d.call(null,b,...C);return}r<64&&(r*=2);let A;u===1?(u=2,A=0):A=(r+Math.random())*1e3,p(A)}let x=!1;function E(b){x||(x=!0,y(),!f&&(i!==null?(b||(u=2),clearTimeout(i),p(0)):b||(u=1)))}return p(0),a=setTimeout(()=>{o=!0,E(!0)},n),E}function nue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t){return t!==void 0}function iue(t){return typeof t=="function"}function aue(t){return typeof t=="object"&&!Array.isArray(t)}function Ky(t){return typeof t=="string"||t instanceof String}function tL(t){return rA()&&t instanceof Blob}function rA(){return typeof Blob<"u"}function nL(t,e,n,r){if(r<e)throw Vx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Vx(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function L3(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qs||(qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oue{constructor(e,n,r,i,a,o,u,c,f,d,p,y=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=d,this.connectionFactory_=p,this.retry=y,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,E)=>{this.resolve_=x,this.reject_=E,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Yp(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=u=>{const c=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const u=a.getErrorCode()===qs.NO_ERROR,c=a.getStatus();if(!u||j3(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===qs.ABORT;r(!1,new Yp(!1,null,d));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new Yp(f,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,u=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());rue(c)?a(c):a()}catch(c){o(c)}else if(u!==null){const c=nA();c.serverResponse=u.getErrorText(),this.errorCallback_?o(this.errorCallback_(u,c)):o(c)}else if(i.canceled){const c=this.appDelete_?D3():N3();o(c)}else{const c=R3();o(c)}};this.canceled_?n(!1,new Yp(!1,null,!0)):this.backoffId_=tue(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function sue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fue(t,e,n,r,i,a,o=!0,u=!1){const c=L3(t.urlParams),f=t.url+c,d=Object.assign({},t.headers);return uue(d,e),sue(d,n),lue(d,a),cue(d,r),new oue(f,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function due(...t){const e=hue();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(rA())return new Blob(t);throw new Vt(Rt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function pue(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mue(t){if(typeof atob>"u")throw Jle("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qE{constructor(e,n){this.data=e,this.contentType=n||null}}function gue(t,e){switch(t){case Gi.RAW:return new qE($3(e));case Gi.BASE64:case Gi.BASE64URL:return new qE(V3(t,e));case Gi.DATA_URL:return new qE(vue(e),_ue(e))}throw nA()}function $3(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yue(t){let e;try{e=decodeURIComponent(t)}catch{throw Gf(Gi.DATA_URL,"Malformed data URL.")}return $3(e)}function V3(t,e){switch(t){case Gi.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Gf(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Gi.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Gf(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=mue(e)}catch(i){throw i.message.includes("polyfill")?i:Gf(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class F3{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gf(Gi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=bue(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function vue(t){const e=new F3(t);return e.base64?V3(Gi.BASE64,e.rest):yue(e.rest)}function _ue(t){return new F3(t).contentType}function bue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){let r=0,i="";tL(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(tL(this.data_)){const r=this.data_,i=pue(r,e,n);return i===null?null:new Oo(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Oo(r,!0)}}static getBlob(...e){if(rA()){const n=e.map(r=>r instanceof Oo?r.data_:r);return new Oo(due.apply(null,n))}else{const n=e.map(o=>Ky(o)?gue(Gi.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let u=0;u<o.length;u++)i[a++]=o[u]}),new Oo(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t){let e;try{e=JSON.parse(t)}catch{return null}return aue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Eue(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function q3(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xue(t,e){return e}class Zn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||xue}}let Jp=null;function Tue(t){return!Ky(t)||t.length<2?t:q3(t)}function B3(){if(Jp)return Jp;const t=[];t.push(new Zn("bucket")),t.push(new Zn("generation")),t.push(new Zn("metageneration")),t.push(new Zn("name","fullPath",!0));function e(a,o){return Tue(o)}const n=new Zn("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new Zn("size");return i.xform=r,t.push(i),t.push(new Zn("timeCreated")),t.push(new Zn("updated")),t.push(new Zn("md5Hash",null,!0)),t.push(new Zn("cacheControl",null,!0)),t.push(new Zn("contentDisposition",null,!0)),t.push(new Zn("contentEncoding",null,!0)),t.push(new Zn("contentLanguage",null,!0)),t.push(new Zn("contentType",null,!0)),t.push(new Zn("metadata","customMetadata",!0)),Jp=t,Jp}function Sue(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Mr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Aue(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return Sue(r,t),r}function z3(t,e,n){const r=U3(e);return r===null?null:Aue(t,r,n)}function Pue(t,e,n,r){const i=U3(e);if(i===null||!Ky(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(f=>{const d=t.bucket,p=t.fullPath,y="/b/"+o(d)+"/o/"+o(p),_=wc(y,n,r),x=L3({alt:"media",token:f});return _+x})[0]}function H3(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class pl{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){if(!t)throw nA()}function iA(t,e){function n(r,i){const a=z3(t,i,e);return Ra(a!==null),a}return n}function Iue(t,e){function n(r,i){const a=z3(t,i,e);return Ra(a!==null),Pue(a,i,t.host,t._protocol)}return n}function fd(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Hle():i=zle():n.getStatus()===402?i=Ble(t.bucket):n.getStatus()===403?i=Wle(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function aA(t){const e=fd(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=qle(t.path)),a.serverResponse=i.serverResponse,a}return n}function Oue(t,e,n){const r=e.fullServerUrl(),i=wc(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,u=new pl(i,a,iA(t,n),o);return u.errorHandler=aA(e),u}function kue(t,e,n){const r=e.fullServerUrl(),i=wc(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,u=new pl(i,a,Iue(t,n),o);return u.errorHandler=aA(e),u}function Cue(t,e){const n=e.fullServerUrl(),r=wc(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function o(c,f){}const u=new pl(r,i,o,a);return u.successCodes=[200,204],u.errorHandler=aA(e),u}function Rue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function W3(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Rue(null,e)),r}function Nue(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function u(){let A="";for(let L=0;L<2;L++)A=A+Math.random().toString().slice(2);return A}const c=u();o["Content-Type"]="multipart/related; boundary="+c;const f=W3(e,r,i),d=H3(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+c+"--",_=Oo.getBlob(p,r,y);if(_===null)throw M3();const x={name:f.fullPath},E=wc(a,t.host,t._protocol),b="POST",C=t.maxUploadRetryTime,k=new pl(E,b,iA(t,n),C);return k.urlParams=x,k.headers=o,k.body=_.uploadData(),k.errorHandler=fd(e),k}class Og{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function oA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Ra(!1)}return Ra(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Mue(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o=W3(e,r,i),u={name:o.fullPath},c=wc(a,t.host,t._protocol),f="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=H3(o,n),y=t.maxUploadRetryTime;function _(E){oA(E);let b;try{b=E.getResponseHeader("X-Goog-Upload-URL")}catch{Ra(!1)}return Ra(Ky(b)),b}const x=new pl(c,f,_,y);return x.urlParams=u,x.headers=d,x.body=p,x.errorHandler=fd(e),x}function Due(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(f){const d=oA(f,["active","final"]);let p=null;try{p=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ra(!1)}p||Ra(!1);const y=Number(p);return Ra(!isNaN(y)),new Og(y,r.size(),d==="final")}const o="POST",u=t.maxUploadRetryTime,c=new pl(n,o,a,u);return c.headers=i,c.errorHandler=fd(e),c}const rL=256*1024;function Lue(t,e,n,r,i,a,o,u){const c=new Og(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Qle();const f=c.total-c.current;let d=f;i>0&&(d=Math.min(d,i));const p=c.current,y=p+d;let _="";d===0?_="finalize":f===d?_="upload, finalize":_="upload";const x={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${c.current}`},E=r.slice(p,y);if(E===null)throw M3();function b(L,I){const N=oA(L,["active","final"]),P=c.current+d,O=r.size();let M;return N==="final"?M=iA(e,a)(L,I):M=null,new Og(P,O,N==="final",M)}const C="POST",k=e.maxUploadRetryTime,A=new pl(n,C,b,k);return A.headers=x,A.body=E.uploadData(),A.progressCallback=u||null,A.errorHandler=fd(t),A}const mr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BE(t){switch(t){case"running":case"pausing":case"canceling":return mr.RUNNING;case"paused":return mr.PAUSED;case"success":return mr.SUCCESS;case"canceled":return mr.CANCELED;case"error":return mr.ERROR;default:return mr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jue{constructor(e,n,r){if(iue(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class $ue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw xf("cannot .send() more than once");if(Ga(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xf("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xf("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xf("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Vue extends $ue{initXhr(){this.xhr_.responseType="text"}}function Ns(){return new Vue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fue{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=B3(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Rt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(j3(i.status,[]))if(a)i=R3();else{this.sleepTime=Math.max(this.sleepTime*2,Ule),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Rt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Mue(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ns,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Due(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Ns,n,r);this._request=a,a.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=rL*this._chunkMultiplier,n=new Og(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let o;try{o=Lue(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const u=this._ref.storage._makeRequest(o,Ns,i,a,!1);this._request=u,u.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){rL*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Oue(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ns,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Nue(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ns,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=N3(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=BE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new jue(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(BE(this._state)){case mr.SUCCESS:su(this._resolve.bind(null,this.snapshot))();break;case mr.CANCELED:case mr.ERROR:const n=this._reject;su(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(BE(this._state)){case mr.RUNNING:case mr.PAUSED:e.next&&su(e.next.bind(e,this.snapshot))();break;case mr.SUCCESS:e.complete&&su(e.complete.bind(e))();break;case mr.CANCELED:case mr.ERROR:e.error&&su(e.error.bind(e,this._error))();break;default:e.error&&su(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n){this._service=e,n instanceof Mr?this._location=n:this._location=Mr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new tl(e,n)}get root(){const e=new Mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return q3(this._location.path)}get storage(){return this._service}get parent(){const e=wue(this._location.path);if(e===null)return null;const n=new Mr(this._location.bucket,e);return new tl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Zle(e)}}function Uue(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Fue(t,new Oo(e),n)}function que(t){t._throwIfRoot("getDownloadURL");const e=kue(t.storage,t._location,B3());return t.storage.makeRequestWithTokens(e,Ns).then(n=>{if(n===null)throw Yle();return n})}function Bue(t){t._throwIfRoot("deleteObject");const e=Cue(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ns)}function zue(t,e){const n=Eue(t._location.path,e),r=new Mr(t._location.bucket,n);return new tl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hue(t){return/^[A-Za-z]+:\/\//.test(t)}function Wue(t,e){return new tl(t,e)}function G3(t,e){if(t instanceof sA){const n=t;if(n._bucket==null)throw Xle();const r=new tl(n,n._bucket);return e!=null?G3(r,e):r}else return e!==void 0?zue(t,e):t}function Gue(t,e){if(e&&Hue(e)){if(t instanceof sA)return Wue(t,e);throw Vx("To use ref(service, url), the first argument must be a Storage instance.")}else return G3(t,e)}function iL(t,e){const n=e?.[C3];return n==null?null:Mr.makeFromBucketSpec(n,t)}function Kue(t,e,n,r={}){t.host=`${e}:${n}`;const i=Ga(e);i&&(Ey(`https://${t.host}/b`),xy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:fV(a,t.app.options.projectId))}class sA{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=k3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vle,this._maxUploadRetryTime=Fle,this._requests=new Set,i!=null?this._bucket=Mr.makeFromBucketSpec(i,this._host):this._bucket=iL(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mr.makeFromBucketSpec(this._url,e):this._bucket=iL(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new tl(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new eue(D3());{const o=fue(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aL="@firebase/storage",oL="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="storage";function lA(t,e,n){return t=Et(t),Uue(t,e,n)}function uA(t){return t=Et(t),que(t)}function Xue(t){return t=Et(t),Bue(t)}function kg(t,e){return t=Et(t),Gue(t,e)}function Que(t=Ty(),e){t=Et(t);const r=ed(t,K3).getImmediate({identifier:e}),i=iS("storage");return i&&Yue(r,...i),r}function Yue(t,e,n,r={}){Kue(t,e,n,r)}function Jue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new sA(n,r,i,e,ul)}function Zue(){$o(new ja(K3,Jue,"PUBLIC").setMultipleInstances(!0)),ei(aL,oL,""),ei(aL,oL,"esm2017")}Zue();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ece="type.googleapis.com/google.protobuf.Int64Value",tce="type.googleapis.com/google.protobuf.UInt64Value";function X3(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Cg(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Cg(e));if(typeof t=="function"||typeof t=="object")return X3(t,e=>Cg(e));throw new Error("Data cannot be encoded in JSON: "+t)}function ac(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case ece:case tce:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>ac(e)):typeof t=="function"||typeof t=="object"?X3(t,e=>ac(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _r extends Ci{constructor(e,n,r){super(`${cA}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,_r.prototype)}}function nce(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Rg(t,e){let n=nce(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!sL[o])return new _r("internal","internal");n=sL[o],r=o}const u=a.message;typeof u=="string"&&(r=u),i=a.details,i!==void 0&&(i=ac(i))}}catch{}return n==="ok"?null:new _r(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rce{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,gr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="us-central1",ice=/^data: (.*?)(?:\n|$)/;function ace(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new _r("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class oce{constructor(e,n,r,i,a=Fx,o=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new rce(e,n,r,i),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(a);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=Fx}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function sce(t,e,n){const r=Ga(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(Ey(t.emulatorOrigin),xy("Functions",!0))}function lce(t,e,n){const r=i=>cce(t,e,i,{});return r.stream=(i,a)=>hce(t,e,i,a),r}async function uce(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}async function Q3(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function cce(t,e,n,r){const i=t._url(e);return fce(t,i,n,r)}async function fce(t,e,n,r){n=Cg(n);const i={data:n},a=await Q3(t,r),o=r.timeout||7e4,u=ace(o),c=await Promise.race([uce(e,i,a,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!c)throw new _r("cancelled","Firebase Functions instance was deleted.");const f=Rg(c.status,c.json);if(f)throw f;if(!c.json)throw new _r("internal","Response is not valid JSON object.");let d=c.json.data;if(typeof d>"u"&&(d=c.json.result),typeof d>"u")throw new _r("internal","Response is missing data field.");return{data:ac(d)}}function hce(t,e,n,r){const i=t._url(e);return dce(t,i,n,r||{})}async function dce(t,e,n,r){var i;n=Cg(n);const a={data:n},o=await Q3(t,r);o["Content-Type"]="application/json",o.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:o,signal:r?.signal})}catch(_){if(_ instanceof Error&&_.name==="AbortError"){const E=new _r("cancelled","Request was cancelled.");return{data:Promise.reject(E),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(E)}}}}}}const x=Rg(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let c,f;const d=new Promise((_,x)=>{c=_,f=x});(i=r?.signal)===null||i===void 0||i.addEventListener("abort",()=>{const _=new _r("cancelled","Request was cancelled.");f(_)});const p=u.body.getReader(),y=pce(p,c,f,r?.signal);return{stream:{[Symbol.asyncIterator](){const _=y.getReader();return{async next(){const{value:x,done:E}=await _.read();return{value:x,done:E}},async return(){return await _.cancel(),{done:!0,value:void 0}}}}},data:d}}function pce(t,e,n,r){const i=(o,u)=>{const c=o.match(ice);if(!c)return;const f=c[1];try{const d=JSON.parse(f);if("result"in d){e(ac(d.result));return}if("message"in d){u.enqueue(ac(d.message));return}if("error"in d){const p=Rg(0,d);u.error(p),n(p);return}}catch(d){if(d instanceof _r){u.error(d),n(d);return}}},a=new TextDecoder;return new ReadableStream({start(o){let u="";return c();async function c(){if(r?.aborted){const f=new _r("cancelled","Request was cancelled");return o.error(f),n(f),Promise.resolve()}try{const{value:f,done:d}=await t.read();if(d){u.trim()&&i(u.trim(),o),o.close();return}if(r?.aborted){const y=new _r("cancelled","Request was cancelled");o.error(y),n(y),await t.cancel();return}u+=a.decode(f,{stream:!0});const p=u.split(`
`);u=p.pop()||"";for(const y of p)y.trim()&&i(y.trim(),o);return c()}catch(f){const d=f instanceof _r?f:Rg(0,null);o.error(d),n(d)}}},cancel(){return t.cancel()}})}const lL="@firebase/functions",uL="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce="auth-internal",gce="app-check-internal",yce="messaging-internal";function vce(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(mce),o=n.getProvider(yce),u=n.getProvider(gce);return new oce(i,a,o,u,r)};$o(new ja(cA,e,"PUBLIC").setMultipleInstances(!0)),ei(lL,uL,t),ei(lL,uL,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ce(t=Ty(),e=Fx){const r=ed(Et(t),cA).getImmediate({identifier:e}),i=iS("functions");return i&&bce(r,...i),r}function bce(t,e,n){sce(Et(t),e,n)}function Y3(t,e,n){return lce(Et(t),e)}vce();const Xy=z.createContext({libsLoaded:!1}),J3=z.createContext({showToast:()=>{}}),ia=z.createContext({showNotification:()=>Promise.resolve(!1)}),Z3={apiKey:"AIzaSyArzwnslCqhdk4WNREhckarKcQaywxI2jk",authDomain:"gestor-doju.firebaseapp.com",projectId:"gestor-doju",storageBucket:"gestor-doju.firebasestorage.app",messagingSenderId:"933106500168",appId:"1:933106500168:web:3aeb61808e1d6d8dc04e7d",measurementId:"G-SHXKW69ZBB"};let hd;try{hd=sS(Z3)}catch(t){console.error("Error inicializando Firebase, es posible que ya exista una instancia.",t)}const Nf=QV(hd),bt=Sle(hd),Ng=Que(hd),eU=_ce(hd),br=async(t,e,n,r,i)=>{if(!t||!e){console.error("No se puede registrar el log: falta orgId o usuario.");return}try{await bc(er(bt,`organizations/${t}/logs`),{timestamp:new Date().toISOString(),userEmail:e.email,userId:e.uid,action:n,section:r,details:i||{}})}catch(a){console.error("Error al escribir en el log de auditoría:",a)}},gt=(t=[],e)=>t.find(n=>n.id===e)||{},oc=t=>t?pt.parse(t,{breaks:!0,gfm:!0}):"",Bt=(t,e=!1)=>{if(!t)return"N/A";const n=new Date(`${t}T00:00:00Z`);if(isNaN(n))return"Fecha inválida";const r={year:"numeric",month:"long",day:"numeric",timeZone:"UTC"};return e&&(r.hour="2-digit",r.minute="2-digit",r.second="2-digit"),new Intl.DateTimeFormat("es-ES",r).format(n)},wce=async t=>{if(!t||t.length!==8||isNaN(t))return{success:!1,message:"Por favor, ingrese un DNI válido de 8 dígitos."};try{const e=`https://api.apis.net.pe/v1/dni?numero=${t}`,n=`https://api.allorigins.win/raw?url=${encodeURIComponent(e)}`,r=await fetch(n);if(!r.ok){const a=await r.text();throw new Error(a||`Error del servidor: ${r.status}`)}const i=await r.json();if(i&&i.nombres){const a=`${i.nombres} ${i.apellidoPaterno} ${i.apellidoMaterno}`;return{success:!0,data:{...i,nombreCompleto:a}}}else return{success:!1,message:i.message||"No se encontraron datos para el DNI consultado."}}catch(e){return console.error("Error al consultar DNI:",e),{success:!1,message:`Error al conectar con el servicio de DNI: ${e.message}`}}},dd=async(t,e,n={},r=null)=>{if(!e)return{success:!1,data:"Error: La clave de API de Gemini no ha sido configurada. Por favor, ve a la página de 'Ajustes' para añadirla."};const a={contents:[{role:"user",parts:[{text:`${t}

Contexto en JSON para tu análisis:
${JSON.stringify(n,null,2)}`}]}]};r&&(a.generationConfig={responseMimeType:"application/json",responseSchema:r});const o=`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent?key=${e}`;try{const u=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!u.ok)return{success:!1,data:`Error al contactar la IA: ${(await u.json().catch(()=>({error:{message:"Respuesta de error no válida"}}))).error.message}.`};const c=await u.json();if(c.candidates?.[0]?.content?.parts?.[0]?.text){const f=c.candidates[0].content.parts[0].text;try{return{success:!0,data:r?JSON.parse(f):f}}catch(d){return console.error("Error al parsear JSON de la IA:",d),{success:!1,data:"La IA devolvió una respuesta JSON mal formada."}}}else return console.warn("Respuesta inesperada de la IA:",c),{success:!1,data:"La IA no pudo generar una respuesta. Por favor, intenta de nuevo."}}catch{return{success:!1,data:"No se pudo conectar con el servicio de IA. Verifica tu conexión a internet."}}},zt=({children:t,className:e=""})=>v.createElement("div",{className:`bg-white border rounded-xl shadow-sm ${e}`},t),Rn=({children:t,className:e=""})=>v.createElement("div",{className:`p-4 md:p-5 border-b ${e}`},v.createElement("div",{className:"flex items-center gap-x-2"},t)),Ht=({children:t,className:e=""})=>v.createElement("div",{className:`p-4 md:p-5 ${e}`},t),wn=({children:t,className:e=""})=>v.createElement("h3",{className:`font-semibold text-lg text-gray-800 ${e}`},t),Ce=({children:t,onClick:e,className:n="",variant:r="default",disabled:i=!1,type:a="button"})=>{const o={default:"bg-slate-900 text-white hover:bg-slate-800",destructive:"bg-red-500 text-white hover:bg-red-600",outline:"border border-slate-200 bg-transparent hover:bg-slate-100 text-slate-800",ghost:"hover:bg-slate-100 text-slate-800",success:"bg-green-600 text-white hover:bg-green-700"};return v.createElement("button",{onClick:e,disabled:i,type:a,className:`inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none px-4 py-2 ${o[r]} ${n}`},t)},Oi=t=>v.createElement("input",{...t,className:`flex h-10 w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t.className}`}),Qy=t=>v.createElement("textarea",{...t,className:`flex min-h-[80px] w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${t.className}`}),nl=({children:t,...e})=>v.createElement("select",{...e,className:`flex h-10 w-full rounded-md border border-slate-300 bg-transparent px-3 py-2 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e.className}`},t),ar=({isOpen:t,onClose:e,title:n,children:r,footerContent:i,size:a="lg"})=>{if(!t)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl"};return v.createElement("div",{className:"fixed inset-0 bg-black/50 z-50 flex justify-center items-center p-4",onClick:e},v.createElement("div",{className:`bg-white rounded-xl shadow-lg w-full ${o[a]}`,onClick:u=>u.stopPropagation()},v.createElement("div",{className:"flex justify-between items-center p-4 border-b"},v.createElement("h3",{className:"text-lg font-semibold"},n),v.createElement(Ce,{variant:"ghost",size:"icon",onClick:e,className:"rounded-full w-8 h-8"},v.createElement(Wx,{size:16}))),v.createElement("div",{className:"p-4 max-h-[70vh] overflow-y-auto"},r),i&&v.createElement("div",{className:"p-4 border-t bg-gray-50 rounded-b-xl"},i)))},Nn=({className:t=""})=>v.createElement("div",{className:`animate-spin rounded-full h-5 w-5 border-b-2 border-slate-900 ${t}`}),tU=({message:t})=>v.createElement("div",{className:"flex flex-col justify-center items-center h-screen w-full gap-4"},v.createElement(Nn,{className:"h-8 w-8"}),v.createElement("p",{className:"text-gray-500"},t)),ni=({icon:t,title:e,message:n})=>v.createElement("div",{className:"text-center py-12 text-gray-500"},v.createElement(t,{className:"mx-auto h-12 w-12 text-gray-400"}),v.createElement("h3",{className:"mt-2 text-lg font-medium text-gray-900"},e),v.createElement("p",{className:"mt-1 text-sm"},n)),Ece=({isOpen:t,onClose:e,tenant:n,orgId:r,userProfile:i})=>{const[a,o]=z.useState([]),[u,c]=z.useState(!1),[f,d]=z.useState(0),p=z.useMemo(()=>!r||!n?.id?null:cn(bt,`organizations/${r}/tenants`,n.id),[r,n]);z.useEffect(()=>{if(!p)return;const _=er(p,"serviceReceipts"),x=Si(_,Au("createdAt","desc")),E=Qr(x,b=>{const C=b.docs.map(k=>({id:k.id,...k.data()}));o(C)});return()=>E()},[p]);const y=_=>{const x=_.target.files[0];if(!x||!p)return;c(!0);const E=`serviceReceipts/${n.id}/${Date.now()}_${x.name}`,b=kg(Ng,E),C=lA(b,x);C.on("state_changed",k=>{const A=k.bytesTransferred/k.totalBytes*100;d(A)},k=>{console.error("Error al subir recibo:",k),c(!1)},async()=>{const k=await uA(C.snapshot.ref),A={name:x.name,url:k,path:E,createdAt:new Date().toISOString(),uploadedBy:i.email};await bc(er(p,"serviceReceipts"),A),await br(r,i,"UPLOAD_SERVICE_RECEIPT","Inquilinos",{tenantId:n.id,documentName:x.name}),c(!1),d(0)})};return v.createElement(ar,{isOpen:t,onClose:e,title:`Recibos de Servicios de ${n?.name||""}`,size:"2xl"},v.createElement("div",null,v.createElement("div",{className:"mb-4 p-4 border-2 border-dashed rounded-lg text-center"},v.createElement("label",{htmlFor:"receipt-upload",className:"cursor-pointer text-blue-600 hover:text-blue-800 font-medium"},v.createElement(bL,{className:"mx-auto h-10 w-10 text-gray-400 mb-2"}),v.createElement("span",null,"Selecciona un recibo para subir"),v.createElement("input",{id:"receipt-upload",name:"receipt-upload",type:"file",className:"sr-only",onChange:y,disabled:u}))),u&&v.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4"},v.createElement("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${f}%`}})),v.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"Recibos existentes:"),a.length>0?v.createElement("ul",{className:"divide-y divide-gray-200"},a.map(_=>v.createElement("li",{key:_.id,className:"py-3 flex items-center justify-between"},v.createElement("span",{className:"text-sm text-gray-800 truncate"},_.name),v.createElement("div",{className:"flex items-center gap-2"},v.createElement("a",{href:_.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Ver archivo"},v.createElement(Ux,{size:16})))))):v.createElement("p",{className:"text-sm text-gray-500 text-center py-4"},"No hay recibos para este inquilino.")))},xce=()=>{const[t,e]=z.useState(""),[n,r]=z.useState(""),[i,a]=z.useState(""),[o,u]=z.useState(!1),c=async f=>{f.preventDefault(),a(""),u(!0);try{await mie(Nf,t,n)}catch(d){a(d.message.includes("auth/invalid-credential")?"Credenciales incorrectas.":"Ocurrió un error."),u(!1)}};return v.createElement("div",{className:"flex items-center justify-center h-screen bg-gray-100"},v.createElement(zt,{className:"w-full max-w-sm"},v.createElement(Rn,null,v.createElement(wn,null,"Iniciar Sesión")),v.createElement(Ht,null,v.createElement("p",{className:"text-sm text-gray-500 mb-4"},"Acceso exclusivo para usuarios registrados"),v.createElement("form",{onSubmit:c,className:"space-y-4"},v.createElement(Oi,{type:"email",placeholder:"Correo Electrónico",value:t,onChange:f=>e(f.target.value),required:!0}),v.createElement(Oi,{type:"password",placeholder:"Contraseña",value:n,onChange:f=>r(f.target.value),required:!0}),i&&v.createElement("p",{className:"text-red-500 text-sm text-center"},i),v.createElement(Ce,{type:"submit",className:"w-full",disabled:o},o?v.createElement(Nn,null):"Ingresar")),v.createElement("div",{className:"mt-4 text-center"},v.createElement("p",{className:"text-sm text-gray-600"},"¿Problemas para acceder? Contacta al administrador")))))},Tce=({rentals:t=[],payments:e=[],tenants:n=[],properties:r=[]})=>{const i=new Date,a=new Date;a.setDate(i.getDate()+30);const o=t.filter(c=>{const f=new Date(c.endDate);return c.status==="Activo"&&f<=a&&f>=i}),u=e.filter(c=>{const f=new Date(c.paymentDate);return c.status==="Pendiente"&&f<i});return o.length===0&&u.length===0?null:v.createElement(zt,{className:"mb-6 border-l-4 border-yellow-400 bg-yellow-50"},v.createElement(Rn,{className:"bg-yellow-100"},v.createElement(w6,{className:"text-yellow-600"}),v.createElement(wn,null,"Alertas Requieren Atención")),v.createElement(Ht,null,v.createElement("ul",{className:"space-y-2 text-sm"},o.map(c=>{const f=gt(n,c.tenantId)?.name||"N/A",d=gt(r,c.propertyId)?.name||"N/A";return v.createElement("li",{key:c.id,className:"flex items-center gap-2"},v.createElement(fm,{className:"h-4 w-4 text-orange-500 flex-shrink-0"}),v.createElement("span",null,"El contrato de ",v.createElement("strong",null,f)," en ",v.createElement("strong",null,d)," vence pronto (",Bt(c.endDate),")."))}),u.map(c=>{const f=gt(t,c.rentalId),d=gt(n,f?.tenantId)?.name||"N/A";return v.createElement("li",{key:c.id,className:"flex items-center gap-2"},v.createElement(fm,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),v.createElement("span",null,"Pago de ",v.createElement("strong",null,d),' por el concepto "',c.concept,'" está vencido.'))}))))},Sce=({isOpen:t,onClose:e,item:n,collectionName:r,orgId:i,userProfile:a})=>{const[o,u]=z.useState([]),[c,f]=z.useState(!1),[d,p]=z.useState(0),y=z.useContext(ia),_=z.useMemo(()=>!i||!r||!n?.id?null:cn(bt,`organizations/${i}/${r}`,n.id),[i,r,n]);z.useEffect(()=>{if(!_)return;const b=er(_,"documents"),C=Si(b),k=Qr(C,A=>{const L=A.docs.map(I=>({id:I.id,...I.data()}));u(L)});return()=>k()},[_]);const x=b=>{const C=b.target.files[0];if(!C||!_)return;f(!0);const k=`documents/${r}/${n.id}/${Date.now()}_${C.name}`,A=kg(Ng,k),L=lA(A,C);L.on("state_changed",I=>{const N=I.bytesTransferred/I.totalBytes*100;p(N)},I=>{console.error("Error al subir archivo:",I),f(!1)},async()=>{const I=await uA(L.snapshot.ref),N={name:C.name,url:I,path:k,createdAt:new Date().toISOString()};await bc(er(_,"documents"),N),await br(i,a,"UPLOAD_DOCUMENT",r,{parentId:n.id,document:N}),f(!1),p(0)})},E=async b=>{if(await y({title:"Confirmar Eliminación",message:`¿Seguro que quieres eliminar "${b.name}"?`,confirmText:"Sí, eliminar",isDestructive:!0}))try{const k=kg(Ng,b.path);await Xue(k);const A=cn(_,"documents",b.id);await Uh(A),await br(i,a,"DELETE_DOCUMENT",r,{parentId:n.id,documentName:b.name})}catch(k){if(console.error("Error al eliminar el archivo:",k),k.code==="storage/object-not-found"){const A=cn(_,"documents",b.id);await Uh(A),await br(i,a,"DELETE_DOCUMENT_RECORD",r,{parentId:n.id,documentName:b.name,reason:"Archivo no encontrado en Storage."})}}};return v.createElement(ar,{isOpen:t,onClose:e,title:`Documentos de ${n?.name||""}`,size:"2xl"},v.createElement("div",null,v.createElement("div",{className:"mb-4 p-4 border-2 border-dashed rounded-lg text-center"},v.createElement("label",{htmlFor:"file-upload",className:"cursor-pointer text-blue-600 hover:text-blue-800 font-medium"},v.createElement(bL,{className:"mx-auto h-10 w-10 text-gray-400 mb-2"}),v.createElement("span",null,"Selecciona un archivo para subir"),v.createElement("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:x,disabled:c}))),c&&v.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mb-4"},v.createElement("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${d}%`}})),v.createElement("h4",{className:"font-semibold text-gray-700 mb-2"},"Archivos existentes:"),o.length>0?v.createElement("ul",{className:"divide-y divide-gray-200"},o.map(b=>v.createElement("li",{key:b.id,className:"py-3 flex items-center justify-between"},v.createElement("span",{className:"text-sm text-gray-800 truncate"},b.name),v.createElement("div",{className:"flex items-center gap-2"},v.createElement("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center p-2 text-blue-600 hover:bg-blue-50 rounded-full",title:"Ver archivo"},v.createElement(Ux,{size:16})),v.createElement("button",{onClick:()=>E(b),className:"inline-flex items-center justify-center p-2 text-red-600 hover:bg-red-50 rounded-full",title:"Eliminar archivo"},v.createElement(Mg,{size:16})))))):v.createElement("p",{className:"text-sm text-gray-500 text-center py-4"},"No hay documentos para este elemento.")))},Ace=({isOpen:t,onClose:e,payments:n,expenses:r,properties:i,tenants:a,rentals:o})=>{const{libsLoaded:u}=z.useContext(Xy),c=z.useContext(ia),[f,d]=z.useState(""),[p,y]=z.useState(""),_=()=>{if(!f||!p){c({title:"Error",message:"Por favor, selecciona un rango de fechas."});return}const x=new Date(f),E=new Date(p);E.setHours(23,59,59,999);const b=n.filter(N=>{const P=new Date(N.paymentDate);return P>=x&&P<=E&&N.status!=="Pendiente"}),C=r.filter(N=>{const P=new Date(N.date);return P>=x&&P<=E}),k=b.reduce((N,P)=>N+parseFloat(P.amount),0),A=C.reduce((N,P)=>N+parseFloat(P.amount),0),L=k-A,I=new window.jspdf.jsPDF;I.setFontSize(18),I.text("Reporte Financiero",14,22),I.setFontSize(11),I.text(`Periodo: ${Bt(f)} - ${Bt(p)}`,14,30),I.setFontSize(12),I.text("Resumen General",14,45),I.autoTable({startY:50,body:[["Ingresos Totales:",`S/ ${k.toFixed(2)}`],["Gastos Totales:",`S/ ${A.toFixed(2)}`],["Beneficio Neto:",`S/ ${L.toFixed(2)}`]],theme:"striped",styles:{fontSize:10}}),b.length>0&&(I.text("Detalle de Ingresos",14,I.autoTable.previous.finalY+15),I.autoTable({startY:I.autoTable.previous.finalY+20,head:[["Fecha","Inquilino","Propiedad","Concepto","Monto (S/)"]],body:b.map(N=>{const P=gt(o,N.rentalId),O=gt(a,P?.tenantId),M=gt(i,P?.propertyId);return[Bt(N.paymentDate),O?.name||"N/A",M?.name||"N/A",N.concept,parseFloat(N.amount).toFixed(2)]}),theme:"grid",headStyles:{fillColor:[41,128,185]}})),C.length>0&&(I.text("Detalle de Gastos",14,I.autoTable.previous.finalY+15),I.autoTable({startY:I.autoTable.previous.finalY+20,head:[["Fecha","Propiedad","Categoría","Descripción","Monto (S/)"]],body:C.map(N=>[Bt(N.date),gt(i,N.propertyId)?.name||"N/A",N.category,N.description,parseFloat(N.amount).toFixed(2)]),theme:"grid",headStyles:{fillColor:[192,57,43]}})),I.save(`reporte-financiero-${f}-a-${p}.pdf`)};return v.createElement(ar,{isOpen:t,onClose:e,title:"Generar Reporte Financiero"},v.createElement("div",{className:"space-y-4"},v.createElement("p",null,"Selecciona el rango de fechas para el reporte."),v.createElement("div",{className:"grid grid-cols-2 gap-4"},v.createElement("div",null,v.createElement("label",{className:"text-sm font-medium"},"Desde"),v.createElement(Oi,{type:"date",value:f,onChange:x=>d(x.target.value)})),v.createElement("div",null,v.createElement("label",{className:"text-sm font-medium"},"Hasta"),v.createElement(Oi,{type:"date",value:p,onChange:x=>y(x.target.value)}))),v.createElement("div",{className:"flex justify-end gap-2 pt-4"},v.createElement(Ce,{variant:"outline",onClick:e},"Cancelar"),v.createElement(Ce,{onClick:_,disabled:!u},u?"Generar PDF":v.createElement(v.Fragment,null,v.createElement(Nn,{className:"mr-2 h-4 w-4"}),"Cargando...")))))},Pce=({appData:t,userProfile:e,organizationData:n})=>{const{payments:r=[],expenses:i=[],properties:a=[],rentals:o=[],tenants:u=[]}=t||{},[c,f]=z.useState(""),[d,p]=z.useState(!1),[y,_]=z.useState(!1),x=z.useCallback(async()=>{p(!0);const k="Actúa como un asesor inmobiliario experto. Analiza los siguientes datos de mi portafolio y proporciona un resumen conciso y 3 recomendaciones clave, con formato markdown, para mejorar la rentabilidad y gestión.",A={totalIngresos:(r||[]).reduce((N,P)=>N+parseFloat(P.amount||0),0),totalGastos:(i||[]).reduce((N,P)=>N+parseFloat(P.amount||0),0),numeroPropiedades:(a||[]).length,propiedadesAlquiladas:(o||[]).filter(N=>N.status==="Activo").length,propiedadesDisponibles:(a||[]).filter(N=>N.status==="Disponible").length},{success:L,data:I}=await dd(k,n?.geminiApiKey,A);f(I),p(!1)},[r,i,a,o,n]),E=z.useMemo(()=>[{name:"Ingresos",value:(r||[]).reduce((k,A)=>A.status==="Pagado"||A.status==="Verificado"?k+parseFloat(A.amount||0):k,0),color:"#10b981"},{name:"Gastos",value:(i||[]).reduce((k,A)=>k+parseFloat(A.amount||0),0),color:"#ef4444"}],[r,i]),b=z.useMemo(()=>{const k=(a||[]).reduce((A,L)=>(A[L.status]=(A[L.status]||0)+1,A),{});return Object.keys(k).map(A=>({name:A,value:k[A]}))},[a]),C={Disponible:"#22c55e",Alquilado:"#3b82f6",Mantenimiento:"#f97316"};return v.createElement("div",null,v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"Panel Principal"),v.createElement(Ce,{onClick:()=>_(!0),variant:"outline"},v.createElement(b6,{className:"mr-2 h-4 w-4"}),"Generar Reporte Financiero")),v.createElement(Tce,{rentals:o,payments:r,tenants:u,properties:a}),v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Resumen Financiero")),v.createElement(Ht,null,v.createElement(sR,{width:"100%",height:250},v.createElement(Rte,{data:E,margin:{top:5,right:20,left:-10,bottom:5}},v.createElement(z4,{strokeDasharray:"3 3"}),v.createElement(vy,{dataKey:"name"}),v.createElement(_y,null),v.createElement(wi,{formatter:k=>`S/ ${k.toFixed(2)}`}),v.createElement(ll,{dataKey:"value"},E.map((k,A)=>v.createElement(Zf,{key:`cell-${A}`,fill:k.color}))))))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Estado de Propiedades")),v.createElement(Ht,null,v.createElement(sR,{width:"100%",height:250},v.createElement(Nte,null,v.createElement(Wa,{data:b,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:k,percent:A})=>`${k}: ${(A*100).toFixed(0)}%`},b.map((k,A)=>v.createElement(Zf,{key:`cell-${A}`,fill:C[k.name]}))),v.createElement(wi,{formatter:(k,A)=>[k,A]}),v.createElement(Vs,null))))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Ocupación")),v.createElement(Ht,{className:"text-center"},v.createElement("p",{className:"text-6xl font-bold text-slate-800"},(a||[]).length>0?Math.round((o||[]).filter(k=>k.status==="Activo").length/(a||[]).length*100):0,"%"),v.createElement("p",{className:"text-gray-500 mt-2"},(o||[]).filter(k=>k.status==="Activo").length," de ",(a||[]).length," propiedades alquiladas")))),v.createElement("div",{className:"mt-6"},v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Análisis y Recomendaciones con IA"),v.createElement(Ce,{onClick:x,disabled:d||!n?.geminiApiKey,variant:"outline",className:"ml-auto"},v.createElement(Hx,{className:"mr-2 h-4 w-4"}),d?"Analizando...":"Generar Análisis")),v.createElement(Ht,null,d&&v.createElement("div",{className:"flex justify-center p-8"},v.createElement(Nn,null)),c&&!d&&v.createElement("div",{className:"prose prose-sm max-w-full",dangerouslySetInnerHTML:{__html:oc(c)}}),!c&&!d&&(n?.geminiApiKey?v.createElement(ni,{icon:vL,title:"Obtén un análisis",message:"Haz clic en el botón para que la IA analice tus datos y te dé recomendaciones."}):v.createElement(ni,{icon:Bx,title:"Configuración Requerida",message:"Para usar esta función, añade tu clave de API de Gemini en la página de Ajustes."}))))),v.createElement(Ace,{isOpen:y,onClose:()=>_(!1),payments:t.payments,expenses:t.expenses,properties:t.properties,tenants:t.tenants,rentals:t.rentals}))},Ice=({userProfile:t,onLogout:e,organizationData:n})=>{const[r,i]=z.useState(null),[a,o]=z.useState(null),[u,c]=z.useState([]),[f,d]=z.useState([]),[p,y]=z.useState(null),[_,x]=z.useState(!0),[E,b]=z.useState(!1),[C,k]=z.useState(""),[A,L]=z.useState(!1),[I,N]=z.useState([]),[P,O]=z.useState(!1),M=()=>{const D=n?.managerPhoneNumber;D?window.open(`https://wa.me/${D}`,"_blank"):alert("El número de contacto del gestor no está configurado.")};z.useEffect(()=>{if(!t?.orgId||!t?.tenantDocId){x(!1);return}const D=t.orgId,V=t.tenantDocId;let j=[];const K=cn(bt,`organizations/${D}/tenants`,V);j.push(Qr(K,ee=>{ee.exists()&&y({id:ee.id,...ee.data()})}));const J=Si(er(bt,`organizations/${D}/rentals`),vu("tenantId","==",V),vu("status","==","Activo"));j.push(Qr(J,ee=>{if(ee.empty)i(null);else{const ae={id:ee.docs[0].id,...ee.docs[0].data()};i(ae)}x(!1)}));const ie=Si(er(bt,`organizations/${D}/payments`),vu("tenantId","==",V),Au("paymentDate","desc"));j.push(Qr(ie,ee=>{c(ee.docs.map(ae=>({id:ae.id,...ae.data()})))}));const re=er(bt,`organizations/${D}/tenants/${V}/serviceReceipts`),Q=Si(re,Au("createdAt","desc"));return j.push(Qr(Q,ee=>{N(ee.docs.map(ae=>({id:ae.id,...ae.data()})))})),()=>j.forEach(ee=>ee())},[t]),z.useEffect(()=>{if(!r?.propertyId||!t?.orgId){o(null),d([]);return}let D=[];const V=cn(bt,`organizations/${t.orgId}/properties`,r.propertyId);D.push(Qr(V,K=>{K.exists()&&o({id:K.id,...K.data()})}));const j=Si(er(bt,`organizations/${t.orgId}/maintenance`),vu("propertyId","==",r.propertyId),Au("createdAt","desc"));return D.push(Qr(j,K=>{d(K.docs.map(J=>({id:J.id,...J.data()})))})),()=>D.forEach(K=>K())},[r,t]);const F=async D=>{if(D.preventDefault(),!(!C.trim()||!a?.id||!t.orgId)){L(!0);try{const V={propertyId:a.id,description:C,status:"Pendiente",reportedBy:t.uid,createdAt:new Date().toISOString()};await bc(er(bt,`organizations/${t.orgId}/maintenance`),V),k(""),b(!1)}catch(V){console.error("Error al reportar mantenimiento:",V)}L(!1)}};return _?v.createElement(tU,{message:"Cargando tu portal..."}):v.createElement("div",{className:"p-4 sm:p-8 min-h-screen bg-gray-50"},v.createElement("header",{className:"flex justify-between items-center mb-6"},v.createElement("div",null,v.createElement("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800"},"Portal del Inquilino"),v.createElement("p",{className:"text-gray-600"},"Bienvenido, ",p?.name||"Inquilino",".")),v.createElement(Ce,{variant:"outline",onClick:e},v.createElement(TL,{className:"mr-2 h-4 w-4"}),"Cerrar Sesión")),v.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},v.createElement("div",{className:"lg:col-span-2 space-y-6"},v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Mi Contrato")),v.createElement(Ht,null,a?.name?v.createElement("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm"},v.createElement("div",{className:"font-semibold text-gray-500"},"Propiedad:"),v.createElement("div",null,a.name),v.createElement("div",{className:"font-semibold text-gray-500"},"Dirección:"),v.createElement("div",null,a.address),v.createElement("div",{className:"font-semibold text-gray-500"},"Monto de Alquiler:"),v.createElement("div",null,"S/ ",parseFloat(r?.rentAmount||0).toFixed(2)),v.createElement("div",{className:"font-semibold text-gray-500"},"Fin de Contrato:"),v.createElement("div",null,Bt(r?.endDate))):v.createElement(ni,{icon:qx,title:"Sin Contrato",message:"No se encontró un contrato de alquiler activo."}))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Mantenimiento")),v.createElement(Ht,null,v.createElement(Ce,{onClick:()=>b(!0),className:"w-full",disabled:!a?.id},v.createElement(zx,{className:"mr-2 h-4 w-4"}),"Nuevo Reporte de Incidente"),f.length>0&&v.createElement("div",{className:"mt-4"},v.createElement("h4",{className:"font-medium text-sm mb-2"},"Mis Reportes Anteriores"),v.createElement("ul",{className:"space-y-2"},f.map(D=>v.createElement("li",{key:D.id,className:"flex justify-between items-center p-2 bg-gray-50 rounded-md text-sm"},v.createElement("span",null,D.description),v.createElement("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-full ${D.status==="Completado"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`},D.status)))))))),v.createElement("div",{className:"space-y-6"},v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Historial de Pagos")),v.createElement(Ht,null,u.length>0?v.createElement("ul",{className:"space-y-2"},u.map(D=>v.createElement("li",{key:D.id,className:"flex justify-between items-center p-2 bg-gray-50 rounded-md text-sm"},v.createElement("div",null,v.createElement("p",{className:"font-medium"},D.concept),v.createElement("p",{className:"text-xs text-gray-500"},Bt(D.paymentDate))),v.createElement("div",{className:`font-bold ${D.status==="Pagado"||D.status==="Verificado"?"text-green-600":"text-yellow-600"}`},"S/ ",parseFloat(D.amount||0).toFixed(2))))):v.createElement(ni,{icon:wL,title:"Sin Pagos",message:"Tu historial de pagos aparecerá aquí."}))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Recibos de Servicios")),v.createElement(Ht,null,I.length>0?v.createElement("ul",{className:"space-y-2"},I.map(D=>v.createElement("li",{key:D.id,className:"flex justify-between items-center p-2 bg-gray-50 rounded-md text-sm"},v.createElement("span",null,D.name),v.createElement("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full"},v.createElement(Ux,{size:16}))))):v.createElement(ni,{icon:SL,title:"Sin Recibos",message:"Tus recibos de servicios aparecerán aquí."}))))),v.createElement(ar,{isOpen:E,onClose:()=>b(!1),title:"Reportar Incidente"},v.createElement("form",{onSubmit:F},v.createElement("p",{className:"text-sm mb-2"},"Propiedad: ",v.createElement("strong",null,a?.name)),v.createElement(Qy,{placeholder:"Describe el problema con el mayor detalle posible...",value:C,onChange:D=>k(D.target.value),required:!0,rows:5}),v.createElement("div",{className:"flex justify-end gap-2 pt-4"},v.createElement(Ce,{type:"button",variant:"outline",onClick:()=>b(!1)},"Cancelar"),v.createElement(Ce,{type:"submit",disabled:A},A?v.createElement(Nn,null):"Enviar Reporte")))),v.createElement("div",{className:"fixed bottom-8 right-8 flex flex-col gap-4"},v.createElement(Ce,{onClick:M,className:"rounded-full w-16 h-16 shadow-lg bg-green-500 hover:bg-green-600"},v.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},v.createElement("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}))),v.createElement(Ce,{onClick:()=>O(!0),className:"rounded-full w-16 h-16 shadow-lg"},v.createElement(E6,{size:32}))),P&&v.createElement(Oce,{isOpen:P,onClose:()=>O(!1),userProfile:t,rentalData:r?{...r,propertyName:a?.name,propertyAddress:a?.address}:{},paymentsData:u,geminiApiKey:n?.geminiApiKey}))},Oce=({isOpen:t,onClose:e,rentalData:n,paymentsData:r,geminiApiKey:i})=>{const[a,o]=z.useState([{text:"¡Hola! Soy tu asistente virtual. ¿En qué puedo ayudarte hoy sobre tu alquiler?",from:"ai"}]),[u,c]=z.useState(""),[f,d]=z.useState(!1),p=z.useRef(null),y=()=>{p.current?.scrollIntoView({behavior:"smooth"})};z.useEffect(y,[a]);const _=async x=>{if(x.preventDefault(),!u.trim())return;if(!i){o(L=>[...L,{text:"Lo siento, el asistente virtual no está configurado por el administrador en este momento.",from:"ai"}]);return}const E=[...a,{text:u,from:"user"}];o(E),c(""),d(!0);const b=`Eres un asistente virtual para un inquilino de una propiedad. Tu nombre es GestorBot. Responde de forma amable y concisa. Utiliza la siguiente información para responder la pregunta del inquilino. Si la pregunta no se puede responder con esta información, di amablemente que no tienes esa información y que debe contactar al administrador. Pregunta del inquilino: "${u}"`,C={contrato:n,ultimos_pagos:r.slice(0,5)},{success:k,data:A}=await dd(b,i,C);o([...E,{text:A,from:"ai"}]),d(!1)};return v.createElement(ar,{isOpen:t,onClose:e,title:"✨ Asistente Virtual",size:"md"},v.createElement("div",{className:"flex flex-col h-[60vh]"},v.createElement("div",{className:"flex-1 overflow-y-auto p-4 space-y-4"},a.map((x,E)=>v.createElement("div",{key:E,className:`flex ${x.from==="ai"?"justify-start":"justify-end"}`},v.createElement("div",{className:`p-3 rounded-2xl max-w-sm ${x.from==="ai"?"bg-gray-200 text-gray-800":"bg-blue-600 text-white"}`},v.createElement("div",{className:"prose prose-sm max-w-full",dangerouslySetInnerHTML:{__html:oc(x.text)}})))),f&&v.createElement("div",{className:"flex justify-start"},v.createElement("div",{className:"p-3 rounded-2xl bg-gray-200"},v.createElement(Nn,{className:"h-4 w-4 border-gray-600"}))),v.createElement("div",{ref:p})),v.createElement("div",{className:"p-4 border-t"},v.createElement("form",{onSubmit:_,className:"flex gap-2"},v.createElement(Oi,{value:u,onChange:x=>c(x.target.value),placeholder:"Escribe tu pregunta aquí...",disabled:f}),v.createElement(Ce,{type:"submit",disabled:f},v.createElement(AL,{size:16}))))))},ml=({title:t,collectionName:e,fields:n,data:r=[],appData:i,orgId:a,userProfile:o,renderItem:u,renderDetailsPanel:c,customActions:f,selectedItem:d,onSelectItem:p,organizationData:y})=>{const[_,x]=z.useState(!1),[E,b]=z.useState(null),[C,k]=z.useState({}),[A,L]=z.useState(!1),[I,N]=z.useState(!1),[P,O]=z.useState(!1),[M,F]=z.useState(null),[D,V]=z.useState({isOpen:!1,item:null}),[j,K]=z.useState({isOpen:!1,tenant:null}),[J,ie]=z.useState(!1),[re,Q]=z.useState([]),[ee,ae]=z.useState({isOpen:!1,images:[]}),B=z.useContext(ia),G=ye=>{p&&(d?.id===ye.id?p(null):p(ye))},ue=(ye=null)=>{b(ye);let ke=n.reduce((Ke,We)=>(Ke[We.name]=ye?ye[We.name]:We.defaultValue!==void 0?We.defaultValue:"",We.type==="date"&&!ye&&(Ke[We.name]=new Date().toISOString().split("T")[0]),Ke),{});k(ke),Q([]),x(!0)},be=()=>{x(!1),b(null),k({}),Q([])},Ae=ye=>{const{name:ke,value:Ke}=ye.target;k(We=>({...We,[ke]:Ke}))},Le=ye=>{Q([...ye.target.files])},Ge=async ye=>{ye.preventDefault(),L(!0);const ke=`organizations/${a}/${e}`,Ke=E?"UPDATE":"CREATE",We=`${Ke}_${e.slice(0,-1).toUpperCase()}`;try{let lt=E?.photoURLs||[];if(re.length>0){const Ft=re.map(Tn=>{const tn=`expense_receipts/${E?.id||Date.now()}/${Tn.name}`,Gn=kg(Ng,tn);return lA(Gn,Tn).then(Lr=>uA(Lr.ref))}),xn=await Promise.all(Ft);lt=[...lt,...xn]}if(Ke==="UPDATE"){const Ft={...C,photoURLs:lt,updatedAt:new Date().toISOString(),updatedBy:o.email};await Fh(cn(bt,ke,E.id),Ft),await br(a,o,We,t,{docId:E.id,before:E,after:Ft})}else{let Ft={...C,photoURLs:lt,orgId:a,createdAt:new Date().toISOString(),createdBy:o.email};e==="expenses"&&(Ft.status="Pendiente");const xn=await bc(er(bt,ke),Ft);await br(a,o,We,t,{docId:xn.id,data:Ft})}be()}catch(lt){console.error("Error guardando el documento:",lt),B({title:"Error",message:"No se pudo guardar el documento."})}finally{L(!1)}};async function Fe(){if(!C.dni)return;N(!0);const ye=await wce(C.dni);ye.success?k(ke=>({...ke,name:ye.data.nombreCompleto,domicilio:ye.data.direccion||ke.domicilio||""})):B({title:"Error de DNI",message:`Error al consultar DNI: ${ye.message}`}),N(!1)}const de=ye=>{F(ye),O(!0)},Pe=async()=>{if(M)try{const ye=cn(bt,`organizations/${a}/${e}`,M),Ke=(await I3(ye)).data();await Uh(ye),await br(a,o,`DELETE_${e.slice(0,-1).toUpperCase()}`,t,{docId:M,deletedData:Ke})}catch(ye){console.error("Error eliminando:",ye)}O(!1),F(null)},De=async()=>{if(!C.description){B({title:"Información Requerida",message:"Por favor, ingresa una descripción del problema primero."});return}ie(!0);const ye=`Actúa como un experto en mantenimiento de propiedades. Basado en la siguiente descripción de un problema, proporciona un análisis en formato JSON. Descripción: "${C.description}". El costo estimado debe estar en Soles Peruanos (PEN).`,ke={type:"OBJECT",properties:{priority:{type:"STRING",enum:["Baja","Media","Alta","Urgente"]},estimatedCost:{type:"STRING"},suggestedMaterials:{type:"ARRAY",items:{type:"STRING"}}},required:["priority","estimatedCost","suggestedMaterials"]},{success:Ke,data:We}=await dd(ye,y?.geminiApiKey,{},ke);Ke?k(lt=>({...lt,priority:We.priority||lt.priority,estimatedCost:We.estimatedCost||lt.estimatedCost,suggestedMaterials:(We.suggestedMaterials||[]).join(`
`)})):B({title:"Error de IA",message:`Error del Asistente de IA: ${We}`}),ie(!1)},ce=E&&v.createElement("div",{className:"text-xs text-gray-500"},E.updatedAt&&v.createElement("p",null,"Última edición: ",Bt(E.updatedAt,!0)," por ",v.createElement("strong",null,E.updatedBy||"N/A")),E.createdAt&&!E.updatedAt&&v.createElement("p",null,"Creado: ",Bt(E.createdAt,!0)," por ",v.createElement("strong",null,E.createdBy||"N/A")));return v.createElement("div",{className:"flex gap-6"},v.createElement("div",{className:"flex-grow"},v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h1",{className:"text-3xl font-bold text-gray-800"},t),v.createElement(Ce,{onClick:()=>ue()},v.createElement(zx,{className:"mr-2",size:16})," Añadir ",t.slice(0,-1))),v.createElement(zt,null,v.createElement(Ht,null,(r||[]).length>0?v.createElement("div",{className:"overflow-x-auto"},v.createElement("table",{className:"min-w-full divide-y divide-gray-200"},u({openModal:ue,handleDelete:de,data:r,appData:i,openDocManager:ye=>V({isOpen:!0,item:ye}),openReceiptManager:ye=>K({isOpen:!0,tenant:ye}),handleRowClick:G,customActions:f,openImageViewer:ye=>ae({isOpen:!0,images:ye})}))):v.createElement(ni,{icon:k6,title:`No hay ${t.toLowerCase()}`,message:"Añade un nuevo elemento para empezar."})))),d&&c&&v.createElement("div",{className:"w-full max-w-md flex-shrink-0"},c({item:d,appData:i,orgId:a,onClose:()=>p(null)})),D.isOpen&&v.createElement(Sce,{isOpen:D.isOpen,onClose:()=>V({isOpen:!1,item:null}),item:D.item,collectionName:e,orgId:a,userProfile:o}),ee.isOpen&&v.createElement(Xce,{isOpen:ee.isOpen,onClose:()=>ae({isOpen:!1,images:[]}),images:ee.images}),j.isOpen&&v.createElement(Ece,{isOpen:j.isOpen,onClose:()=>K({isOpen:!1,tenant:null}),tenant:j.tenant,orgId:a,userProfile:o}),v.createElement(ar,{isOpen:_,onClose:be,title:`${E?"Editar":"Añadir"} ${t.slice(0,-1)}`,footerContent:ce},v.createElement("form",{onSubmit:Ge,className:"space-y-4"},n.map(ye=>v.createElement("div",{key:ye.name},v.createElement("label",{className:"text-sm font-medium"},ye.label),v.createElement("div",{className:"flex items-center gap-2"},ye.type==="select"?v.createElement(nl,{name:ye.name,value:C[ye.name]||"",onChange:Ae,required:!0},v.createElement("option",{value:"",disabled:!0},"Seleccionar..."),(ye.options(i,ye.optionsContext)||[]).map(ke=>v.createElement("option",{key:ke.id,value:ke.id},ke.name))):ye.type==="textarea"?v.createElement(Qy,{name:ye.name,value:C[ye.name]||"",onChange:Ae,required:!0,placeholder:ye.placeholder,rows:ye.rows||3}):v.createElement(Oi,{type:ye.type,name:ye.name,value:C[ye.name]||"",onChange:Ae,required:!0,placeholder:ye.placeholder}),ye.name==="dni"&&v.createElement(Ce,{type:"button",onClick:Fe,disabled:I,className:"p-2 gap-1"},I?v.createElement(Nn,null):"Verificar"),e==="maintenance"&&ye.name==="description"&&v.createElement(Ce,{type:"button",onClick:De,disabled:J||!y?.geminiApiKey,className:"p-2 gap-1",title:y?.geminiApiKey?"Analizar con IA":"API Key no configurada"},J?v.createElement(Nn,null):v.createElement(Hx,{size:16}))))),e==="expenses"&&v.createElement("div",null,v.createElement("label",{className:"text-sm font-medium"},"Fotos de Evidencia"),v.createElement(Oi,{type:"file",onChange:Le,multiple:!0,accept:"image/*"})),v.createElement("div",{className:"flex justify-end gap-2 pt-4"},v.createElement(Ce,{type:"button",variant:"outline",onClick:be},"Cancelar"),v.createElement(Ce,{type:"submit",disabled:A},A?v.createElement(Nn,null):"Guardar")))),v.createElement(ar,{isOpen:P,onClose:()=>O(!1),title:"Confirmar Eliminación",size:"sm"},v.createElement("div",{className:"text-center"},v.createElement(fm,{className:"mx-auto h-12 w-12 text-red-500"}),v.createElement("h3",{className:"mt-2 text-lg font-medium"},"¿Estás seguro?"),v.createElement("p",{className:"mt-1 text-sm text-gray-500"},"Esta acción no se puede deshacer y quedará registrada.")),v.createElement("div",{className:"flex justify-center gap-4 mt-6"},v.createElement(Ce,{variant:"outline",onClick:()=>O(!1)},"Cancelar"),v.createElement(Ce,{variant:"destructive",onClick:Pe},"Sí, eliminar"))))},nU=({item:t,appData:e,onClose:n,itemType:r,handlePaymentStatusChange:i,userProfile:a})=>{const{properties:o,tenants:u,rentals:c,payments:f,maintenance:d}=e,p=()=>{const _=c.filter(E=>E.propertyId===t.id&&E.status==="Activo"),x=d.filter(E=>E.propertyId===t.id).sort((E,b)=>new Date(b.createdAt)-new Date(E.createdAt));return v.createElement(v.Fragment,null,v.createElement(wn,null,t.name),v.createElement("p",{className:"text-sm text-gray-500"},t.address),v.createElement("div",{className:"mt-4 space-y-4 text-sm"},v.createElement("h4",{className:"font-semibold"},"Inquilinos Activos"),_.length>0?v.createElement("ul",{className:"space-y-2"},_.map(E=>{const b=gt(u,E.tenantId);return v.createElement("li",{key:E.id,className:"p-2 bg-gray-50 rounded-md"},v.createElement("p",{className:"font-medium"},b.name||"N/A"),v.createElement("p",{className:"text-xs text-gray-500"},"Contrato vence: ",Bt(E.endDate)))})):v.createElement("p",null,"Actualmente disponible."),v.createElement("h4",{className:"font-semibold pt-3 border-t mt-3"},"Mantenimiento Reciente"),x.length>0?v.createElement("ul",{className:"list-disc pl-5 space-y-1"},x.slice(0,3).map(E=>v.createElement("li",{key:E.id},E.description," (",E.status,")"))):v.createElement("p",null,"Sin reportes de mantenimiento.")))},y=()=>{const _=c.find(b=>b.tenantId===t.id&&b.status==="Activo"),x=_?gt(o,_.propertyId):null,E=f.filter(b=>b.tenantId===t.id).sort((b,C)=>new Date(C.paymentDate)-new Date(b.paymentDate));return v.createElement(v.Fragment,null,v.createElement(wn,null,t.name),v.createElement("p",{className:"text-sm text-gray-500"},t.email," | ",t.phone),v.createElement("div",{className:"mt-4 space-y-4 text-sm"},_&&x&&v.createElement("div",null,v.createElement("h4",{className:"font-semibold"},"Contrato Activo"),v.createElement("p",null,v.createElement("strong",null,"Propiedad:")," ",x.name),v.createElement("p",null,v.createElement("strong",null,"Monto:")," S/ ",parseFloat(_.rentAmount).toFixed(2)),v.createElement("p",null,v.createElement("strong",null,"Fin de contrato:")," ",Bt(_.endDate))),v.createElement("div",null,v.createElement("h4",{className:"font-semibold"},"Credenciales de Acceso"),t.hasAccess?v.createElement(v.Fragment,null,v.createElement("p",null,v.createElement("strong",null,"Email:")," ",t.email),v.createElement("p",null,v.createElement("strong",null,"Contraseña:")," ",v.createElement("span",{className:"font-mono p-1 bg-gray-100 rounded-md select-all"},t.password||t.dni||"No registrada"))):v.createElement("p",null,"El inquilino aún no tiene acceso al portal.")),v.createElement("div",null,v.createElement("h4",{className:"font-semibold"},"Historial de Pagos Completo"),E.length>0?v.createElement("div",{className:"max-h-64 overflow-y-auto border rounded-md mt-2"},v.createElement("ul",{className:"divide-y divide-gray-100"},E.map(b=>v.createElement("li",{key:b.id,className:"p-2 flex justify-between items-center"},v.createElement("div",null,v.createElement("p",{className:"font-medium"},b.concept),v.createElement("p",{className:"text-xs text-gray-500"},Bt(b.paymentDate))),v.createElement(rU,{payment:b,handlePaymentStatusChange:i,userProfile:a}))))):v.createElement("p",null,"No se encontraron pagos."))))};return v.createElement(zt,{className:"sticky top-8"},v.createElement(Rn,{className:"justify-between"},v.createElement("span",null,"Vista Rápida"),v.createElement(Ce,{variant:"ghost",size:"icon",onClick:n,className:"rounded-full w-8 h-8 -mr-2"},v.createElement(Wx,{size:16}))),v.createElement(Ht,null,r==="Property"&&p(),r==="Tenant"&&y()))},kce=({userProfile:t,organizationData:e})=>{const[n,r]=z.useState("draftEmail"),[i,a]=z.useState(""),[o,u]=z.useState(""),[c,f]=z.useState(!1),d=async p=>{if(p.preventDefault(),!i.trim())return;f(!0);let y="";n==="draftEmail"?y=`Redacta un correo electrónico profesional para la siguiente situación: ${i}`:n==="analyzeData"&&(y=`Analiza los siguientes datos y proporciona un resumen y 3 puntos clave: ${i}`);const{success:_,data:x}=await dd(y,e?.geminiApiKey);u(x),f(!1)};return e?.geminiApiKey?v.createElement("div",{className:"flex flex-col h-full"},v.createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-2"},"✨ Co-piloto de IA"),v.createElement("p",{className:"text-gray-600 mb-6"},"Tu asistente para tareas de comunicación y análisis."),v.createElement(zt,null,v.createElement(Ht,null,v.createElement("form",{onSubmit:d,className:"space-y-4"},v.createElement("div",null,v.createElement("label",{className:"text-sm font-medium"},"Tarea a Realizar"),v.createElement(nl,{value:n,onChange:p=>r(p.target.value)},v.createElement("option",{value:"draftEmail"},"Redactar Correo"),v.createElement("option",{value:"analyzeData"},"Analizar Datos"))),v.createElement("div",null,v.createElement("label",{className:"text-sm font-medium"},"Contexto"),v.createElement(Qy,{value:i,onChange:p=>a(p.target.value),rows:5,placeholder:n==="draftEmail"?"Ej: Recordatorio de pago de alquiler para el inquilino del apto 101, que vence el 30 de este mes.":"Ej: Pega aquí los datos que quieres analizar..."})),v.createElement(Ce,{type:"submit",disabled:c||!i.trim()},c?v.createElement(Nn,null):"Generar Respuesta")))),o&&v.createElement(zt,{className:"mt-6"},v.createElement(Rn,null,v.createElement(wn,null,"Resultado Generado")),v.createElement(Ht,null,v.createElement("div",{className:"prose prose-sm max-w-full",dangerouslySetInnerHTML:{__html:oc(o)}})))):v.createElement(ni,{icon:Bx,title:"Configuración de API Requerida",message:"Para usar el Co-piloto de IA, primero debes añadir tu clave de API de Gemini en la página de Ajustes."})},Cce=({orgId:t,userProfile:e})=>{const[n,r]=z.useState([]),[i,a]=z.useState(!1),[o,u]=z.useState(!1),[c,f]=z.useState({email:"",role:"Gestor",dni:""}),[d,p]=z.useState(null),[y,_]=z.useState(!1),x=z.useContext(ia);z.useEffect(()=>{if(!t)return;const A=er(bt,"users"),L=Si(A,vu("orgId","==",t)),I=Qr(L,N=>{const P=N.docs.map(O=>({id:O.id,...O.data()}));r(P)});return()=>I()},[t]);const E=async A=>{if(A.preventDefault(),!c.email||!c.role||!c.dni){x({title:"Error",message:"Por favor, completa todos los campos."});return}_(!0);const L=sS(Z3,`secondary-auth-${Date.now()}`),I=QV(L);try{const P=(await pie(I,c.email,c.dni)).user;await $le(cn(bt,"users",P.uid),{email:P.email,role:c.role,dni:c.dni,orgId:t,uid:P.uid}),await br(t,e,"CREATE_TEAM_MEMBER","Equipo",{newUserEmail:P.email,role:c.role}),x({title:"Usuario Creado",message:`¡Usuario ${P.email} creado!
Su contraseña inicial es su DNI: ${c.dni}`}),a(!1),f({email:"",role:"Gestor",dni:""})}catch(N){console.error("Error creating team member:",N),x({title:"Error",message:`Error al crear el miembro del equipo: ${N.message}`})}finally{await ire(L),_(!1)}},b=A=>{p(A),u(!0)},C=async A=>{if(A.preventDefault(),!d)return;_(!0);const L=cn(bt,"users",d.id);try{await Fh(L,{role:d.role}),await br(t,e,"UPDATE_TEAM_MEMBER_ROLE","Equipo",{targetUser:d.email,newRole:d.role}),u(!1),p(null)}catch(I){console.error("Error updating role:",I),x({title:"Error",message:"Error al actualizar el rol."})}_(!1)},k=async A=>{if(await x({title:"Confirmar Eliminación",message:`¿Seguro que quieres eliminar a ${A.email} del equipo? Esta acción eliminará su perfil de la organización pero no su cuenta de autenticación.`,confirmText:"Sí, eliminar",isDestructive:!0}))try{await Uh(cn(bt,"users",A.id)),await br(t,e,"DELETE_TEAM_MEMBER","Equipo",{deletedUserEmail:A.email}),x({title:"Éxito",message:"Usuario eliminado del equipo."})}catch(I){console.error("Error deleting user:",I),x({title:"Error",message:"No se pudo eliminar al usuario."})}};return e.role!=="Admin"?v.createElement(ni,{icon:C6,title:"Acceso Denegado",message:"Solo los administradores pueden gestionar el equipo."}):v.createElement("div",null,v.createElement("div",{className:"flex justify-between items-center mb-6"},v.createElement("h1",{className:"text-3xl font-bold"},"Gestionar Equipo"),v.createElement(Ce,{onClick:()=>a(!0),className:"gap-2"},v.createElement(zx,{size:16}),"Invitar Miembro")),v.createElement(zt,null,v.createElement(Ht,null,n.length>0?v.createElement("table",{className:"min-w-full divide-y divide-gray-200"},v.createElement("thead",{className:"bg-gray-50"},v.createElement("tr",null,v.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase"},"Correo"),v.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium uppercase"},"Rol"),v.createElement("th",{className:"px-6 py-3 text-right text-xs font-medium uppercase"},"Acciones"))),v.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},n.map(A=>v.createElement("tr",{key:A.id},v.createElement("td",{className:"p-4"},A.email),v.createElement("td",{className:"p-4"},A.role),v.createElement("td",{className:"p-4 text-right"},A.uid!==e.uid&&v.createElement("div",{className:"flex gap-2 justify-end"},v.createElement(Ce,{onClick:()=>b(A),variant:"ghost",className:"p-2"},v.createElement(PL,{size:16})),v.createElement(Ce,{onClick:()=>k(A),variant:"ghost",className:"text-red-500 p-2"},v.createElement(Mg,{size:16})))))))):v.createElement(ni,{icon:IL,title:"No hay miembros en el equipo",message:"Invita a miembros a tu equipo para colaborar."}))),v.createElement(ar,{isOpen:i,onClose:()=>a(!1),title:"Invitar Nuevo Miembro"},v.createElement("form",{onSubmit:E,className:"space-y-4"},v.createElement("div",null,v.createElement("label",null,"Correo Electrónico"),v.createElement(Oi,{type:"email",value:c.email,onChange:A=>f({...c,email:A.target.value}),required:!0})),v.createElement("div",null,v.createElement("label",null,"DNI (Será la contraseña inicial)"),v.createElement(Oi,{type:"text",value:c.dni,onChange:A=>f({...c,dni:A.target.value}),required:!0,maxLength:"8"})),v.createElement("div",null,v.createElement("label",null,"Asignar Rol"),v.createElement(nl,{value:c.role,onChange:A=>f({...c,role:A.target.value})},v.createElement("option",{value:"Gestor"},"Gestor"),v.createElement("option",{value:"Verificador"},"Verificador"),v.createElement("option",{value:"Contador"},"Contador"))),v.createElement("div",{className:"flex justify-end gap-2 pt-4"},v.createElement(Ce,{type:"button",variant:"outline",onClick:()=>a(!1)},"Cancelar"),v.createElement(Ce,{type:"submit",disabled:y},y?v.createElement(Nn,null):"Crear Miembro")))),d&&v.createElement(ar,{isOpen:o,onClose:()=>u(!1),title:`Editar Rol de ${d.email}`},v.createElement("form",{onSubmit:C,className:"space-y-4"},v.createElement("div",null,v.createElement("label",null,"Rol"),v.createElement(nl,{value:d.role,onChange:A=>p({...d,role:A.target.value})},v.createElement("option",{value:"Gestor"},"Gestor"),v.createElement("option",{value:"Verificador"},"Verificador"),v.createElement("option",{value:"Contador"},"Contador"))),v.createElement("div",{className:"flex justify-end gap-2 pt-4"},v.createElement(Ce,{type:"button",variant:"outline",onClick:()=>u(!1)},"Cancelar"),v.createElement(Ce,{type:"submit",disabled:y},y?v.createElement(Nn,null):"Guardar Cambios")))))},Rce=({appData:t})=>{const{logs:e=[]}=t,n=r=>{const{details:i,action:a}=r;if(!i)return v.createElement("p",null,"N/A");if(a&&a.startsWith("UPDATE_")){const{before:o,after:u}=i;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return v.createElement("pre",{className:"whitespace-pre-wrap max-w-md overflow-x-auto bg-gray-100 p-2 rounded-md text-xs"},v.createElement("code",null,JSON.stringify(i,null,2)));const f=[...new Set([...Object.keys(o),...Object.keys(u)])].filter(d=>o[d]!==u[d]);return f.length===0?v.createElement("p",{className:"text-xs text-gray-500"},"Sin cambios visibles."):v.createElement("div",{className:"space-y-1"},f.map(d=>v.createElement("div",{key:d,className:"flex items-start text-xs"},v.createElement("span",{className:"font-semibold mr-1 w-24 truncate"},d,":"),v.createElement("div",{className:"flex flex-col"},v.createElement("span",{className:"text-red-600 line-through"},String(o[d])),v.createElement("div",{className:"flex items-center"},v.createElement(_6,{size:12,className:"text-gray-400 mr-1"}),v.createElement("span",{className:"text-green-600"},String(u[d])))))))}return v.createElement("pre",{className:"whitespace-pre-wrap max-w-md overflow-x-auto bg-gray-100 p-2 rounded-md text-xs"},v.createElement("code",null,JSON.stringify(i,null,2)))};return v.createElement("div",null,v.createElement("h1",{className:"text-3xl font-bold mb-6"},"Registro de Actividad"),v.createElement(zt,null,v.createElement(Ht,null,e.length>0?v.createElement("div",{className:"overflow-x-auto"},v.createElement("table",{className:"min-w-full divide-y divide-gray-200"},v.createElement("thead",{className:"bg-gray-50"},v.createElement("tr",null,v.createElement("th",{className:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Fecha y Hora"),v.createElement("th",{className:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Usuario"),v.createElement("th",{className:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Sección"),v.createElement("th",{className:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Acción"),v.createElement("th",{className:"p-4 text-left text-xs font-medium text-gray-500 uppercase"},"Detalles"))),v.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},e.map(r=>v.createElement("tr",{key:r.id},v.createElement("td",{className:"p-4 whitespace-nowrap text-sm"},Bt(r.timestamp,!0)),v.createElement("td",{className:"p-4 whitespace-nowrap text-sm"},r.userEmail),v.createElement("td",{className:"p-4 whitespace-nowrap text-sm"},r.section||"General"),v.createElement("td",{className:"p-4 whitespace-nowrap text-sm font-mono bg-gray-50 rounded-md"},r.action),v.createElement("td",{className:"p-4 text-xs"},n(r))))))):v.createElement(ni,{icon:_L,title:"Sin actividad",message:"Aún no se han registrado cambios en el sistema."}))))},gl=({openModal:t,handleDelete:e,data:n,appData:r,fields:i,itemType:a,openDocManager:o,openReceiptManager:u,handleRowClick:c,customActions:f,openImageViewer:d,handleStatusChange:p,userProfile:y})=>v.createElement(v.Fragment,null,v.createElement("thead",{className:"bg-gray-50"},v.createElement("tr",null,i.map(_=>v.createElement("th",{key:_.name,className:"p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},_.label)),v.createElement("th",{className:"p-4"}))),v.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},n.map(_=>v.createElement("tr",{key:_.id,onClick:()=>c&&c(_),className:`${c?"hover:bg-gray-50 cursor-pointer":""}`},i.map(x=>v.createElement("td",{key:x.name,className:"p-4 whitespace-nowrap text-sm"},x.name==="status"&&a==="Payment"?v.createElement(rU,{payment:_,handlePaymentStatusChange:p,userProfile:y}):x.name==="status"&&a==="Expense"?v.createElement(Nce,{expense:_,handleExpenseStatusChange:p,userProfile:y}):x.render?x.render(_,r):_[x.name])),v.createElement("td",{className:"p-2 text-right whitespace-nowrap"},v.createElement("div",{className:"flex justify-end items-center"},f&&f(_),a==="Tenant"&&v.createElement(Ce,{onClick:x=>{x.stopPropagation(),u(_)},variant:"ghost",className:"p-2 text-blue-600",title:"Gestionar Recibos de Servicios"},v.createElement(SL,{size:16})),a==="Expense"&&_.photoURLs?.length>0&&v.createElement(Ce,{onClick:x=>{x.stopPropagation(),d(_.photoURLs)},variant:"ghost",className:"p-2 text-indigo-600",title:"Ver Fotos"},v.createElement(x6,{size:16})),v.createElement(Ce,{onClick:x=>{x.stopPropagation(),o(_)},variant:"ghost",className:"p-2 text-gray-500",title:"Gestionar Documentos"},v.createElement(P6,{size:16})),v.createElement(Ce,{onClick:x=>{x.stopPropagation(),t(_)},variant:"ghost",className:"p-2",title:"Editar"},v.createElement(PL,{size:16})),v.createElement(Ce,{onClick:x=>{x.stopPropagation(),e(_.id)},variant:"ghost",className:"text-red-500 p-2",title:"Eliminar"},v.createElement(Mg,{size:16})))))))),rU=({payment:t,handlePaymentStatusChange:e,userProfile:n})=>{const{status:r}=t,i=u=>{u.stopPropagation();let c;r==="Pendiente"?c="Pagado":r==="Pagado"&&(c="Verificado"),c&&e(t,c)};if(r==="Pendiente")return v.createElement(Ce,{onClick:i,variant:"outline",className:"text-yellow-600 border-yellow-300 hover:bg-yellow-50 text-xs px-2 py-1"},"Marcar Pagado y Notificar");const a=n.role==="Admin"||n.role==="Verificador";if(r==="Pagado"&&a)return v.createElement(Ce,{onClick:i,variant:"outline",className:"text-blue-600 border-blue-300 hover:bg-blue-50 text-xs px-2 py-1"},"Verificar Pago");const o={Pendiente:"bg-yellow-100 text-yellow-800",Pagado:"bg-blue-100 text-blue-800",Verificado:"bg-green-100 text-green-800"};return v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o[r]}`},r)},Nce=({expense:t,handleExpenseStatusChange:e,userProfile:n})=>{const{status:r}=t,i=n.role==="Admin"||n.role==="Verificador",a=u=>{u.stopPropagation(),e(t,"Verificado")};if(r==="Pendiente"&&i)return v.createElement(Ce,{onClick:a,variant:"outline",className:"text-indigo-600 border-indigo-300 hover:bg-indigo-50 text-xs px-2 py-1"},"Verificar Gasto");const o={Pendiente:"bg-yellow-100 text-yellow-800",Verificado:"bg-green-100 text-green-800"};return v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${o[r]}`},r)},cL=[{name:"name",label:"Nombre/ID",type:"text"},{name:"type",label:"Tipo",type:"select",options:()=>[{id:"Residencial",name:"Residencial"},{id:"Comercial",name:"Comercial"},{id:"Terreno Agricola",name:"Terreno Agricola"}]},{name:"address",label:"Dirección",type:"text"},{name:"detailedDescription",label:"Descripción Registral",type:"textarea",rows:4,placeholder:"Ej: INMUEBLE UBICADO EN..."},{name:"status",label:"Estado",type:"select",options:()=>[{id:"Disponible",name:"Disponible"},{id:"Alquilado",name:"Alquilado"},{id:"Mantenimiento",name:"Mantenimiento"}],render:t=>v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="Disponible"?"bg-green-100 text-green-800":t.status==="Alquilado"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`},t.status)}],fL=[{name:"propertyId",label:"Propiedad",type:"select",options:t=>t.properties||[],render:(t,e)=>gt(e.properties,t.propertyId).name},{name:"tenantId",label:"Inquilino",type:"select",options:t=>t.tenants||[],render:(t,e)=>gt(e.tenants,t.tenantId).name},{name:"departmentDetails",label:"Detalles de Unidad",type:"textarea",rows:2,placeholder:"Ej: Sexto Piso A"},{name:"startDate",label:"Inicio Contrato",type:"date",render:t=>Bt(t.startDate)},{name:"endDate",label:"Fin Contrato",type:"date",render:t=>Bt(t.endDate)},{name:"rentAmount",label:"Alquiler",type:"number",render:t=>`S/ ${parseFloat(t.rentAmount||0).toFixed(2)}`},{name:"status",label:"Estado",type:"select",defaultValue:"Activo",options:()=>[{id:"Activo",name:"Activo"},{id:"Finalizado",name:"Finalizado"}],render:t=>v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="Activo"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`},t.status)}],hL=[{name:"name",label:"Nombre Completo",type:"text"},{name:"dni",label:"DNI",type:"text"},{name:"domicilio",label:"Domicilio",type:"text"},{name:"email",label:"Correo",type:"email"},{name:"phone",label:"Teléfono",type:"tel"}],dL=[{name:"name",label:"Nombre de la Plantilla",type:"text",placeholder:"Ej: Contrato de Alquiler Residencial 2024"},{name:"description",label:"Descripción",type:"text",placeholder:"Ej: Plantilla estándar para apartamentos."},{name:"content",label:"Contenido de la Plantilla",type:"textarea",rows:15,placeholder:"Pega aquí el texto completo de tu contrato. Usa placeholders como [NOMBRE_INQUILINO], [DNI_INQUILINO], etc."}],pL=[{name:"rentalId",label:"Contrato",type:"select",options:t=>(t.rentals||[]).filter(e=>e.status==="Activo").map(e=>({id:e.id,name:`${gt(t.tenants,e.tenantId).name} - ${gt(t.properties,e.propertyId).name}`})),render:(t,e)=>{const n=gt(e.rentals,t.rentalId);return n?`${gt(e.tenants,n.tenantId).name}`:"N/A"}},{name:"amount",label:"Monto (S/)",type:"number",render:t=>`S/ ${parseFloat(t.amount||0).toFixed(2)}`},{name:"paymentDate",label:"Fecha",type:"date",render:t=>Bt(t.paymentDate)},{name:"concept",label:"Concepto",type:"text"},{name:"status",label:"Estado",type:"select",defaultValue:"Pendiente",options:()=>[{id:"Pendiente",name:"Pendiente"},{id:"Pagado",name:"Pagado"},{id:"Verificado",name:"Verificado"}]}],mL=[{name:"propertyId",label:"Propiedad",type:"select",options:t=>t.properties||[],render:(t,e)=>gt(e.properties,t.propertyId).name},{name:"amount",label:"Monto (S/)",type:"number",render:t=>`S/ ${parseFloat(t.amount||0).toFixed(2)}`},{name:"date",label:"Fecha",type:"date",render:t=>Bt(t.date)},{name:"description",label:"Descripción",type:"text"},{name:"category",label:"Categoría",type:"select",options:()=>[{id:"Reparación",name:"Reparación"},{id:"Servicios",name:"Servicios"},{id:"Impuestos",name:"Impuestos"}]},{name:"status",label:"Estado",type:"select",defaultValue:"Pendiente",options:()=>[{id:"Pendiente",name:"Pendiente"},{id:"Verificado",name:"Verificado"}]}],Mce=[{name:"propertyId",label:"Propiedad",type:"select",options:t=>t.properties||[],render:(t,e)=>gt(e.properties,t.propertyId).name},{name:"description",label:"Descripción",type:"textarea"},{name:"priority",label:"Prioridad",type:"select",options:()=>[{id:"Baja",name:"Baja"},{id:"Media",name:"Media"},{id:"Alta",name:"Alta"},{id:"Urgente",name:"Urgente"}],defaultValue:"Media"},{name:"estimatedCost",label:"Costo Estimado (S/)",type:"text",placeholder:"Ej: 150.00"},{name:"suggestedMaterials",label:"Materiales Sugeridos (IA)",type:"textarea"},{name:"status",label:"Estado",type:"select",options:()=>[{id:"Pendiente",name:"Pendiente"},{id:"En Progreso",name:"En Progreso"},{id:"Completado",name:"Completado"}],defaultValue:"Pendiente",render:t=>v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${t.status==="Completado"?"bg-green-100 text-green-800":t.status==="En Progreso"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`},t.status)}],Dce=t=>{const[e,n]=z.useState(null);return v.createElement(ml,{title:"Propiedades",collectionName:"properties",fields:cL,...t,data:t.appData.properties,selectedItem:e,onSelectItem:n,renderItem:r=>gl({...r,fields:cL.filter(i=>i.type!=="textarea"),itemType:"Property"}),renderDetailsPanel:r=>v.createElement(nU,{...r,itemType:"Property"})})},Lce=t=>{const[e,n]=z.useState(null),[r,i]=z.useState({isOpen:!1,tenant:null}),a=z.useContext(ia),o=Y3(eU,"sendWhatsApp"),u=d=>{i({isOpen:!0,tenant:d})},c=async(d,p)=>{if(!d.phone){a({title:"Error",message:"El inquilino no tiene un número de teléfono."});return}try{await o({phoneNumber:d.phone,message:p}),a({title:"Éxito",message:"Mensaje enviado a la cola de envío."})}catch(y){console.error("Error sending message:",y),a({title:"Error",message:"No se pudo enviar el mensaje."})}i({isOpen:!1,tenant:null})},f=d=>v.createElement(Ce,{onClick:p=>{p.stopPropagation(),u(d)},variant:"ghost",className:"p-2 text-green-600",title:"Enviar Mensaje WhatsApp"},v.createElement(AL,{size:16}));return v.createElement(v.Fragment,null,v.createElement(ml,{title:"Inquilinos",collectionName:"tenants",fields:hL,...t,data:t.appData.tenants,selectedItem:e,onSelectItem:n,renderItem:d=>gl({...d,fields:hL,itemType:"Tenant",customActions:f}),renderDetailsPanel:d=>v.createElement(nU,{...d,itemType:"Tenant",handlePaymentStatusChange:t.handlePaymentStatusChange,userProfile:t.userProfile})}),r.isOpen&&v.createElement(jce,{isOpen:r.isOpen,onClose:()=>i({isOpen:!1,tenant:null}),tenant:r.tenant,onSend:c}))},jce=({isOpen:t,onClose:e,tenant:n,onSend:r})=>{const[i,a]=z.useState("");return v.createElement(ar,{isOpen:t,onClose:e,title:`Enviar Mensaje a ${n.name}`},v.createElement("div",{className:"space-y-4"},v.createElement(Qy,{value:i,onChange:o=>a(o.target.value),placeholder:"Escribe tu mensaje personalizado aquí...",rows:5}),v.createElement("div",{className:"flex justify-end gap-2"},v.createElement(Ce,{variant:"outline",onClick:e},"Cancelar"),v.createElement(Ce,{onClick:()=>r(n,i),disabled:!i.trim()},"Enviar Mensaje"))))},$ce=({isOpen:t,onClose:e,rental:n,orgId:r,appData:i,userProfile:a})=>{const{libsLoaded:o}=z.useContext(Xy),u=z.useContext(ia),[c,f]=z.useState([]),[d,p]=z.useState(!0),[y,_]=z.useState(null);z.useEffect(()=>{if(!n?.id||!r)return;p(!0);const b=er(bt,`organizations/${r}/rentals/${n.id}/generatedContracts`),C=Si(b,Au("createdAt","desc")),k=Qr(C,A=>{const L=A.docs.map(I=>({id:I.id,...I.data()}));f(L),p(!1)},A=>{console.error("Error fetching generated contracts:",A),p(!1)});return()=>k()},[n,r]);const x=async b=>{if(!o||!window.htmlDocx||!window.saveAs){u({title:"Error de Exportación",message:"La librería para generar documentos de Word no se cargó correctamente."});return}const C=`<!DOCTYPE html><html><head><meta charset="UTF-8"></head><body>${oc(b.content)}</body></html>`,k=await window.htmlDocx.asBlob(C);window.saveAs(k,`contrato-${b.templateName.replace(/ /g,"_")}.docx`)},E=async b=>{if(await u({title:"Confirmar",message:"¿Estás seguro de que quieres eliminar este contrato generado?",confirmText:"Eliminar",isDestructive:!0}))try{const k=cn(bt,`organizations/${r}/rentals/${n.id}/generatedContracts`,b);await Uh(k),await br(r,a,"DELETE_GENERATED_CONTRACT","Contratos",{rentalId:n.id,generatedContractId:b}),y?.id===b&&_(null)}catch{u({title:"Error",message:"No se pudo eliminar el contrato."})}};return y?v.createElement(ar,{isOpen:t,onClose:e,title:`Viendo: ${y.templateName}`,size:"4xl"},v.createElement("div",{className:"flex items-center justify-between mb-4"},v.createElement(Ce,{onClick:()=>_(null),variant:"outline"},v.createElement(v6,{className:"mr-2 h-4 w-4"})," Volver a la lista"),v.createElement(Ce,{onClick:()=>x(y),variant:"outline",disabled:!o},v.createElement(A6,{className:"mr-2 h-4 w-4"})," Exportar a Word")),v.createElement("div",{className:"prose prose-sm max-w-full h-[60vh] overflow-y-auto bg-gray-50 p-4 border rounded-md",dangerouslySetInnerHTML:{__html:oc(y.content)}})):v.createElement(ar,{isOpen:t,onClose:e,title:`Contratos Generados para ${gt(i.tenants,n?.tenantId)?.name||"N/A"}`,size:"2xl"},d&&v.createElement("div",{className:"flex justify-center p-8"},v.createElement(Nn,null)),!d&&c.length===0&&v.createElement(ni,{icon:qx,title:"Sin Documentos",message:"No se han generado contratos para este alquiler."}),!d&&c.length>0&&v.createElement("ul",{className:"divide-y divide-gray-200"},c.map(b=>v.createElement("li",{key:b.id,className:"py-3 flex items-center justify-between"},v.createElement("div",null,v.createElement("p",{className:"text-sm font-medium text-gray-800"},b.templateName),v.createElement("p",{className:"text-xs text-gray-500"},"Generado el: ",Bt(b.createdAt,!0))),v.createElement("div",{className:"flex items-center gap-2"},v.createElement(Ce,{onClick:()=>_(b),variant:"outline"},"Ver"),v.createElement(Ce,{onClick:()=>E(b.id),variant:"ghost",className:"text-red-500 p-2",title:"Eliminar"},v.createElement(Mg,{size:16})))))))},Vce=t=>{const{libsLoaded:e}=z.useContext(Xy),n=z.useContext(ia),[r,i]=z.useState(!1),[a,o]=z.useState(null),u=d=>{o(d),i(!0)},c=d=>v.createElement(v.Fragment,null,v.createElement(Ce,{onClick:p=>{p.stopPropagation(),u(d)},variant:"ghost",className:"p-2 text-green-600",title:"Ver Documentos Generados"},v.createElement(EL,{size:16})),v.createElement(Ce,{onClick:p=>{p.stopPropagation(),f(d)},variant:"ghost",className:"p-2 text-blue-600",title:"Descargar Resumen PDF",disabled:!e},v.createElement(S6,{size:16}))),f=d=>{if(!e){n({title:"Error",message:"Librerías de exportación no cargadas."});return}const p=gt(t.appData.properties,d.propertyId),y=gt(t.appData.tenants,d.tenantId),_=new window.jspdf.jsPDF;_.setFontSize(22),_.setFont("helvetica","bold"),_.text("Resumen de Contrato de Alquiler",105,20,{align:"center"}),_.setFontSize(12),_.setFont("helvetica","normal");let x=40;const E=(b,C)=>{_.setFont("helvetica","bold"),_.text(b,14,x),_.setFont("helvetica","normal"),_.text(String(C||"N/A"),60,x),x+=10};E("Propiedad:",p.name),E("Dirección:",p.address),E("Inquilino:",y.name),E("Email Inquilino:",y.email),E("Teléfono Inquilino:",y.phone),x+=5,E("Fecha de Inicio:",Bt(d.startDate)),E("Fecha de Finalización:",Bt(d.endDate)),E("Monto de Alquiler:",`S/ ${parseFloat(d.rentAmount).toFixed(2)}`),E("Estado del Contrato:",d.status),x+=15,_.setFontSize(10),_.text("Este documento es un resumen generado por el sistema.",105,x,{align:"center",maxWidth:180}),_.save(`resumen-${y.name}-${p.name}.pdf`)};return v.createElement(v.Fragment,null,v.createElement(ml,{title:"Contratos",collectionName:"rentals",fields:fL,...t,data:t.appData.rentals,renderItem:d=>gl({...d,fields:fL.filter(p=>p.type!=="textarea"),itemType:"Rental",customActions:c})}),r&&v.createElement($ce,{isOpen:r,onClose:()=>i(!1),rental:a,orgId:t.orgId,appData:t.appData,userProfile:t.userProfile}))},Fce=t=>{const[e,n]=z.useState({property:"",tenant:""}),[r,i]=z.useState(null),a=z.useContext(ia),o=Y3(eU,"sendWhatsApp"),u=async(p,y)=>{if(await t.handlePaymentStatusChange(p,y),y==="Pagado"){const _=gt(t.appData.tenants,p.tenantId),x=`Hola ${_.name}, te confirmamos la recepción de tu pago por el concepto de "${p.concept}" por un monto de S/ ${p.amount}. ¡Gracias!`;try{await o({phoneNumber:_.phone,message:x}),a({title:"Notificación Enviada",message:"Se ha enviado la confirmación de pago al inquilino."})}catch(E){console.error("Error sending WhatsApp notification:",E),a({title:"Error de Notificación",message:"No se pudo enviar la notificación de WhatsApp."})}}},c=z.useMemo(()=>{let y=t.appData.payments||[];if(e.property&&(y=y.filter(_=>_.propertyId===e.property)),e.tenant&&(y=y.filter(_=>_.tenantId===e.tenant)),r){const _=new Date,x=new Date(Date.UTC(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()));return y.filter(E=>{if(!E.paymentDate||E.status!=="Pendiente")return!1;const b=new Date(`${E.paymentDate}T00:00:00Z`);if(r==="overdue")return b<x;if(r==="pending_this_month"){const C=b.getUTCMonth(),k=b.getUTCFullYear(),A=_.getUTCMonth(),L=_.getUTCFullYear();return k===L&&C===A}return!1}).sort((E,b)=>new Date(b.paymentDate)-new Date(E.paymentDate))}return y.sort((_,x)=>new Date(x.paymentDate)-new Date(_.paymentDate))},[t.appData.payments,e.property,e.tenant,r]),f=z.useMemo(()=>{if(!e.property)return t.appData.tenants||[];const p=new Set((t.appData.rentals||[]).filter(y=>y.propertyId===e.property).map(y=>y.tenantId));return(t.appData.tenants||[]).filter(y=>p.has(y.id))},[e.property,t.appData.tenants,t.appData.rentals]),d=()=>{n({property:"",tenant:""}),i(null)};return v.createElement("div",null,v.createElement(zt,{className:"mb-6"},v.createElement(Ht,null,v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-end"},v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium mb-1"},"Filtrar por Propiedad"),v.createElement(nl,{value:e.property,onChange:p=>{n({property:p.target.value,tenant:""})}},v.createElement("option",{value:""},"Todas las propiedades"),t.appData.properties.map(p=>v.createElement("option",{key:p.id,value:p.id},p.name)))),v.createElement("div",null,v.createElement("label",{className:"block text-sm font-medium mb-1"},"Filtrar por Inquilino"),v.createElement(nl,{value:e.tenant,onChange:p=>{n(y=>({...y,tenant:p.target.value}))}},v.createElement("option",{value:""},"Todos los inquilinos"),f.map(p=>v.createElement("option",{key:p.id,value:p.id},p.name)))),v.createElement(Ce,{variant:r==="overdue"?"default":"outline",onClick:()=>i(r==="overdue"?null:"overdue")},"Vencidos"),v.createElement(Ce,{variant:r==="pending_this_month"?"default":"outline",onClick:()=>i(r==="pending_this_month"?null:"pending_this_month")},"Pendientes del Mes"),v.createElement("div",null,v.createElement(Ce,{variant:"outline",onClick:d,className:"w-full"},"Limpiar Filtros"))))),v.createElement(ml,{title:"Pagos",collectionName:"payments",fields:pL,...t,data:c,renderItem:p=>gl({...p,fields:pL,itemType:"Payment",handleStatusChange:u,userProfile:t.userProfile})}))},Uce=t=>v.createElement(ml,{title:"Gastos",collectionName:"expenses",fields:mL,...t,data:t.appData.expenses,renderItem:e=>gl({...e,fields:mL,itemType:"Expense",handleStatusChange:t.handleExpenseStatusChange,userProfile:t.userProfile})}),qce=t=>{const e={Baja:"bg-blue-100 text-blue-800",Media:"bg-yellow-100 text-yellow-800",Alta:"bg-orange-100 text-orange-800",Urgente:"bg-red-100 text-red-800"},n=[{name:"propertyId",label:"Propiedad",render:(r,i)=>gt(i.properties,r.propertyId).name},{name:"description",label:"Descripción"},{name:"priority",label:"Prioridad",render:r=>v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e[r.priority]||"bg-gray-100 text-gray-800"}`},r.priority)},{name:"status",label:"Estado",render:r=>v.createElement("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${r.status==="Completado"?"bg-green-100 text-green-800":r.status==="En Progreso"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`},r.status)}];return v.createElement(ml,{title:"Mantenimientos",collectionName:"maintenance",fields:Mce,...t,data:t.appData.maintenance,renderItem:r=>gl({...r,fields:n,itemType:"Maintenance"})})},Bce=({isOpen:t,onClose:e,template:n,appData:r,orgId:i,userProfile:a,organizationData:o})=>{const[u,c]=z.useState(""),[f,d]=z.useState(""),[p,y]=z.useState(!1),[_,x]=z.useState(!1),E=z.useContext(ia),b=z.useMemo(()=>(r.rentals||[]).filter(A=>A.status==="Activo"),[r.rentals]),C=async()=>{if(!u){E({title:"Error",message:"Por favor, selecciona un contrato de alquiler."});return}y(!0);const A=gt(r.rentals,u),L=gt(r.tenants,A.tenantId),I=gt(r.properties,A.propertyId),N=`
            Actúa como un asistente legal experto. A continuación te proporciono una plantilla de contrato y los datos específicos de un nuevo alquiler.
            Tu tarea es tomar la plantilla y rellenarla con los datos proporcionados para generar un contrato finalizado y personalizado.
            Asegúrate de reemplazar todos los placeholders (ej. [NOMBRE_INQUILINO], [DIRECCION_PROPIEDAD]) con la información correcta.
            Valida que la dirección de la propiedad sea coherente y esté bien formada.
            El resultado debe ser únicamente el texto completo del contrato nuevo en formato Markdown.
        `,P={plantilla:n.content,datos_del_alquiler:{"[NOMBRE_INQUILINO]":L.name,"[DNI_INQUILINO]":L.dni,"[DOMICILIO_INQUILINO]":L.domicilio,"[EMAIL_INQUILINO]":L.email,"[TELEFONO_INQUILINO]":L.phone,"[NOMBRE_PROPIEDAD]":I.name,"[DIRECCION_PROPIEDAD]":I.address,"[DESCRIPCION_DETALLADA_INMUEBLE]":I.detailedDescription||"No especificada","[DETALLES_DEPARTAMENTO]":A.departmentDetails||"No especificado","[TIPO_PROPIEDAD]":I.type,"[FECHA_INICIO_CONTRATO]":Bt(A.startDate),"[FECHA_FIN_CONTRATO]":Bt(A.endDate),"[MONTO_ALQUILER_NUMERO]":A.rentAmount}},{success:O,data:M}=await dd(N,o?.geminiApiKey,P);O?d(M):E({title:"Error de IA",message:M}),y(!1)},k=async()=>{if(!f||!u){E({title:"Error",message:"No hay contenido generado para guardar o no se ha seleccionado un alquiler."});return}x(!0);try{const A=cn(bt,`organizations/${i}/rentals`,u),L={content:f,templateId:n.id,templateName:n.name,rentalId:u,createdAt:new Date().toISOString(),createdBy:a.email};await bc(er(A,"generatedContracts"),L),await br(i,a,"GENERATE_CONTRACT_FROM_TEMPLATE","Plantillas",{rentalId:u,templateId:n.id}),E({title:"Éxito",message:"Contrato generado y guardado exitosamente."}),e()}catch(A){console.error("Error al guardar el contrato generado:",A),E({title:"Error",message:"Hubo un error al guardar el contrato."})}x(!1)};return v.createElement(ar,{isOpen:t,onClose:e,title:`Generar Contrato desde: "${n?.name}"`,size:"6xl"},v.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},v.createElement("div",{className:"space-y-4"},v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"1. Selecciona el Alquiler")),v.createElement(Ht,null,v.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Elige el contrato activo para el cual se generará este documento."),v.createElement(nl,{value:u,onChange:A=>c(A.target.value)},v.createElement("option",{value:"",disabled:!0},"Seleccionar un alquiler..."),b.map(A=>{const L=gt(r.tenants,A.tenantId),I=gt(r.properties,A.propertyId);return v.createElement("option",{key:A.id,value:A.id},L.name," en ",I.name)})))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"2. Genera con IA")),v.createElement(Ht,null,v.createElement("p",{className:"text-sm text-gray-600 mb-4"},"La IA usará la plantilla y los datos del alquiler para crear el contrato. Podrás revisarlo antes de guardar."),v.createElement(Ce,{className:"w-full",onClick:C,disabled:!u||p||!o?.geminiApiKey},p?v.createElement(v.Fragment,null,v.createElement(Nn,{className:"mr-2"})," Generando..."):v.createElement(v.Fragment,null,v.createElement(Hx,{className:"mr-2 h-4 w-4"}),"Generar Contrato")),!o?.geminiApiKey&&v.createElement("p",{className:"text-xs text-red-500 mt-2"},"Se requiere una clave de API de Gemini. Ve a Ajustes."))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"3. Guarda el Documento")),v.createElement(Ht,null,v.createElement("p",{className:"text-sm text-gray-600 mb-4"},"Una vez revisado, guarda el contrato. Quedará asociado al alquiler seleccionado."),v.createElement(Ce,{className:"w-full",variant:"success",onClick:k,disabled:!f||_},_?v.createElement(v.Fragment,null,v.createElement(Nn,{className:"mr-2"})," Guardando..."):v.createElement(v.Fragment,null,v.createElement(T6,{className:"mr-2 h-4 w-4"}),"Guardar Contrato Final"))))),v.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},v.createElement("h3",{className:"font-semibold text-lg mb-2"},"Contrato Generado"),p&&v.createElement("div",{className:"flex justify-center items-center h-full"},v.createElement(Nn,{className:"h-8 w-8"})),!p&&f&&v.createElement("div",{className:"prose prose-sm max-w-full h-[55vh] overflow-y-auto bg-white p-4 border rounded-md",dangerouslySetInnerHTML:{__html:oc(f)}}),!p&&!f&&v.createElement("div",{className:"flex justify-center items-center h-full text-center text-gray-500"},v.createElement("p",null,"El contenido del contrato aparecerá aquí después de generarlo.")))))},zce=t=>{const[e,n]=z.useState(!1),[r,i]=z.useState(null),a=c=>{i(c),n(!0)},o=()=>{i(null),n(!1)},u=c=>v.createElement(Ce,{onClick:f=>{f.stopPropagation(),a(c)},variant:"outline",className:"text-blue-600 border-blue-300 hover:bg-blue-50 text-xs px-2 py-1 gap-1"},v.createElement(I6,{size:14})," Usar");return v.createElement("div",null,v.createElement(ml,{title:"Plantillas de Contrato",collectionName:"contractTemplates",fields:dL,...t,data:t.appData.contractTemplates,renderItem:c=>gl({...c,fields:dL.filter(f=>f.name!=="content"),itemType:"Template",customActions:u})}),e&&v.createElement(Bce,{isOpen:e,onClose:o,template:r,appData:t.appData,orgId:t.orgId,userProfile:t.userProfile,organizationData:t.organizationData}))},Hce=({userProfile:t,organizationData:e})=>{const[n,r]=z.useState({geminiApiKey:e?.geminiApiKey||"",managerPhoneNumber:e?.managerPhoneNumber||""}),[i,a]=z.useState(!1),[o,u]=z.useState("");z.useEffect(()=>{r({geminiApiKey:e?.geminiApiKey||"",managerPhoneNumber:e?.managerPhoneNumber||""})},[e]);const c=d=>{const{name:p,value:y}=d.target;r(_=>({..._,[p]:y}))},f=async d=>{d.preventDefault(),a(!0),u("");try{const p=cn(bt,"organizations",t.orgId);await Fh(p,{geminiApiKey:n.geminiApiKey,managerPhoneNumber:n.managerPhoneNumber}),u("¡Ajustes guardados correctamente!")}catch(p){console.error("Error al guardar los ajustes:",p),u("Error al guardar los ajustes. Inténtalo de nuevo.")}a(!1),setTimeout(()=>u(""),3e3)};return v.createElement("div",null,v.createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-6"},"Ajustes"),v.createElement("form",{onSubmit:f},v.createElement(zt,{className:"mb-6"},v.createElement(Rn,null,v.createElement(wn,null,"Configuración de API de IA")),v.createElement(Ht,null,v.createElement("div",null,v.createElement("label",{htmlFor:"gemini-api-key",className:"text-sm font-medium"},"Clave de API de Google Gemini"),v.createElement("p",{className:"text-xs text-gray-500 mb-2"},"Esta clave es necesaria para todas las funciones de inteligencia artificial."),v.createElement(Oi,{id:"gemini-api-key",name:"geminiApiKey",type:"password",value:n.geminiApiKey,onChange:c,placeholder:"Ingresa tu clave de API aquí"})))),v.createElement(zt,null,v.createElement(Rn,null,v.createElement(wn,null,"Configuración de Comunicaciones")),v.createElement(Ht,null,v.createElement("div",null,v.createElement("label",{htmlFor:"manager-phone",className:"text-sm font-medium"},"Número de WhatsApp del Gestor"),v.createElement("p",{className:"text-xs text-gray-500 mb-2"},"Incluye el código de país. Ej: 51987654321"),v.createElement(Oi,{id:"manager-phone",name:"managerPhoneNumber",type:"tel",value:n.managerPhoneNumber,onChange:c,placeholder:"Número para contacto de inquilinos"})))),v.createElement("div",{className:"flex items-center gap-4 mt-6"},v.createElement(Ce,{type:"submit",disabled:i},i?v.createElement(Nn,null):"Guardar Ajustes"),o&&v.createElement("p",{className:`text-sm ${o.includes("Error")?"text-red-500":"text-green-600"}`},o))))},Wce=({children:t})=>{const[e,n]=z.useState([]),r=z.useCallback((a,o="info")=>{const u=Date.now();n(c=>[...c,{id:u,message:a,type:o}]),setTimeout(()=>{n(c=>c.filter(f=>f.id!==u))},5e3)},[]),i=a=>{n(o=>o.filter(u=>u.id!==a))};return v.createElement(J3.Provider,{value:r},t,v.createElement("div",{className:"fixed top-4 right-4 z-[100] space-y-2"},e.map(a=>v.createElement("div",{key:a.id,className:"max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-black ring-opacity-5 overflow-hidden"},v.createElement("div",{className:"p-4"},v.createElement("div",{className:"flex items-start"},v.createElement("div",{className:"flex-shrink-0"},v.createElement(xL,{className:"h-6 w-6 text-blue-400"})),v.createElement("div",{className:"ml-3 w-0 flex-1 pt-0.5"},v.createElement("p",{className:"text-sm font-medium text-gray-900"},"Nueva Notificación"),v.createElement("p",{className:"mt-1 text-sm text-gray-500"},a.message)),v.createElement("div",{className:"ml-4 flex-shrink-0 flex"},v.createElement("button",{onClick:()=>i(a.id),className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},v.createElement("span",{className:"sr-only"},"Close"),v.createElement(Wx,{className:"h-5 w-5"})))))))))},Gce=({children:t})=>{const[e,n]=z.useState({isOpen:!1}),r=z.useRef(null),i=z.useCallback(u=>(n({isOpen:!0,...u}),new Promise(c=>{r.current=c})),[]),a=()=>{r.current&&r.current(!1),n({isOpen:!1})},o=()=>{r.current&&r.current(!0),n({isOpen:!1})};return v.createElement(ia.Provider,{value:i},t,v.createElement(ar,{isOpen:e.isOpen,onClose:a,title:e.title||"Notificación",size:"sm"},v.createElement("div",{className:"text-center"},e.isDestructive?v.createElement(fm,{className:"mx-auto h-12 w-12 text-red-500"}):v.createElement(xL,{className:"mx-auto h-12 w-12 text-blue-500"}),v.createElement("p",{className:"mt-4 text-gray-600"},e.message)),v.createElement("div",{className:"flex justify-center gap-4 mt-6"},e.confirmText&&v.createElement(Ce,{variant:"outline",onClick:a},"Cancelar"),v.createElement(Ce,{variant:e.isDestructive?"destructive":"default",onClick:o},e.confirmText||"Aceptar"))))};function Kce(){const[t,e]=z.useState(null),[n,r]=z.useState(!0),[i,a]=z.useState({properties:[],tenants:[],rentals:[],payments:[],maintenance:[],expenses:[],logs:[],contractTemplates:[]}),[o,u]=z.useState(null),[c,f]=z.useState("dashboard"),d=z.useContext(J3),p=z.useRef([]),y=z.useRef(i),_=z.useRef(!0);z.useEffect(()=>{y.current=i},[i]),z.useEffect(()=>{const A=vie(Nf,async L=>{if(r(!0),L)try{const I=cn(bt,"users",L.uid),N=await I3(I);if(N.exists())e({...N.data(),uid:L.uid,email:L.email});else{const P=Tle(bt,"tenants"),O=Si(P,vu("uid","==",L.uid)),M=await jle(O);if(M.empty)console.log("Usuario autenticado pero sin perfil válido. Cerrando sesión."),DE(Nf).catch(console.error),e(null);else{const F=M.docs[0],D=F.ref.parent.parent.id;e({email:L.email,uid:L.uid,role:"Tenant",tenantDocId:F.id,orgId:D})}}}catch(I){console.error("Error al obtener el perfil del usuario:",I),DE(Nf).catch(console.error),e(null)}else e(null);r(!1)});return()=>A()},[]),z.useEffect(()=>{if(!t?.orgId||!d){a({properties:[],tenants:[],rentals:[],payments:[],maintenance:[],expenses:[],logs:[],contractTemplates:[]}),u(null);return}const A=t.orgId,L=cn(bt,"organizations",A),I=Qr(L,O=>{O.exists()&&u(O.data())});if(t.role==="Tenant")return()=>I();const P=["properties","tenants","rentals","payments","maintenance","expenses","logs","contractTemplates"].map(O=>{const M=er(bt,`organizations/${A}/${O}`),F=O==="logs"?Si(M,Au("timestamp","desc")):Si(M);return Qr(F,D=>{const V=D.docs.map(j=>({...j.data(),id:j.id}));if(O==="maintenance"){if(!_.current){const j=new Set(p.current.map(J=>J.id));V.filter(J=>!j.has(J.id)).forEach(J=>{const ie=gt(y.current.properties,J.propertyId);d(`Nueva solicitud para: ${ie?.name||"Propiedad Desconocida"}`)})}p.current=V}a(j=>({...j,[O]:V}))},D=>console.error(`Error escuchando a ${O}:`,D))});return setTimeout(()=>{_.current=!1},3e3),()=>{P.forEach(O=>O()),I()}},[t?.orgId,d]);const x=async()=>{await DE(Nf)},E=async(A,L)=>{if(!t?.orgId)return;const I=cn(bt,`organizations/${t.orgId}/payments`,A.id);try{const N={status:A.status},P={status:L};await Fh(I,P),await br(t.orgId,t,"UPDATE_PAYMENT_STATUS","Pagos",{paymentId:A.id,before:N,after:P})}catch(N){console.error("Error updating payment status: ",N)}},b=async(A,L)=>{if(!t?.orgId)return;const I=cn(bt,`organizations/${t.orgId}/expenses`,A.id);try{const N={status:A.status},P={status:L};await Fh(I,P),await br(t.orgId,t,"UPDATE_EXPENSE_STATUS","Gastos",{expenseId:A.id,before:N,after:P})}catch(N){console.error("Error updating expense status: ",N)}},C=({pendingMaintenanceCount:A})=>{const[L,I]=z.useState(!1),[N,P]=z.useState(null);z.useEffect(()=>{const V=["https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js","https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js","https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js","https://cdn.jsdelivr.net/npm/html-to-docx@1.8.0/dist/html-to-docx.js"],j=K=>new Promise((J,ie)=>{if(document.querySelector(`script[src="${K}"]`))return J();const re=document.createElement("script");re.src=K,re.async=!0,re.onload=J,re.onerror=()=>ie(new Error(`No se pudo cargar el script: ${K}`)),document.head.appendChild(re)});Promise.all(V.map(j)).then(()=>I(!0)).catch(K=>{console.error("Fallo al cargar las librerías externas:",K.message),P(K.message)})},[]);const M=[{icon:O6,label:"Panel Principal",page:"dashboard"},{icon:P0,label:"Propiedades",page:"properties"},{icon:N6,label:"Inquilinos",page:"tenants"},{icon:EL,label:"Contratos",page:"rentals"},{icon:qx,label:"Plantillas",page:"templates"},{icon:wL,label:"Pagos",page:"payments"},{icon:R6,label:"Gastos",page:"expenses"},{icon:M6,label:"Mantenimiento",page:"maintenance"},{icon:vL,label:"Co-piloto IA",page:"ai_copilot"},{icon:IL,label:"Equipo",page:"team",roles:["Admin"]},{icon:_L,label:"Actividad",page:"logs",roles:["Admin"]},{icon:Bx,label:"Ajustes",page:"settings"}].filter(V=>!V.roles||V.roles.includes(t.role)),F=()=>{const V={appData:i,organizationData:o,orgId:t.orgId,userProfile:t,handlePaymentStatusChange:E,handleExpenseStatusChange:b};switch(c){case"dashboard":return v.createElement(Pce,{...V});case"properties":return v.createElement(Dce,{...V});case"tenants":return v.createElement(Lce,{...V});case"rentals":return v.createElement(Vce,{...V});case"templates":return v.createElement(zce,{...V});case"payments":return v.createElement(Fce,{...V});case"expenses":return v.createElement(Uce,{...V});case"maintenance":return v.createElement(qce,{...V});case"ai_copilot":return v.createElement(kce,{...V});case"team":return v.createElement(Cce,{...V});case"logs":return v.createElement(Rce,{...V});case"settings":return v.createElement(Hce,{userProfile:t,organizationData:o});default:return v.createElement(ni,{icon:P0,title:"Página no encontrada"})}},D=({icon:V,label:j,page:K,badge:J})=>v.createElement("button",{onClick:()=>f(K),className:`flex items-center w-full px-4 py-2 text-sm font-medium rounded-lg transition-colors relative ${c===K?"bg-slate-900 text-white":"text-gray-600 hover:bg-gray-100"}`},v.createElement(V,{className:"mr-3 h-5 w-5"}),v.createElement("span",null,j),J>0&&v.createElement("span",{className:"ml-auto inline-flex items-center justify-center h-5 w-5 text-xs font-semibold rounded-full bg-red-600 text-white"},J));return v.createElement(Xy.Provider,{value:{libsLoaded:L}},v.createElement("div",{className:"flex h-screen bg-gray-50 font-sans"},v.createElement("aside",{className:"w-64 flex-shrink-0 bg-white border-r p-4 flex flex-col justify-between"},v.createElement("div",null,v.createElement("div",{className:"flex items-center gap-2 px-4 mb-6"},v.createElement(P0,{className:"h-8 w-8 text-slate-900"}),v.createElement("h2",{className:"text-xl font-bold"},"GestorPro")),v.createElement("nav",{className:"space-y-1"},M.map(V=>v.createElement(D,{key:V.page,...V,badge:V.page==="maintenance"?A:0})))),v.createElement("div",{className:"px-2 pt-4 border-t"},v.createElement("p",{className:"text-sm font-semibold truncate"},t.email),v.createElement("p",{className:"text-xs text-gray-500"},"Rol: ",t.role),v.createElement(Ce,{variant:"ghost",className:"w-full justify-start mt-2",onClick:x},v.createElement(TL,{className:"mr-2",size:16}),"Cerrar Sesión"))),v.createElement("main",{className:"flex-1 overflow-y-auto p-8"},N&&v.createElement("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-md",role:"alert"},v.createElement("p",{className:"font-bold"},"Error de Carga"),v.createElement("p",null,"No se pudieron cargar algunas librerías externas. La exportación de documentos podría no funcionar.")),F())))},k=z.useMemo(()=>i.maintenance.filter(A=>A.status==="Pendiente").length,[i.maintenance]);return n?v.createElement(tU,{message:"Verificando sesión..."}):v.createElement(v.Fragment,null,t?t.role==="Tenant"?v.createElement(Ice,{userProfile:t,onLogout:x,organizationData:o}):v.createElement(C,{pendingMaintenanceCount:k}):v.createElement(xce,null))}const Xce=({isOpen:t,onClose:e,images:n})=>t?v.createElement(ar,{isOpen:t,onClose:e,title:"Fotos de Evidencia",size:"4xl"},v.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},n.map((r,i)=>v.createElement("div",{key:i,className:"w-full h-64 bg-gray-200 rounded-lg overflow-hidden"},v.createElement("img",{src:r,alt:`Evidencia ${i+1}`,className:"w-full h-full object-cover"}))))):null;function Qce(){return v.createElement(Gce,null,v.createElement(Wce,null,v.createElement(Kce,null)))}p6.createRoot(document.getElementById("root")).render(v.createElement(v.StrictMode,null,v.createElement(Qce,null)));
